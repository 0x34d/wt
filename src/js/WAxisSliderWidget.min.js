WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WAxisSliderWidget",function(F,j,l,g){function u(a){return a.pointerType===2||a.pointerType===3||a.pointerType==="pen"||a.pointerType==="touch"}function D(){G(l.repaint)}function q(){D();var a=g.transform,b=a[4]/g.drawArea[2];g.chart.setXRange(g.series,b,a[0]+b)}function v(a,b,c){return a.y>=w(b)&&a.y<=x(b)&&a.x>y(b)-c/2&&a.x<y(b)+c/2}function z(a,b,c){return a.y>=w(b)&&a.y<=x(b)&&a.x>A(b)-c/2&&a.x<A(b)+c/2}function r(a,b){return a.y>=w(b)&&a.y<=x(b)&&
a.x>y(b)&&a.x<A(b)}function B(a){var b=g.transform,c=g.drawArea,f=b[4]/c[2];b=b[0]+f;a=(f*c[2]+a)/c[2];if(!(1/(b-a)>g.chart.config.maxZoom[0])){if(a<0)a=0;if(a>1)a=1;n.changeRange(a,b);q()}}function C(a){var b=g.transform,c=g.drawArea,f=b[4]/c[2];a=((b[0]+f)*c[2]+a)/c[2];if(!(1/(a-f)>g.chart.config.maxZoom[0])){if(a<0)a=0;if(a>1)a=1;n.changeRange(f,a);q()}}function E(a){var b=g.transform,c=g.drawArea,f=b[4]/c[2];b=b[0]+f;f=f*c[2];var d=f+a;if(d<0){a=-f;d=0}d=d/c[2];b=b*c[2];a=b+a;if(a>c[2]){a=c[2]-
b;d=f+a;d=d/c[2];a=c[2]}n.changeRange(d,a/c[2]);q()}var G=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,0)}}();jQuery.data(j,"sobj",this);var n=this,e=F.WT;l.canvas.style.msTouchAction="none";var m=false;if(!window.TouchEvent&&(window.MSPointerEvent||window.PointerEvent))(function(){function a(){if(pointers.length>0&&!m)m=true;else if(pointers.length<=0&&m)m=false}function b(d){if(u(d)){d.preventDefault();
pointers.push(d);a();n.touchStarted(j,{touches:pointers.slice(0)})}}function c(d){if(m)if(u(d)){d.preventDefault();var k;for(k=0;k<pointers.length;++k)if(pointers[k].pointerId===d.pointerId){pointers.splice(k,1);break}a();n.touchEnded(j,{touches:pointers.slice(0),changedTouches:[]})}}function f(d){if(u(d)){d.preventDefault();var k;for(k=0;k<pointers.length;++k)if(pointers[k].pointerId===d.pointerId){pointers[k]=d;break}a();n.touchMoved(j,{touches:pointers.slice(0)})}}pointers=[];if(window.PointerEvent){j.addEventListener("pointerdown",
b);j.addEventListener("pointerup",c);j.addEventListener("pointerout",c);j.addEventListener("pointermove",f)}else{j.addEventListener("MSPointerDown",b);j.addEventListener("MSPointerUp",c);j.addEventListener("MSPointerOut",c);j.addEventListener("MSPointerMove",f)}})();var y=e.gfxUtils.rect_left,A=e.gfxUtils.rect_right,w=e.gfxUtils.rect_top,x=e.gfxUtils.rect_bottom,h=null,i=null;this.changeRange=function(a,b){if(a<0)a=0;if(b>1)b=1;var c=g.drawArea;g.transform[0]=b-a;g.transform[4]=a*c[2];D()};this.mouseDown=
function(a,b){if(!m){h=e.widgetCoordinates(j,b);a=g.rect();if(v(h,a,10))i=1;else if(z(h,a,10))i=3;else if(r(h,a))i=2;else{i=null;return}e.cancelEvent(b)}};this.mouseUp=function(a,b){if(!m){h=null;if(i!==null){i=null;e.cancelEvent(b)}}};this.mouseDrag=function(a,b){if(!m)if(i){e.cancelEvent(b);a=e.widgetCoordinates(j,b);if(h===null)h=a;else{b=a.x-h.x;switch(i){case 1:B(b);break;case 2:E(b);break;case 3:C(b);break}h=a;q()}}};this.mouseMoved=function(a,b){setTimeout(function(){if(!m)if(!i){var c=e.widgetCoordinates(j,
b),f=g.rect();l.canvas.style.cursor=v(c,f,10)||z(c,f,10)?"col-resize":r(c,f)?"move":"auto"}},0)};var p=false,o=false,s=null;this.touchStarted=function(a,b){p=b.touches.length===1;o=b.touches.length===2;if(p){h=e.widgetCoordinates(l.canvas,b.touches[0]);a=g.rect();if(v(h,a,20))i=1;else if(z(h,a,20))i=3;else if(r(h,a))i=2;else{i=null;return}e.capture(null);e.capture(l.canvas);b.preventDefault&&b.preventDefault()}else if(o){i=null;var c=[e.widgetCoordinates(l.canvas,b.touches[0]),e.widgetCoordinates(l.canvas,
b.touches[1])];a=g.rect();if(r(c[0],a)&&r(c[1],a)){s=Math.abs(c[0].x-c[1].x);e.capture(null);e.capture(l.canvas);b.preventDefault&&b.preventDefault()}}};this.touchEnded=function(a,b){var c=Array.prototype.slice.call(b.touches);a=p;var f=o,d=c.length===0;p=c.length===1;o=c.length===2;d||function(){var k;for(k=0;k<b.changedTouches.length;++k)(function(){for(var H=b.changedTouches[k].identifier,t=0;t<c.length;++t)if(c[t].identifier===H){c.splice(t,1);return}})()}();d=c.length===0;p=c.length===1;o=c.length===
2;if(d&&a){h=null;if(i===null)return;i=null;e.cancelEvent(b)}if(p&&f){o=false;s=null;e.cancelEvent(b);n.touchStarted(j,b)}if(d&&f){o=false;s=null;e.cancelEvent(b)}};this.touchMoved=function(a,b){if(i){e.cancelEvent(b);a=e.widgetCoordinates(j,b);if(h===null)h=a;else{b=a.x-h.x;switch(i){case 1:B(b);break;case 2:E(b);break;case 3:C(b);break}h=a;q()}}else if(o){touches=[e.widgetCoordinates(l.canvas,b.touches[0]),e.widgetCoordinates(l.canvas,b.touches[1])];g.rect();a=Math.abs(touches[0].x-touches[1].x);
b=a-s;B(-b/2);C(b/2);s=a}};this.updateConfig=function(a){for(var b in a)if(a.hasOwnProperty(b))g[b]=a[b];l.repaint()};n.updateConfig({})});
