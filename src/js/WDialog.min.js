WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WDialog",(function(t,e,i,s,o,l,n,a,r){e.wtObj=this;var y,f,h=this,d=$(e).find(".dialog-layout").get(0),p=t.WT,u=-1,x=-1,c=-1,w=-1,g=!1,m=-1,v=-1,z=-1,b=-1;function P(){if(n){var i=p.pxself(e,"left"),s=p.pxself(e,"top");if(i!=u||s!=x){u=i;x=s;t.emit(e,n,u,x)}}}function S(i,s){if(!g&&(i!=c||s!=w)){c=i;w=s;a&&t.emit(e,a,c,w)}}function M(t){var i=t||window.event,s=p.pageCoordinates(i),n=p.windowCoordinates(i),a=p.windowSize();if(n.x>0&&n.x<a.x&&n.y>0&&n.y<a.y){o=l=!1;if("auto"===e.style.right||""===e.style.right){e.style.left=p.px(e,"left")+s.x-y+"px";e.style.right=""}else{e.style.right=p.px(e,"right")+y-s.x+"px";e.style.left="auto"}if("auto"===e.style.bottom||""===e.style.bottom){e.style.top=p.px(e,"top")+s.y-f+"px";e.style.bottom=""}else{e.style.bottom=p.px(e,"bottom")+f-s.y+"px";e.style.top="auto"}y=s.x;f=s.y}}if(i&&s){i.onmousedown=function(t){var e=t||window.event;p.capture(i);var s=p.pageCoordinates(e);y=s.x;f=s.y;i.onmousemove=M};i.onmouseup=function(t){i.onmousemove=null;P();p.capture(null)}}this.centerDialog=function(){var t=p.parsePct(p.css(e,"max-width"),0),s=p.parsePct(p.css(e,"max-height"),0);if(0!==t){var n=p.windowSize(),a=d.firstChild.wtLayout;a&&a.setMaxSize&&a.setMaxSize(n.x*t/100,n.y*s/100)}if(null!=e.parentNode){if("none"!=e.style.display){n=p.windowSize();var r=e.offsetWidth,y=e.offsetHeight;-1!=m&&(o=!0);-1!=v&&(l=!0);if(o){e.style.left=Math.round((n.x-r)/2+(p.isIE6?document.documentElement.scrollLeft:0))+"px";e.style.marginLeft="0px"}if(l){e.style.top=Math.round((n.y-y)/2+(p.isIE6?document.documentElement.scrollTop:0))+"px";e.style.marginTop="0px"}""!=e.style.position&&(e.style.visibility="visible");P()}}else e=i=null};function W(){return p.windowSize().x*m/100}function E(){return p.windowSize().y*v/100}this.bringToFront=function(){var i=p.maxZIndex();if(i>e.style.zIndex){var s=i+1;e.style.zIndex=s;t.emit(e,r,s)}};this.onresize=function(i,s,n){o=l=!1;g=!n;!function(t,i,s,o){if(o){i>0&&(d.style.width=i+p.parsePx($(d).css("borderLeftWidth"))+p.parsePx($(d).css("borderRightWidth"))+"px");s>0&&(d.style.height=s+p.parsePx($(d).css("borderTopWidth"))+p.parsePx($(d).css("borderBottomWidth"))+"px")}h.centerDialog();e.wtResize&&e.wtResize(e,i,s,!0)}(0,i,s,!0);var a=d.firstChild.wtLayout;a&&a.setMaxSize&&a.setMaxSize(0,0);t.layouts2&&t.layouts2.scheduleAdjust();n&&S(i,s)};d.wtResize=function(t,i,s,o){""==e.style.position&&(e.style.position=p.isIE6?"absolute":"fixed");e.style.visibility="visible";p.windowSize();v=p.parsePct(e.style.height,v);m=p.parsePct(e.style.width,m);if(o){e.style.height=Math.max(0,s)+"px";e.style.width=Math.max(0,i)+"px"}S(i,s);h.centerDialog();var l=-1!=m,n=-1!=v;if(l&&n){z=W();b=E();h.onresize(z,b,!0)}else if(l){z=W();h.onresize(z,s,!0)}else if(n){b=E();h.onresize(i,b,!0)}};e.wtPosition=function(){h.centerDialog();t.layouts2&&t.layouts2.adjust()};""!=e.style.width&&(p.parsePx(e.style.width)>0?d.style.width=e.style.width:d.style.width=e.offsetWidth+"px");""!=e.style.height&&(p.parsePx(e.style.height)>0?d.style.height=e.style.height:d.style.height=e.offsetHeight+"px");h.centerDialog()}));