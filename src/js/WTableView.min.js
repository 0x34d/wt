WT_DECLARE_WT_MEMBER(1,"WTableView",function(m,c,g,n){function p(a){var b=-1,d=false,i=false,h=null;for(a=a.target||a.srcElement;a;){var e=$(a);if(e.hasClass("Wt-tv-contents"))break;else if(e.hasClass("Wt-tv-c")){if(a.getAttribute("drop")==="true")i=true;if(e.hasClass("Wt-selected"))d=true;h=a;a=a.parentNode;b=a.className.split(" ")[0].substring(7)*1;break}a=a.parentNode}return{columnId:b,rowIdx:-1,selected:d,drop:i,el:h}}function q(a,b){var d=a.className.split(" ")[0],i=d.substring(7)*1,h=n.firstChild,
e=g.firstChild;d=$(e).find("."+d).get(0);var k=a.nextSibling,l=d.nextSibling,o=f.pxself(a,"width")-1+b;h.style.width=e.style.width=f.pxself(h,"width")+b+"px";a.style.width=o+1+"px";for(d.style.width=o+7+"px";k;k=k.nextSibling){k.style.left=f.pxself(k,"left")+b+"px";if(l){l.style.left=f.pxself(l,"left")+b+"px";l=l.nextSibling}}m.emit(c,"columnResized",i,o)}jQuery.data(c,"obj",this);var f=m.WT;this.mouseDown=function(a,b){f.capture(null);a=p(b);c.getAttribute("drag")==="true"&&a.selected&&m._p_.dragStart(c,
b)};this.resizeHandleMDown=function(a,b){var d=a.parentNode.parentNode,i=-(f.pxself(d,"width")-1);new f.SizeHandle(f,"h",a.offsetWidth,c.offsetHeight,i,1E4,"Wt-hsh",function(h){q(d,h)},a,c,b,-2,-1)};var j=null;c.handleDragDrop=function(a,b,d,i,h){if(j){j.className=j.classNameOrig;j=null}if(a!="end"){var e=p(d);if(!e.selected&&e.drop)if(a=="drop")m.emit(c,{name:"dropEvent",eventObject:b,event:d},e.rowIdx,e.columnId,i,h);else{b.className="Wt-valid-drop";j=e.el;j.classNameOrig=j.className;j.className+=
" Wt-drop-site"}else b.className=""}};this.autoJavaScript=function(){if(c.parentNode==null){c=g=n=null;this.autoJavaScript=function(){}}else if(!f.isHidden(c)){var a=c.offsetWidth-f.px(c,"borderLeftWidth")-f.px(c,"borderRightWidth"),b=g.scrollHeight>g.offsetHeight;if(a>200&&(a!=g.tw||b!=g.vscroll)){g.vscroll=b;g.tw=a;g.style.width=a+"px";n.style.width=a-(b?19:0)+"px"}}}});
