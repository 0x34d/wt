WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WTableView",(function(t,e,l,i,o,s,n){e.wtObj=this;var r=this,c=t.WT;let a=document.body.classList.contains("Wt-rtl");function d(t){return a?c.isGecko?-t.scrollLeft:t.scrollWidth-t.clientWidth-t.scrollLeft:t.scrollLeft}var h=0,f=0,u=0,p=0,g=0,m=0===i,v=!1,y=!1,T=0,b=0,w=0,N=0;this.onContentsContainerScroll=function(){b=o.scrollLeft=l.scrollLeft;T=s.scrollTop=l.scrollTop;l.clientWidth&&l.clientHeight&&0===g&&(l.scrollTop<u||l.scrollTop>p||l.scrollLeft<h||l.scrollLeft>f)&&t.emit(e,"scrolled",Math.round(d(l)),Math.round(l.scrollTop),Math.round(l.clientWidth),Math.round(l.clientHeight))};l.wtResize=function(l,o,s,n){if(!m){l.scrollTop=i;l.onscroll();m=!0}if(o-w>(f-h)/2||s-N>(p-u)/2){w=o;N=s;var r=l.clientHeight==l.firstChild.offsetHeight?-1:l.clientHeight;t.emit(e,"scrolled",Math.round(d(l)),Math.round(l.scrollTop),Math.round(l.clientWidth),Math.round(r))}};function x(t){for(var e=-1,l=-1,i=!1,o=!1,s=null,r=c.target(t);r&&!r.classList.contains("Wt-tv-contents");){if(r.classList.contains("Wt-tv-c")){"true"===r.getAttribute("drop")&&(o=!0);r.classList.contains(n)&&(i=!0);s=r;e=1*(r=r.parentNode).className.split(" ")[0].substring(7);l=L(r);break}r=r.parentNode}return{columnId:e,rowIdx:l,selected:i,drop:o,el:s}}function E(){return c.pxself(l.firstChild,"lineHeight")}function L(t){var e,l,i=t.parentNode.childNodes;for(e=0,l=i.length;e<l;++e)if(i[e]==t)return e;return-1}var W,C=null;this.mouseDown=function(l,i){c.capture(null);var o=x(i);if(!i.ctrlKey&&!i.shiftKey){var s={ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,target:i.target,srcElement:i.srcElement,type:i.type,which:i.which,touches:i.touches,changedTouches:i.changedTouches,pageX:i.pageX,pageY:i.pageY,clientX:i.clientX,clientY:i.clientY};C=setTimeout((function(){"true"===e.getAttribute("drag")&&function(t){return t.el.classList.contains(n)}(o)&&t._p_.dragStart(e,s)}),400)}};this.mouseUp=function(t,e){clearTimeout(C)};this.resizeHandleMDown=function(i,n){var a=i.parentNode,d=-(c.pxself(a,"width")-1),h=1e4;if(document.body.classList.contains("Wt-rtl")){var f=d;d=-h;h=-f}new c.SizeHandle(c,"h",i.offsetWidth,e.offsetHeight,d,h,"Wt-hsh2",(function(i){!function(i,n){let a=document.body.classList.contains("Wt-rtl");a&&(n=-n);var d=i.className.split(" ")[0],h=1*d.substring(7),f=i.parentNode,u=f.parentNode!==o,p=u?s.firstChild:l.firstChild,g=p.firstChild,m=p.querySelector("."+d),v=i.nextSibling,y=m.nextSibling,T=c.pxself(i,"width")-1+n,b=c.pxself(f,"width")+n+"px";f.style.width=p.style.width=g.style.width=b;if(u){s.style.width=b;s.firstChild.style.width=b;l.style.left=b;o.style.left=b}i.style.width=T+1+"px";m.style.width=T+7+"px";t.layouts2.adjust(e.childNodes[0].id,[[1,1]]);for(;v;v=v.nextSibling)if(y){a?y.style.right=c.pxself(y,"right")+n+"px":y.style.left=c.pxself(y,"left")+n+"px";y=y.nextSibling}t.emit(e,"columnResized",h,parseInt(T));r.autoJavaScript()}(a,i)}),i,e,n,-2,-1)};var S=0;this.touchStart=function(t,e){x(e);if(!e.ctrlKey&&!e.shiftKey)e.ctrlKey,e.shiftKey,e.target,e.srcElement,e.type,e.which,e.touches,e.changedTouches,e.pageX,e.pageY,e.clientX,e.clientY;if(e.touches.length>1){clearTimeout(W);W=setTimeout((function(){k(t,e)}),1e3);S=e.touches.length}else{clearTimeout(W);W=setTimeout((function(){k(t,e)}),50);S=1}};function k(l,i){t.emit(e,{name:"itemTouchSelectEvent",eventObject:l,event:i})}this.touchMove=function(t,e){1==e.touches.length&&W&&clearTimeout(W)};this.touchEnd=function(t,e){W&&1!=S&&clearTimeout(W)};this.scrolled=function(t,e,l,i){h=t;f=e;u=l;p=i};this.resetScroll=function(){o.scrollLeft=b;l.scrollLeft=b;l.scrollTop=T;s.scrollTop=T};this.setScrollToPending=function(){g+=1};this.scrollToPx=function(t,e){T=e;b=t;this.resetScroll()};this.scrollTo=function(t,e,i){g>0&&(g-=1);if(-1!=e){var o=l.scrollTop,s=l.clientHeight;0==i&&(o+s<e?i=1:e<o&&(i=2));switch(i){case 1:l.scrollTop=e;break;case 2:l.scrollTop=e-(s-E());break;case 3:l.scrollTop=e-(s-E())/2}l.onscroll()}};this.setItemDropsEnabled=function(t){v=t};this.setRowDropsEnabled=function(t){y=t};function H(t,e,l){if(l){var i=document.createElement("div");i.className="Wt-drop-site-"+e;t.style.position="relative";t.appendChild(i);t.dropVisual=i}else{t.style.position="";t.dropVisual.remove();t.dropVisual=void 0}}function I(t,e,i){if(-1!=t){if("top"===e&&t>0){t-=1;e="bottom"}for(var s=l.firstChild.firstChild,n=0;n<s.childNodes.length;n++){col=s.childNodes[n];H(col.childNodes[t],e,i)}}else H(o,"bottom",i)}function M(){var t=l.firstChild.firstChild.firstChild;return t?t.childNodes.length:0}var K=null,R=null;e.handleDragDrop=function(l,i,o,s,n){if(K){K.className=K.classNameOrig;K=null}if(R){I(R.row,R.side,!1);R=null}if("end"!=l){var r=x(o);if(!r.selected&&r.drop&&v)if("drop"==l)t.emit(e,{name:"dropEvent",eventObject:i,event:o},r.rowIdx,r.columnId,s,n);else{i.className="Wt-valid-drop";(K=r.el).classNameOrig=K.className;K.className=K.className+" Wt-drop-site"}else if(!r.selected&&y){if(!r.columnId){r.el=null;r.rowIdx=-1}var a=r.rowIdx,d=r.columnId,h="bottom";if(r.el)h=c.widgetCoordinates(r.el,o).y-r.el.clientHeight/2<=0?"top":"bottom";if("drop"==l)t.emit(e,{name:"rowDropEvent",eventObject:i,event:o},a,d,s,n,h);else{i.className="Wt-valid-drop";I((R={row:r.el?a:M()-1,side:h}).row,R.side,!0)}}else i.className=""}};this.onkeydown=function(t){var e=t||window.event;if(9==e.keyCode){c.cancelEvent(e);if(!(f=x(e)).el)return;for(var l,i=f.el.parentNode,o=L(f.el),s=L(i),n=i.parentNode.childNodes.length,r=i.childNodes.length,a=e.shiftKey,d=!1,h=o;;){for(;a?h>=0:h<r;h=a?h-1:h+1){l=h!=o||d?a?n-1:0:a?s-1:s+1;for(;a?l>=0:l<n;l=a?l-1:l+1){if(h==o&&l==s)return;let g=(i=i.parentNode.childNodes[l]).childNodes[h].querySelectorAll("input, select, textarea, button");if(g.length>0){setTimeout((function(){g.forEach((t=>t.dispatchEvent(new Event("focus",{bubbles:!0}))));g.forEach((t=>t.dispatchEvent(new Event("select",{bubbles:!0}))))}),0);return}}}h=a?r-1:0;d=!0}}else if(e.keyCode>=37&&e.keyCode<=40){var f,u=c.target(e);function p(t){return c.hasTag(t,"INPUT")&&"text"==t.type||c.hasTag(t,"TEXTAREA")}if(c.hasTag(u,"SELECT"))return;if(!(f=x(e)).el)return;i=f.el.parentNode,o=L(f.el),s=L(i),n=i.parentNode.childNodes.length,r=i.childNodes.length;switch(e.keyCode){case 39:if(p(u)){if(c.getSelectionRange(u).start!=u.value.length)return}s++;break;case 38:o--;break;case 37:if(p(u)){if(0!=c.getSelectionRange(u).start)return}s--;break;case 40:o++;break;default:return}c.cancelEvent(e);if(o>-1&&o<r&&s>-1&&s<n){let m=(i=i.parentNode.childNodes[s]).childNodes[o].querySelectorAll("input, select, textarea, button");if(m.length>0){setTimeout((function(){m.forEach((t=>t.dispatchEvent(new Event("focus",{bubbles:!0}))))}),0);return}}}};this.autoJavaScript=function(){if(null==e.parentNode){e=l=o=null;this.autoJavaScript=function(){};return}if(c.isHidden(e))return;if(!c.isIE&&(T!=l.scrollTop||b!=l.scrollLeft)){void 0===b?r&&c.isGecko?o.scrollLeft=l.scrollLeft=b=0:b=l.scrollLeft:o.scrollLeft=l.scrollLeft=b;s.scrollTop=l.scrollTop=T}var i=e.offsetWidth-c.px(e,"borderLeftWidth")-c.px(e,"borderRightWidth"),n=l.offsetWidth-l.clientWidth;if((i-=s.clientWidth)>200&&i!=l.tw){l.tw=i;l.style.width=i+"px";o.style.width=i-n+"px"}let r=document.body.classList.contains("Wt-rtl");r?o.style.marginLeft=n+"px":o.style.marginRight=n+"px";var a=l.offsetHeight-l.clientHeight,d=s.style;if(d&&d.marginBottom!==a+"px"){d.marginBottom=a+"px";t.layouts2.adjust(e.childNodes[0].id,[[1,0]])}}}));