WT_DECLARE_WT_MEMBER(1,"WTableView",function(n,d,k,o){function p(a){var b=-1,c=false,e=false,h=null;for(a=a.target||a.srcElement;a;){var f=$(a);if(f.hasClass("Wt-tv-contents"))break;else if(f.hasClass("Wt-tv-c")){if(a.getAttribute("drop")==="true")e=true;if(f.hasClass("Wt-selected"))c=true;h=a;a=a.parentNode;b=a.className.split(" ")[0].substring(7)*1;break}a=a.parentNode}return{columnId:b,rowIdx:-1,selected:c,drop:e,el:h}}function q(a){var b,c,e=a.parentNode.childNodes;b=0;for(c=e.length;b<c;++b)if(e[b]==
a)return b;return-1}function s(a,b){var c=a.className.split(" ")[0],e=c.substring(7)*1,h=o.firstChild,f=k.firstChild;c=$(f).find("."+c).get(0);var l=a.nextSibling,g=c.nextSibling,j=i.pxself(a,"width")-1+b;h.style.width=f.style.width=i.pxself(h,"width")+b+"px";a.style.width=j+1+"px";for(c.style.width=j+7+"px";l;l=l.nextSibling){l.style.left=i.pxself(l,"left")+b+"px";if(g){g.style.left=i.pxself(g,"left")+b+"px";g=g.nextSibling}}n.emit(d,"columnResized",e,j)}jQuery.data(d,"obj",this);var i=n.WT;this.mouseDown=
function(a,b){i.capture(null);a=p(b);d.getAttribute("drag")==="true"&&a.selected&&n._p_.dragStart(d,b)};this.resizeHandleMDown=function(a,b){var c=a.parentNode.parentNode,e=-(i.pxself(c,"width")-1);new i.SizeHandle(i,"h",a.offsetWidth,d.offsetHeight,e,1E4,"Wt-hsh",function(h){s(c,h)},a,d,b,-2,-1)};var m=null;d.handleDragDrop=function(a,b,c,e,h){if(m){m.className=m.classNameOrig;m=null}if(a!="end"){var f=p(c);if(!f.selected&&f.drop)if(a=="drop")n.emit(d,{name:"dropEvent",eventObject:b,event:c},f.rowIdx,
f.columnId,e,h);else{b.className="Wt-valid-drop";m=f.el;m.classNameOrig=m.className;m.className+=" Wt-drop-site"}else b.className=""}};d.onkeydown=function(a){var b=a||window.event;if(b.keyCode==9){i.cancelEvent(b);var c=p(b);if(c.el){a=c.el.parentNode;c=q(c.el);var e=q(a),h=a.parentNode.childNodes.length,f=a.childNodes.length;b=b.shiftKey;for(var l=false,g=c,j;;){for(;b?g>=0:g<f;g=b?g-1:g+1)for(j=g==c&&!l?b?e-1:e+1:b?h-1:0;b?j>=0:j<h;j=b?j-1:j+1){if(g==c&&j==e)return;a=a.parentNode.childNodes[j];
var r=$(a.childNodes[g]).find(":input");if(r.size()>0){r.focus();return}}g=b?f-1:0;l=true}}}};this.autoJavaScript=function(){if(d.parentNode==null){d=k=o=null;this.autoJavaScript=function(){}}else if(!i.isHidden(d)){var a=d.offsetWidth-i.px(d,"borderLeftWidth")-i.px(d,"borderRightWidth"),b=k.scrollHeight>k.offsetHeight;if(a>200&&(a!=k.tw||b!=k.vscroll)){k.vscroll=b;k.tw=a;k.style.width=a+"px";o.style.width=a-(b?19:0)+"px"}}}});
