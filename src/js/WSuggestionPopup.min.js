WT_DECLARE_WT_MEMBER(1,"WSuggestionPopup",function(n,c,o,p){jQuery.data(c,"obj",this);var g=n.WT,h=null,j=null,k=false;this.editKeyDown=function(e,a){var f=h?g.getElement(h):null;if(c.style.display!="none"&&f)if(a.keyCode==13||a.keyCode==9){f.firstChild.onclick();g.cancelEvent(a);setTimeout(function(){e.focus()},0);return false}else if(a.keyCode==40||a.keyCode==38){if(a.type.toUpperCase()=="KEYDOWN"){k=true;g.cancelEvent(a,g.CancelDefaultAction)}if(a.type.toUpperCase()=="KEYPRESS"&&k==true){g.cancelEvent(a);
return false}var b=f;for(b=a.keyCode==40?b.nextSibling:b.previousSibling;b&&b.nodeName.toUpperCase()=="DIV"&&b.style.display=="none";b=a.keyCode==40?b.nextSibling:b.previousSibling);if(b&&b.nodeName.toUpperCase()=="DIV"){f.className=null;b.className="sel";h=b.id}return false}return a.keyCode!=13&&a.keyCode!=9};this.editKeyUp=function(e,a){var f=h?g.getElement(h):null;if(!((a.keyCode==13||a.keyCode==9)&&c.style.display=="none"))if(a.keyCode==27||a.keyCode==37||a.keyCode==39){c.style.display="none";
a.keyCode==27&&e.blur()}else{a=p(e);for(var b=null,l=c.lastChild.childNodes,i=0;i<l.length;i++){var d=l[i];if(d.nodeName.toUpperCase()=="DIV"){if(d.orig==null)d.orig=d.firstChild.innerHTML;else d.firstChild.innerHTML=d.orig;var m=a(d.firstChild.innerHTML);d.firstChild.innerHTML=m.suggestion;if(m.match){d.style.display="block";if(b==null)b=d}else d.style.display="none";d.className=null}}if(b==null)c.style.display="none";else{if(c.style.display!="block"){c.style.display="block";g.positionAtWidget(c.id,
e.id,g.Vertical);h=null;j=e.id;f=null}if(!f||f.style.display=="none"){h=b.id;b.className="sel"}else f.className="sel"}}};this.suggestionClicked=function(e){var a=g.getElement(j),f=e.innerHTML;e=e.getAttribute("sug");a.focus();o(a,f,e);c.style.display="none"};this.delayHide=function(){setTimeout(function(){if(c)c.style.display="none"},300)}});
