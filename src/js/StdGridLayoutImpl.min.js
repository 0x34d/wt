WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"StdLayout",function(b,r,j,o){var y=this;this.WT=b;this.getId=function(){return r};this.marginH=function(a){var c=a.parentNode,d=0;if(!b.boxSizing(a)){d=b.px(a,"marginLeft");d+=b.px(a,"marginRight");d+=b.px(a,"borderLeftWidth");d+=b.px(a,"borderRightWidth");d+=b.px(a,"paddingLeft");d+=b.px(a,"paddingRight")}d+=b.pxself(c,"paddingLeft");d+=b.pxself(c,"paddingRight");return d};this.marginV=function(a){var c=b.px(a,"marginTop");c+=b.px(a,"marginBottom");if(!b.boxSizing(a)&&
!(b.isIE&&!b.isIElt9&&b.hasTag(a,"BUTTON"))){c+=b.px(a,"borderTopWidth");c+=b.px(a,"borderBottomWidth");c+=b.px(a,"paddingTop");c+=b.px(a,"paddingBottom")}return c};this.getColumn=function(a){var c,d,i,g=b.getElement(r).firstChild.childNodes;d=c=0;for(i=g.length;d<i;d++){var e=g[d];if(b.hasTag(e,"COLGROUP")){d=-1;g=e.childNodes;i=g.length}if(b.hasTag(e,"COL"))if(e.className!="Wt-vrh")if(c==a)return e;else++c}return null};this.adjustCell=function(a,c){var d=c==0;c-=b.pxself(a,"paddingTop");c-=b.pxself(a,
"paddingBottom");if(c<=0)c=0;if(j)a.style.height=c+"px";if(!(a.style.verticalAlign||a.childNodes.length==0)){a=a.childNodes[0];if(a.className=="Wt-hcenter"){a.style.height=c+"px";a=a.firstChild.firstChild;if(!b.hasTag(a,"TD"))a=a.firstChild;if(a.style.height!=c+"px")a.style.height=c+"px";a=a.firstChild}c-=this.marginV(a);if(c<=0)c=0;if(!b.hasTag(a,"TABLE")){var i,g;if(!d){i=a.parentNode;g=i.offsetWidth-y.marginH(a);if(i.className=="Wt-chwrap"&&g>0){if(!b.isIE){a.style.position="relative";a=a.firstChild}a.style.width=
g+"px";a.style.position="absolute"}}if(!d&&a.wtResize)a.wtResize(a,g,c);else if(a.style.height!=c+"px"){a.style.height=c+"px";if(a.className=="Wt-wrapdiv")if(b.isIE&&b.hasTag(a.firstChild,"TEXTAREA"))a.firstChild.style.height=c-b.pxself(a,"marginBottom")+"px"}}}};this.adjustRow=function(a,c){var d=[];if(j&&a.style.height!=c+"px")a.style.height=c+"px";a=a.childNodes;var i,g,e,h;i=0;h=-1;for(g=a.length;i<g;++i){e=a[i];e.className!="Wt-vrh"&&++h;if(e.rowSpan!=1){this.adjustCell(e,0,h);d.push({td:e,col:h})}else this.adjustCell(e,
c,h)}return d};this.adjust=function(){var a=b.getElement(r);if(!a)return false;y.initResize&&y.initResize(b,r,o);if(b.isHidden(a))return true;var c=a.firstChild,d=a.parentNode;if(c.style.height!=="")c.style.height="";var i,g=false;if(j){i=b.pxself(d,"height");if(i===0){g=true;i=d.clientHeight}}else i=c.clientHeight;var e=d.clientWidth;if(!(a.dirty||c.w!==e||c.h!==i))return true;c.w=e;c.h=i;a.dirty=null;var h=i;if(j){if(g){h-=b.px(d,"paddingTop");h-=b.px(d,"paddingBottom")}else if(b.boxSizing(d)){h-=
b.px(d,"borderTopWidth");h-=b.px(d,"borderBottomWidth");h-=b.px(d,"paddingTop");h-=b.px(d,"paddingBottom")}h-=b.px(a,"marginTop");h-=b.px(a,"marginBottom");if(d.children&&d.children.length!==1){g=0;for(i=d.children.length;g<i;++g){e=d.children[g];if(e!==a)h-=$(e).outerHeight()}}var q=0;a=0;var l;d=g=0;for(i=c.rows.length;g<i;g++){e=c.rows[g];if(e.className)h-=e.offsetHeight;else{a+=o.minheight[d];if(o.stretch[d]<=0)h-=e.offsetHeight;else q+=o.stretch[d];++d}}h=h>a?h:a}a=[];var s=h,t;d=g=0;for(i=c.rows.length;g<
i;g++){e=c.rows[g];if(!e.className){l=o.stretch[d];if(l==-1||j&&l>0){if(l!==-1){t=o.minheight[d];l=h*l/q;l=s>l?l:s;l=Math.round(t>l?t:l);s-=l}else l=e.offsetHeight;b.addAll(a,this.adjustRow(e,l))}++d}}g=0;for(i=a.length;g<i;++g){e=a[g].td;q=a[g].col;this.adjustCell(e,e.offsetHeight,q)}if(c.style.tableLayout!=="fixed")return true;d=0;s=c.childNodes;var A,x,u;h=0;for(a=s.length;h<a;h++){q=s[h];if(b.hasTag(q,"COLGROUP")){h=-1;s=q.childNodes;a=s.length}if(b.hasTag(q,"COL")){if(b.pctself(q,"width")===
0){g=t=0;for(i=c.rows.length;g<i;g++){e=c.rows[g];l=e.childNodes;x=A=0;for(u=l.length;x<u;x++){e=l[x];if(e.colSpan===1&&A===d&&e.childNodes.length===1){e=e.firstChild;e=e.offsetWidth+y.marginH(e);t=Math.max(t,e);break}A+=e.colSpan;if(A>d)break}}if(t>0&&b.pxself(q,"width")!==t)q.style.width=t+"px"}++d}}return true};this.contains=function(a){var c=b.getElement(r);a=b.getElement(a.getId());return c&&a?b.contains(c,a):false}});
WT_DECLARE_WT_MEMBER(2,JavaScriptPrototype,"StdLayout.prototype.initResize",function(b,r,j){function o(f,k){if(f.offsetWidth>0)return f.offsetWidth;else{f=q.firstChild.rows[0];var m,n,p,v;p=n=0;for(v=f.childNodes.length;n<v;++n){m=f.childNodes[n];if(m.className!="Wt-vrh"){if(p==k)return m.offsetWidth;p+=m.colSpan}}return 0}}function y(f,k){var m=b.getElement(r).firstChild;h(f).style.width=k+"px";var n,p,v,z;p=n=0;for(v=m.rows.length;n<v;n++){z=m.rows[n];if(!z.className){var w,B,C,F;C=B=0;for(F=z.childNodes.length;B<
F;++B){w=z.childNodes[B];if(w.className!="Wt-vrh"){if(w.colSpan==1&&C==f&&w.childNodes.length>0){z=w.firstChild;w=Math.max(1,k-e.marginH(z));z.style.width=w+"px";break}C+=w.colSpan}}++p}}}function a(f,k,m){var n=f.firstChild;new b.SizeHandle(b,"v",n.offsetHeight,n.offsetWidth,-f.parentNode.previousSibling.offsetHeight,f.parentNode.nextSibling.offsetHeight,"Wt-vsh",function(p){d(f,k,p)},n,q,m,0,0)}function c(f,k,m){var n=-f.previousSibling.offsetWidth,p=f.nextSibling.offsetWidth,v=f.firstChild,z=b.pxself(l.rows[0].childNodes[0],
"paddingTop"),w=b.pxself(l.rows[l.rows.length-1].childNodes[0],"paddingBottom");w=l.offsetHeight-z-w;if($(document.body).hasClass("Wt-rtl")){var B=n;n=-p;p=-B}new b.SizeHandle(b,"h",v.offsetWidth,w,n,p,"Wt-hsh",function(C){g(f,k,C)},v,q,m,0,-f.offsetTop+z-b.pxself(f,"paddingTop"))}function d(f,k,m){var n=f.parentNode.previousSibling;f=f.parentNode.nextSibling;var p=n.offsetHeight,v=f.offsetHeight;if(j.stretch[k]>0&&j.stretch[k+1]>0)j.stretch[k]=-1;if(j.stretch[k+1]==0)j.stretch[k+1]=-1;j.stretch[k]<=
0&&e.adjustRow(n,p+m);j.stretch[k+1]<=0&&e.adjustRow(f,v-m);b.getElement(r).dirty=true;window.onresize()}function i(){var f,k=0;for(f=0;;++f){var m=h(f);if(m)k+=b.pctself(m,"width");else break}if(k!=0)for(f=0;;++f)if(m=h(f)){var n=b.pctself(m,"width");if(n)m.style.width=n*100/k+"%"}else break}function g(f,k,m){f=h(k);var n=o(f,k),p=h(k+1),v=o(p,k+1);if($(document.body).hasClass("Wt-rtl"))m=-m;if(b.pctself(f,"width")>0&&b.pctself(p,"width")>0){f.style.width="";i()}if(b.pctself(f,"width")==0)y(k,n+
m);else b.getElement(r).dirty=true;if(b.pctself(p,"width")==0)y(k+1,v-m);else b.getElement(r).dirty=true;window.onresize()}var e=this,h=e.getColumn,q=b.getElement(r);if(q)if(!e.resizeInitialized){var l=q.firstChild,s,t,A,x;t=s=0;for(A=l.rows.length;s<A;s++){x=l.rows[s];if(x.className){if(x.className==="Wt-hrh"){var u=x.firstChild;u.ri=t-1;u.onmousedown=u.ontouchstart=function(f){a(this,this.ri,f||window.event)}}}else{var D,E,G;E=D=0;for(G=x.childNodes.length;D<G;++D){u=x.childNodes[D];if(u.className==
"Wt-vrh"){u.ci=E-1;u.onmousedown=u.ontouchstart=function(f){c(this,this.ci,f||window.event)}}else E+=u.colSpan}++t}}e.resizeInitialized=true}});
WT_DECLARE_APP_MEMBER(1,JavaScriptObject,"layouts",new (function(){var b=[],r=false;this.add=function(j){var o,y;o=0;for(y=b.length;o<y;++o){var a=b[o];if(a.getId()==j.getId()){b[o]=j;return}else if(j.contains(a)){b.splice(o,0,j);return}}b.push(j)};this.adjust=function(j){if(j){if(j=$("#"+j).get(0))j.dirty=true}else if(!r){r=true;for(var o=0;o<b.length;++o){j=b[o];if(!j.adjust()){j.WT.arrayRemove(b,o);--o}}r=false}}}));
