WT_DECLARE_WT_MEMBER(1,"StdLayout",function(a,A,q){var s=this;this.marginH=function(c){var m=c.parentNode;return a.px(c,"marginLeft")+a.px(c,"marginRight")+a.px(c,"borderLeftWidth")+a.px(c,"borderRightWidth")+a.px(m,"paddingLeft")+a.px(m,"paddingRight")};this.marginV=function(c){return a.px(c,"marginTop")+a.px(c,"marginBottom")+a.px(c,"borderTopWidth")+a.px(c,"borderBottomWidth")+a.px(c,"paddingTop")+a.px(c,"paddingBottom")};this.adjustRow=function(c,m){if(c.style.height!=m+"px")c.style.height=m+
"px";c=c.childNodes;var i,k,n;i=0;for(k=c.length;i<k;++i){n=c[i];var e=m-a.pxself(n,"paddingTop")-a.pxself(n,"paddingBottom");if(e<=0)e=0;n.style.height=e+"px";if(!(n.style.verticalAlign||n.childNodes.length==0)){var d=n.childNodes[0];if(e<=0)e=0;if(d.className=="Wt-hcenter"){d.style.height=e+"px";d=d.firstChild.firstChild;if(!a.hasTag(d,"TD"))d=d.firstChild;if(d.style.height!=e+"px")d.style.height=e+"px";d=d.firstChild}if(n.childNodes.length==1)e+=-this.marginV(d);if(e<=0)e=0;if(!a.hasTag(d,"TABLE"))if(d.wtResize){n=
d.parentNode.offsetWidth-s.marginH(d);d.wtResize(d,n,e)}else if(d.style.height!=e+"px"){d.style.height=e+"px";if(d.className=="Wt-wrapdiv")if(a.isIE&&a.hasTag(d.firstChild,"TEXTAREA"))d.firstChild.style.height=e-a.pxself(d,"marginBottom")+"px"}}}};this.adjust=function(){var c=a.getElement(A);if(!c)return false;s.initResize&&s.initResize(a,A,q);if(a.isHidden(c))return true;var m=c.firstChild;if(m.style.height!="")m.style.height="";var i=a.pxself(c.parentNode,"height");if(i==0){i=c.parentNode.clientHeight;
i+=-a.px(c.parentNode,"paddingTop")-a.px(c.parentNode,"paddingBottom")}i+=-a.px(c,"marginTop")-a.px(c,"marginBottom");var k,n;if(c.parentNode.children){k=0;for(n=c.parentNode.children.length;k<n;++k){var e=c.parentNode.children[k];if(e!=c)i-=$(e).outerHeight()}}var d=c=0,l,t;l=k=0;for(n=m.rows.length;k<n;k++){e=m.rows[k];if(e.className=="Wt-hrh")i-=e.offsetHeight;else{d+=q.minheight[l];if(q.stretch[l]<=0)i-=e.offsetHeight;else c+=q.stretch[l];++l}}i=i>d?i:d;if(c!=0&&i>0){d=i;var j;l=k=0;for(n=m.rows.length;k<
n;k++)if(m.rows[k].className!="Wt-hrh"){e=m.rows[k];if(q.stretch[l]!=0){if(q.stretch[l]!=-1){j=i*q.stretch[l]/c;j=d>j?j:d;j=Math.round(q.minheight[l]>j?q.minheight[l]:j);d-=j}else j=e.offsetHeight;this.adjustRow(e,j)}++l}}if(m.style.tableLayout!="fixed")return true;l=0;d=m.childNodes;i=0;for(c=d.length;i<c;i++){j=d[i];var r,w,y,x;if(a.hasTag(j,"COLGROUP")){i=-1;d=j.childNodes;c=d.length}if(a.hasTag(j,"COL")){if(a.pctself(j,"width")==0){k=r=0;for(n=m.rows.length;k<n;k++){e=m.rows[k];e=e.childNodes;
y=w=0;for(x=e.length;y<x;y++){t=e[y];if(t.colSpan==1&&w==l&&t.childNodes.length==1){e=t.firstChild;e=e.offsetWidth+s.marginH(e);r=Math.max(r,e);break}w+=t.colSpan;if(w>l)break}}if(r>0&&a.pxself(j,"width")!=r)j.style.width=r+"px"}++l}}return true}});
WT_DECLARE_WT_MEMBER(2,"StdLayout.prototype.initResize",function(a,A,q){function s(b){var f,g,h,o=a.getElement(A).firstChild.childNodes;g=f=0;for(h=o.length;g<h;g++){var p=o[g];if(a.hasTag(p,"COLGROUP")){g=-1;o=p.childNodes;h=o.length}if(a.hasTag(p,"COL"))if(p.className!="Wt-vrh")if(f==b)return p;else++f}return null}function c(b,f){if(b.offsetWidth>0)return b.offsetWidth;else{b=b.parentNode.rows[0];var g,h,o,p;o=h=0;for(p=b.childNodes.length;h<p;++h){g=b.childNodes[h];if(g.className!="Wt-vrh"){if(o==
f)return g.offsetWidth;o+=g.colSpan}}return 0}}function m(b,f){var g=a.getElement(A).firstChild;s(b).style.width=f+"px";var h,o,p,u;o=h=0;for(p=g.rows.length;h<p;h++){u=g.rows[h];if(u.className!="Wt-hrh"){var v,B,D,F;D=B=0;for(F=u.childNodes.length;B<F;++B){v=u.childNodes[B];if(v.className!="Wt-vrh"){if(v.colSpan==1&&D==b&&v.childNodes.length==1){u=v.firstChild;v=f-l.marginH(u);u.style.width=v+"px";break}D+=v.colSpan}}++o}}}function i(b,f,g){var h=b.firstChild;new a.SizeHandle(a,"v",h.offsetHeight,
h.offsetWidth,-b.parentNode.previousSibling.offsetHeight,b.parentNode.nextSibling.offsetHeight,"Wt-vsh",function(o){n(b,f,o)},h,t,g,0,0)}function k(b,f,g){var h=-b.previousSibling.offsetWidth,o=b.nextSibling.offsetWidth,p=b.firstChild,u=a.pxself(j.rows[0].childNodes[0],"paddingTop"),v=a.pxself(j.rows[j.rows.length-1].childNodes[0],"paddingBottom");new a.SizeHandle(a,"h",p.offsetWidth,j.offsetHeight-u-v,h,o,"Wt-hsh",function(B){d(b,f,B)},p,t,g,0,-b.offsetTop+u-a.pxself(b,"paddingTop"))}function n(b,
f,g){var h=b.parentNode.previousSibling;b=b.parentNode.nextSibling;var o=h.offsetHeight,p=b.offsetHeight;if(q.stretch[f]>0&&q.stretch[f+1]>0)q.stretch[f]=-1;if(q.stretch[f+1]==0)q.stretch[f+1]=-1;q.stretch[f]<=0&&l.adjustRow(h,o+g);q.stretch[f+1]<=0&&l.adjustRow(b,p-g);window.onresize()}function e(){var b,f=0;for(b=0;;++b){var g=s(b);if(g)f+=a.pctself(g,"width");else break}if(f!=0)for(b=0;;++b)if(g=s(b)){var h=a.pctself(g,"width");if(h)g.style.width=h*100/f+"%"}else break}function d(b,f,g){b=s(f);
var h=c(b,f),o=s(f+1),p=c(o,f+1);if(a.pctself(b,"width")>0&&a.pctself(o,"width")>0){b.style.width="";e()}a.pctself(b,"width")==0&&m(f,h+g);a.pctself(o,"width")==0&&m(f+1,p-g);window.onresize()}var l=this,t=a.getElement(A);if(t)if(!l.resizeInitialized){var j=t.firstChild,r,w,y,x;w=r=0;for(y=j.rows.length;r<y;r++){x=j.rows[r];if(x.className=="Wt-hrh"){var z=x.firstChild;z.ri=w-1;z.onmousedown=function(b){i(this,this.ri,b||window.event)}}else{var C,E,G;E=C=0;for(G=x.childNodes.length;C<G;++C){z=x.childNodes[C];
if(z.className=="Wt-vrh"){z.ci=E-1;z.onmousedown=function(b){k(this,this.ci,b||window.event)}}else E+=z.colSpan}++w}}l.resizeInitialized=true}});WT_DECLARE_APP_MEMBER(1,"layouts",[]);WT_DECLARE_APP_MEMBER(2,"layoutsAdjust",function(){if(!this.adjusting){this.adjusting=true;var a;for(a=0;a<this.layouts.length;++a)if(!this.layouts[a].adjust()){this.WT.arrayRemove(this.layouts,a);--a}this.adjusting=false}});
