WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"StdLayout",function(a,r,i){var o=this;this.getId=function(){return r};this.WT=a;this.marginH=function(b){var d=b.parentNode,f=0;if(!a.boxSizing(b)){f=a.px(b,"marginLeft");f+=a.px(b,"marginRight");f+=a.px(b,"borderLeftWidth");f+=a.px(b,"borderRightWidth");f+=a.px(b,"paddingLeft");f+=a.px(b,"paddingRight")}f+=a.pxself(d,"paddingLeft");f+=a.pxself(d,"paddingRight");return f};this.marginV=function(b){var d=a.px(b,"marginTop");d+=a.px(b,"marginBottom");if(!a.boxSizing(b)){d+=
a.px(b,"borderTopWidth");d+=a.px(b,"borderBottomWidth");d+=a.px(b,"paddingTop");d+=a.px(b,"paddingBottom")}return d};this.getColumn=function(b){var d,f,j,c=a.getElement(r).firstChild.childNodes;f=d=0;for(j=c.length;f<j;f++){var e=c[f];if(a.hasTag(e,"COLGROUP")){f=-1;c=e.childNodes;j=c.length}if(a.hasTag(e,"COL"))if(e.className!="Wt-vrh")if(d==b)return e;else++d}return null};this.adjustCell=function(b,d,f){var j=d==0;d-=a.pxself(b,"paddingTop");d-=a.pxself(b,"paddingBottom");if(d<=0)d=0;b.style.height=
d+"px";if(!(b.style.verticalAlign||b.childNodes.length==0)){var c=b.childNodes[0];if(d<=0)d=0;if(c.className=="Wt-hcenter"){c.style.height=d+"px";c=c.firstChild.firstChild;if(!a.hasTag(c,"TD"))c=c.firstChild;if(c.style.height!=d+"px")c.style.height=d+"px";c=c.firstChild}if(b.childNodes.length==1)d-=this.marginV(c);if(d<=0)d=0;if(!a.hasTag(c,"TABLE")){var e;if(!j){e=c.parentNode;e=e.offsetWidth-o.marginH(c);if(o.getColumn(f)){f=o.getColumn(f).style.width;b=f.length;if(b>0&&f[b-1]=="%"){c.style.position=
"absolute";c.style.width=e+"px"}}}if(!j&&c.wtResize)c.wtResize(c,e,d);else if(c.style.height!=d+"px"){c.style.height=d+"px";if(c.className=="Wt-wrapdiv")if(a.isIE&&a.hasTag(c.firstChild,"TEXTAREA"))c.firstChild.style.height=d-a.pxself(c,"marginBottom")+"px"}}}};this.adjustRow=function(b,d){var f=[];if(b.style.height!=d+"px")b.style.height=d+"px";b=b.childNodes;var j,c,e,h;j=0;h=-1;for(c=b.length;j<c;++j){e=b[j];e.className!="Wt-vrh"&&++h;if(e.rowSpan!=1){this.adjustCell(e,0,h);f.push({td:e,col:h})}else this.adjustCell(e,
d,h)}return f};this.adjust=function(){var b=a.getElement(r);if(!b)return false;o.initResize&&o.initResize(a,r,i);if(a.isHidden(b))return true;var d=b.firstChild,f=b.parentNode;if(d.style.height!=="")d.style.height="";var j=a.pxself(f,"height"),c=false;if(j===0){c=true;j=f.clientHeight}var e=f.clientWidth;if(!(b.dirty||d.w!==e||d.h!==j))return true;d.w=e;d.h=j;b.dirty=null;var h=j;if(c){h-=a.px(f,"paddingTop");h-=a.px(f,"paddingBottom")}else if(a.boxSizing(f)){h-=a.px(f,"borderTopWidth");h-=a.px(f,
"borderBottomWidth");h-=a.px(f,"paddingTop");h-=a.px(f,"paddingBottom")}h-=a.px(b,"marginTop");h-=a.px(b,"marginBottom");if(f.children&&f.children.length!==1){c=0;for(j=f.children.length;c<j;++c){e=f.children[c];if(e!==b)h-=$(e).outerHeight()}}b=f=0;var p,n;j=d.rows.length;for(p=c=0;c<j;c++){e=d.rows[c];if(e.className==="Wt-hrh")h-=e.offsetHeight;else{b+=i.minheight[p];if(i.stretch[p]<=0)h-=e.offsetHeight;else f+=i.stretch[p];++p}}h=h>b?h:b;b=[];if(f!==0&&h>0){var s=h,t;for(p=c=0;c<j;c++){e=d.rows[c];
if(e.className!=="Wt-hrh"){n=i.stretch[p];if(n!==0){if(n!==-1){t=i.minheight[p];n=h*n/f;n=s>n?n:s;n=Math.round(t>n?t:n);s-=n}else n=e.offsetHeight;a.addAll(b,this.adjustRow(e,n))}++p}}}c=0;for(j=b.length;c<j;++c){e=b[c].td;h=b[c].col;this.adjustCell(e,e.offsetHeight,h)}if(d.style.tableLayout!=="fixed")return true;p=0;s=d.childNodes;var y,A,z;b=0;for(f=s.length;b<f;b++){h=s[b];if(a.hasTag(h,"COLGROUP")){b=-1;s=h.childNodes;f=s.length}if(a.hasTag(h,"COL")){if(a.pctself(h,"width")===0){c=t=0;for(j=d.rows.length;c<
j;c++){e=d.rows[c];n=e.childNodes;A=y=0;for(z=n.length;A<z;A++){e=n[A];if(e.colSpan===1&&y===p&&e.childNodes.length===1){e=e.firstChild;e=e.offsetWidth+o.marginH(e);t=Math.max(t,e);break}y+=e.colSpan;if(y>p)break}}if(t>0&&a.pxself(h,"width")!==t)h.style.width=t+"px"}++p}}return true};this.contains=function(b){var d=a.getElement(r);b=a.getElement(b.getId());return d&&b?a.contains(d,b):false}});
WT_DECLARE_WT_MEMBER(2,JavaScriptPrototype,"StdLayout.prototype.initResize",function(a,r,i){function o(g,k){if(g.offsetWidth>0)return g.offsetWidth;else{g=n.firstChild.rows[0];var l,m,q,u;q=m=0;for(u=g.childNodes.length;m<u;++m){l=g.childNodes[m];if(l.className!="Wt-vrh"){if(q==k)return l.offsetWidth;q+=l.colSpan}}return 0}}function b(g,k){var l=a.getElement(r).firstChild;p(g).style.width=k+"px";var m,q,u,w;q=m=0;for(u=l.rows.length;m<u;m++){w=l.rows[m];if(w.className!="Wt-hrh"){var v,B,C,F;C=B=0;
for(F=w.childNodes.length;B<F;++B){v=w.childNodes[B];if(v.className!="Wt-vrh"){if(v.colSpan==1&&C==g&&v.childNodes.length==1){w=v.firstChild;v=k-h.marginH(w);w.style.width=v+"px";break}C+=v.colSpan}}++q}}}function d(g,k,l){var m=g.firstChild;new a.SizeHandle(a,"v",m.offsetHeight,m.offsetWidth,-g.parentNode.previousSibling.offsetHeight,g.parentNode.nextSibling.offsetHeight,"Wt-vsh",function(q){j(g,k,q)},m,n,l,0,0)}function f(g,k,l){var m=-g.previousSibling.offsetWidth,q=g.nextSibling.offsetWidth,u=
g.firstChild,w=a.pxself(s.rows[0].childNodes[0],"paddingTop"),v=a.pxself(s.rows[s.rows.length-1].childNodes[0],"paddingBottom");v=s.offsetHeight-w-v;if($(document.body).hasClass("Wt-rtl")){var B=m;m=-q;q=-B}new a.SizeHandle(a,"h",u.offsetWidth,v,m,q,"Wt-hsh",function(C){e(g,k,C)},u,n,l,0,-g.offsetTop+w-a.pxself(g,"paddingTop"))}function j(g,k,l){var m=g.parentNode.previousSibling;g=g.parentNode.nextSibling;var q=m.offsetHeight,u=g.offsetHeight;if(i.stretch[k]>0&&i.stretch[k+1]>0)i.stretch[k]=-1;if(i.stretch[k+
1]==0)i.stretch[k+1]=-1;i.stretch[k]<=0&&h.adjustRow(m,q+l);i.stretch[k+1]<=0&&h.adjustRow(g,u-l);a.getElement(r).dirty=true;window.onresize()}function c(){var g,k=0;for(g=0;;++g){var l=p(g);if(l)k+=a.pctself(l,"width");else break}if(k!=0)for(g=0;;++g)if(l=p(g)){var m=a.pctself(l,"width");if(m)l.style.width=m*100/k+"%"}else break}function e(g,k,l){g=p(k);var m=o(g,k),q=p(k+1),u=o(q,k+1);if($(document.body).hasClass("Wt-rtl"))l=-l;if(a.pctself(g,"width")>0&&a.pctself(q,"width")>0){g.style.width="";
c()}if(a.pctself(g,"width")==0)b(k,m+l);else a.getElement(r).dirty=true;if(a.pctself(q,"width")==0)b(k+1,u-l);else a.getElement(r).dirty=true;window.onresize()}var h=this,p=h.getColumn,n=a.getElement(r);if(n)if(!h.resizeInitialized){var s=n.firstChild,t,y,A,z;y=t=0;for(A=s.rows.length;t<A;t++){z=s.rows[t];if(z.className=="Wt-hrh"){var x=z.firstChild;x.ri=y-1;x.onmousedown=x.ontouchstart=function(g){d(this,this.ri,g||window.event)}}else{var D,E,G;E=D=0;for(G=z.childNodes.length;D<G;++D){x=z.childNodes[D];
if(x.className=="Wt-vrh"){x.ci=E-1;x.onmousedown=x.ontouchstart=function(g){f(this,this.ci,g||window.event)}}else E+=x.colSpan}++y}}h.resizeInitialized=true}});
WT_DECLARE_APP_MEMBER(1,JavaScriptObject,"layouts",new (function(){var a=[],r=false;this.add=function(i){var o,b;o=0;for(b=a.length;o<b;++o){var d=a[o];if(d.getId()==i.getId()){a[o]=i;return}else if(i.contains(d)){a.splice(o,0,i);return}}a.push(i)};this.adjust=function(i){if(i){if(i=$("#"+i).get(0))i.dirty=true}else if(!r){r=true;for(var o=0;o<a.length;++o){i=a[o];if(!i.adjust()){i.WT.arrayRemove(a,o);--o}}r=false}}}));
