WT_DECLARE_WT_MEMBER(1,"StdLayout",function(a,u,h){var t=this;this.getId=function(){return u};this.marginH=function(b){var k=b.parentNode;return a.px(b,"marginLeft")+a.px(b,"marginRight")+a.px(b,"borderLeftWidth")+a.px(b,"borderRightWidth")+a.px(k,"paddingLeft")+a.px(k,"paddingRight")};this.marginV=function(b){return a.px(b,"marginTop")+a.px(b,"marginBottom")+a.px(b,"borderTopWidth")+a.px(b,"borderBottomWidth")+a.px(b,"paddingTop")+a.px(b,"paddingBottom")};this.adjustRow=function(b,k){if(b.style.height!=
k+"px")b.style.height=k+"px";b=b.childNodes;var l,m,o;l=0;for(m=b.length;l<m;++l){o=b[l];var d=k-a.pxself(o,"paddingTop")-a.pxself(o,"paddingBottom");if(d<=0)d=0;o.style.height=d+"px";if(!(o.style.verticalAlign||o.childNodes.length==0)){var e=o.childNodes[0];if(d<=0)d=0;if(e.className=="Wt-hcenter"){e.style.height=d+"px";e=e.firstChild.firstChild;if(!a.hasTag(e,"TD"))e=e.firstChild;if(e.style.height!=d+"px")e.style.height=d+"px";e=e.firstChild}if(o.childNodes.length==1)d+=-this.marginV(e);if(d<=0)d=
0;if(!a.hasTag(e,"TABLE"))if(e.wtResize){o=e.parentNode.offsetWidth-t.marginH(e);e.wtResize(e,o,d)}else if(e.style.height!=d+"px"){e.style.height=d+"px";if(e.className=="Wt-wrapdiv")if(a.isIE&&a.hasTag(e.firstChild,"TEXTAREA"))e.firstChild.style.height=d-a.pxself(e,"marginBottom")+"px"}}}};this.adjust=function(){var b=a.getElement(u);if(!b)return false;t.initResize&&t.initResize(a,u,h);if(a.isHidden(b))return true;var k=b.firstChild;if(k.style.height!="")k.style.height="";if(b.dirty||k.w!=b.clientWidth||
k.h!=b.clientHeight)b.dirty=null;else return true;var l=a.pxself(b.parentNode,"height");if(l==0){l=b.parentNode.clientHeight;l+=-a.px(b.parentNode,"paddingTop")-a.px(b.parentNode,"paddingBottom")}l+=-a.px(b,"marginTop")-a.px(b,"marginBottom");var m,o;if(b.parentNode.children){m=0;for(o=b.parentNode.children.length;m<o;++m){var d=b.parentNode.children[m];if(d!=b)l-=$(d).outerHeight()}}var e=0,r=0,n,v;n=m=0;for(o=k.rows.length;m<o;m++){d=k.rows[m];if(d.className=="Wt-hrh")l-=d.offsetHeight;else{r+=
h.minheight[n];if(h.stretch[n]<=0)l-=d.offsetHeight;else e+=h.stretch[n];++n}}l=l>r?l:r;if(e!=0&&l>0){r=l;var p;n=m=0;for(o=k.rows.length;m<o;m++)if(k.rows[m].className!="Wt-hrh"){d=k.rows[m];if(h.stretch[n]!=0){if(h.stretch[n]!=-1){p=l*h.stretch[n]/e;p=r>p?p:r;p=Math.round(h.minheight[n]>p?h.minheight[n]:p);r-=p}else p=d.offsetHeight;this.adjustRow(d,p)}++n}}k.w=b.clientWidth;k.h=b.clientHeight;if(k.style.tableLayout!="fixed")return true;e=0;n=k.childNodes;b=0;for(l=n.length;b<l;b++){r=n[b];var y,
A,z;if(a.hasTag(r,"COLGROUP")){b=-1;n=r.childNodes;l=n.length}if(a.hasTag(r,"COL")){if(a.pctself(r,"width")==0){m=p=0;for(o=k.rows.length;m<o;m++){d=k.rows[m];d=d.childNodes;A=y=0;for(z=d.length;A<z;A++){v=d[A];if(v.colSpan==1&&y==e&&v.childNodes.length==1){d=v.firstChild;d=d.offsetWidth+t.marginH(d);p=Math.max(p,d);break}y+=v.colSpan;if(y>e)break}}if(p>0&&a.pxself(r,"width")!=p)r.style.width=p+"px"}++e}}return true};this.adjust()});
WT_DECLARE_WT_MEMBER(2,"StdLayout.prototype.initResize",function(a,u,h){function t(c){var f,g,j,q=a.getElement(u).firstChild.childNodes;g=f=0;for(j=q.length;g<j;g++){var s=q[g];if(a.hasTag(s,"COLGROUP")){g=-1;q=s.childNodes;j=q.length}if(a.hasTag(s,"COL"))if(s.className!="Wt-vrh")if(f==c)return s;else++f}return null}function b(c,f){if(c.offsetWidth>0)return c.offsetWidth;else{c=c.parentNode.rows[0];var g,j,q,s;q=j=0;for(s=c.childNodes.length;j<s;++j){g=c.childNodes[j];if(g.className!="Wt-vrh"){if(q==
f)return g.offsetWidth;q+=g.colSpan}}return 0}}function k(c,f){var g=a.getElement(u).firstChild;t(c).style.width=f+"px";var j,q,s,w;q=j=0;for(s=g.rows.length;j<s;j++){w=g.rows[j];if(w.className!="Wt-hrh"){var x,C,E,G;E=C=0;for(G=w.childNodes.length;C<G;++C){x=w.childNodes[C];if(x.className!="Wt-vrh"){if(x.colSpan==1&&E==c&&x.childNodes.length==1){w=x.firstChild;x=f-r.marginH(w);w.style.width=x+"px";break}E+=x.colSpan}}++q}}}function l(c,f,g){var j=c.firstChild;new a.SizeHandle(a,"v",j.offsetHeight,
j.offsetWidth,-c.parentNode.previousSibling.offsetHeight,c.parentNode.nextSibling.offsetHeight,"Wt-vsh",function(q){o(c,f,q)},j,n,g,0,0)}function m(c,f,g){var j=-c.previousSibling.offsetWidth,q=c.nextSibling.offsetWidth,s=c.firstChild,w=a.pxself(v.rows[0].childNodes[0],"paddingTop"),x=a.pxself(v.rows[v.rows.length-1].childNodes[0],"paddingBottom");new a.SizeHandle(a,"h",s.offsetWidth,v.offsetHeight-w-x,j,q,"Wt-hsh",function(C){e(c,f,C)},s,n,g,0,-c.offsetTop+w-a.pxself(c,"paddingTop"))}function o(c,
f,g){var j=c.parentNode.previousSibling;c=c.parentNode.nextSibling;var q=j.offsetHeight,s=c.offsetHeight;if(h.stretch[f]>0&&h.stretch[f+1]>0)h.stretch[f]=-1;if(h.stretch[f+1]==0)h.stretch[f+1]=-1;h.stretch[f]<=0&&r.adjustRow(j,q+g);h.stretch[f+1]<=0&&r.adjustRow(c,s-g);a.getElement(u).dirty=true;window.onresize()}function d(){var c,f=0;for(c=0;;++c){var g=t(c);if(g)f+=a.pctself(g,"width");else break}if(f!=0)for(c=0;;++c)if(g=t(c)){var j=a.pctself(g,"width");if(j)g.style.width=j*100/f+"%"}else break}
function e(c,f,g){c=t(f);var j=b(c,f),q=t(f+1),s=b(q,f+1);if(a.pctself(c,"width")>0&&a.pctself(q,"width")>0){c.style.width="";d()}a.pctself(c,"width")==0&&k(f,j+g);a.pctself(q,"width")==0&&k(f+1,s-g);window.onresize()}var r=this,n=a.getElement(u);if(n)if(!r.resizeInitialized){var v=n.firstChild,p,y,A,z;y=p=0;for(A=v.rows.length;p<A;p++){z=v.rows[p];if(z.className=="Wt-hrh"){var B=z.firstChild;B.ri=y-1;B.onmousedown=function(c){l(this,this.ri,c||window.event)}}else{var D,F,H;F=D=0;for(H=z.childNodes.length;D<
H;++D){B=z.childNodes[D];if(B.className=="Wt-vrh"){B.ci=F-1;B.onmousedown=function(c){m(this,this.ci,c||window.event)}}else F+=B.colSpan}++y}}r.resizeInitialized=true}});
WT_DECLARE_APP_MEMBER(1,"layouts",new (function(){var a=[],u=false;this.add=function(h){var t,b;t=0;for(b=a.length;t<b;++t)if(a[t].getId()==h.getId()){a[t]=h;return}a.push(h)};this.adjust=function(h){if(h){if(h=$("#"+h).get(0))h.dirty=true}else if(!u){u=true;for(i=0;i<a.length;++i){h=a[i];if(!h.adjust()){this.WT.arrayRemove(a,i);--i}}u=false}}}));
