WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"StdLayout",function(b,r,j){var o=this;this.getId=function(){return r};this.WT=b;this.marginH=function(a){var c=a.parentNode,d=0;if(!b.boxSizing(a)){d=b.px(a,"marginLeft");d+=b.px(a,"marginRight");d+=b.px(a,"borderLeftWidth");d+=b.px(a,"borderRightWidth");d+=b.px(a,"paddingLeft");d+=b.px(a,"paddingRight")}d+=b.pxself(c,"paddingLeft");d+=b.pxself(c,"paddingRight");return d};this.marginV=function(a){var c=b.px(a,"marginTop");c+=b.px(a,"marginBottom");if(!b.boxSizing(a)){c+=
b.px(a,"borderTopWidth");c+=b.px(a,"borderBottomWidth");c+=b.px(a,"paddingTop");c+=b.px(a,"paddingBottom")}return c};this.getColumn=function(a){var c,d,i,h=b.getElement(r).firstChild.childNodes;d=c=0;for(i=h.length;d<i;d++){var e=h[d];if(b.hasTag(e,"COLGROUP")){d=-1;h=e.childNodes;i=h.length}if(b.hasTag(e,"COL"))if(e.className!="Wt-vrh")if(c==a)return e;else++c}return null};this.adjustCell=function(a,c){var d=c==0;c-=b.pxself(a,"paddingTop");c-=b.pxself(a,"paddingBottom");if(c<=0)c=0;a.style.height=
c+"px";if(!(a.style.verticalAlign||a.childNodes.length==0)){a=a.childNodes[0];if(c<=0)c=0;if(a.className=="Wt-hcenter"){a.style.height=c+"px";a=a.firstChild.firstChild;if(!b.hasTag(a,"TD"))a=a.firstChild;if(a.style.height!=c+"px")a.style.height=c+"px";a=a.firstChild}c-=this.marginV(a);if(c<=0)c=0;if(!b.hasTag(a,"TABLE")){var i,h;if(!d){i=a.parentNode;h=i.offsetWidth-o.marginH(a);if(i.className=="Wt-chwrap"&&h>0){if(!b.isIE){a.style.position="relative";a=a.firstChild}a.style.width=h+"px";a.style.position=
"absolute"}}if(!d&&a.wtResize)a.wtResize(a,h,c);else if(a.style.height!=c+"px"){a.style.height=c+"px";if(a.className=="Wt-wrapdiv")if(b.isIE&&b.hasTag(a.firstChild,"TEXTAREA"))a.firstChild.style.height=c-b.pxself(a,"marginBottom")+"px"}}}};this.adjustRow=function(a,c){var d=[];if(a.style.height!=c+"px")a.style.height=c+"px";a=a.childNodes;var i,h,e,g;i=0;g=-1;for(h=a.length;i<h;++i){e=a[i];e.className!="Wt-vrh"&&++g;if(e.rowSpan!=1){this.adjustCell(e,0,g);d.push({td:e,col:g})}else this.adjustCell(e,
c,g)}return d};this.adjust=function(){var a=b.getElement(r);if(!a)return false;o.initResize&&o.initResize(b,r,j);if(b.isHidden(a))return true;var c=a.firstChild,d=a.parentNode;if(c.style.height!=="")c.style.height="";var i=b.pxself(d,"height"),h=false;if(i===0){h=true;i=d.clientHeight}var e=d.clientWidth;if(!(a.dirty||c.w!==e||c.h!==i))return true;c.w=e;c.h=i;a.dirty=null;var g=i;if(h){g-=b.px(d,"paddingTop");g-=b.px(d,"paddingBottom")}else if(b.boxSizing(d)){g-=b.px(d,"borderTopWidth");g-=b.px(d,
"borderBottomWidth");g-=b.px(d,"paddingTop");g-=b.px(d,"paddingBottom")}g-=b.px(a,"marginTop");g-=b.px(a,"marginBottom");if(d.children&&d.children.length!==1){h=0;for(i=d.children.length;h<i;++h){e=d.children[h];if(e!==a)g-=$(e).outerHeight()}}a=d=0;var p,n;i=c.rows.length;for(p=h=0;h<i;h++){e=c.rows[h];if(e.className)g-=e.offsetHeight;else{a+=j.minheight[p];if(j.stretch[p]<=0)g-=e.offsetHeight;else d+=j.stretch[p];++p}}g=g>a?g:a;a=[];if(d!==0&&g>0){var s=g,t;for(p=h=0;h<i;h++){e=c.rows[h];if(!e.className){n=
j.stretch[p];if(n!==0){if(n!==-1){t=j.minheight[p];n=g*n/d;n=s>n?n:s;n=Math.round(t>n?t:n);s-=n}else n=e.offsetHeight;b.addAll(a,this.adjustRow(e,n))}++p}}}h=0;for(i=a.length;h<i;++h){e=a[h].td;g=a[h].col;this.adjustCell(e,e.offsetHeight,g)}if(c.style.tableLayout!=="fixed")return true;p=0;s=c.childNodes;var z,A,x;a=0;for(d=s.length;a<d;a++){g=s[a];if(b.hasTag(g,"COLGROUP")){a=-1;s=g.childNodes;d=s.length}if(b.hasTag(g,"COL")){if(b.pctself(g,"width")===0){h=t=0;for(i=c.rows.length;h<i;h++){e=c.rows[h];
n=e.childNodes;A=z=0;for(x=n.length;A<x;A++){e=n[A];if(e.colSpan===1&&z===p&&e.childNodes.length===1){e=e.firstChild;e=e.offsetWidth+o.marginH(e);t=Math.max(t,e);break}z+=e.colSpan;if(z>p)break}}if(t>0&&b.pxself(g,"width")!==t)g.style.width=t+"px"}++p}}return true};this.contains=function(a){var c=b.getElement(r);a=b.getElement(a.getId());return c&&a?b.contains(c,a):false}});
WT_DECLARE_WT_MEMBER(2,JavaScriptPrototype,"StdLayout.prototype.initResize",function(b,r,j){function o(f,k){if(f.offsetWidth>0)return f.offsetWidth;else{f=n.firstChild.rows[0];var l,m,q,u;q=m=0;for(u=f.childNodes.length;m<u;++m){l=f.childNodes[m];if(l.className!="Wt-vrh"){if(q==k)return l.offsetWidth;q+=l.colSpan}}return 0}}function a(f,k){var l=b.getElement(r).firstChild;p(f).style.width=k+"px";var m,q,u,w;q=m=0;for(u=l.rows.length;m<u;m++){w=l.rows[m];if(!w.className){var v,B,C,F;C=B=0;for(F=w.childNodes.length;B<
F;++B){v=w.childNodes[B];if(v.className!="Wt-vrh"){if(v.colSpan==1&&C==f&&v.childNodes.length>0){w=v.firstChild;v=Math.max(0,k-g.marginH(w));w.style.width=v+"px";break}C+=v.colSpan}}++q}}}function c(f,k,l){var m=f.firstChild;new b.SizeHandle(b,"v",m.offsetHeight,m.offsetWidth,-f.parentNode.previousSibling.offsetHeight,f.parentNode.nextSibling.offsetHeight,"Wt-vsh",function(q){i(f,k,q)},m,n,l,0,0)}function d(f,k,l){var m=-f.previousSibling.offsetWidth,q=f.nextSibling.offsetWidth,u=f.firstChild,w=b.pxself(s.rows[0].childNodes[0],
"paddingTop"),v=b.pxself(s.rows[s.rows.length-1].childNodes[0],"paddingBottom");v=s.offsetHeight-w-v;if($(document.body).hasClass("Wt-rtl")){var B=m;m=-q;q=-B}new b.SizeHandle(b,"h",u.offsetWidth,v,m,q,"Wt-hsh",function(C){e(f,k,C)},u,n,l,0,-f.offsetTop+w-b.pxself(f,"paddingTop"))}function i(f,k,l){var m=f.parentNode.previousSibling;f=f.parentNode.nextSibling;var q=m.offsetHeight,u=f.offsetHeight;if(j.stretch[k]>0&&j.stretch[k+1]>0)j.stretch[k]=-1;if(j.stretch[k+1]==0)j.stretch[k+1]=-1;j.stretch[k]<=
0&&g.adjustRow(m,q+l);j.stretch[k+1]<=0&&g.adjustRow(f,u-l);b.getElement(r).dirty=true;window.onresize()}function h(){var f,k=0;for(f=0;;++f){var l=p(f);if(l)k+=b.pctself(l,"width");else break}if(k!=0)for(f=0;;++f)if(l=p(f)){var m=b.pctself(l,"width");if(m)l.style.width=m*100/k+"%"}else break}function e(f,k,l){f=p(k);var m=o(f,k),q=p(k+1),u=o(q,k+1);if($(document.body).hasClass("Wt-rtl"))l=-l;if(b.pctself(f,"width")>0&&b.pctself(q,"width")>0){f.style.width="";h()}if(b.pctself(f,"width")==0)a(k,m+
l);else b.getElement(r).dirty=true;if(b.pctself(q,"width")==0)a(k+1,u-l);else b.getElement(r).dirty=true;window.onresize()}var g=this,p=g.getColumn,n=b.getElement(r);if(n)if(!g.resizeInitialized){var s=n.firstChild,t,z,A,x;z=t=0;for(A=s.rows.length;t<A;t++){x=s.rows[t];if(x.className){if(x.className==="Wt-hrh"){var y=x.firstChild;y.ri=z-1;y.onmousedown=y.ontouchstart=function(f){c(this,this.ri,f||window.event)}}}else{var D,E,G;E=D=0;for(G=x.childNodes.length;D<G;++D){y=x.childNodes[D];if(y.className==
"Wt-vrh"){y.ci=E-1;y.onmousedown=y.ontouchstart=function(f){d(this,this.ci,f||window.event)}}else E+=y.colSpan}++z}}g.resizeInitialized=true}});
WT_DECLARE_APP_MEMBER(1,JavaScriptObject,"layouts",new (function(){var b=[],r=false;this.add=function(j){var o,a;o=0;for(a=b.length;o<a;++o){var c=b[o];if(c.getId()==j.getId()){b[o]=j;return}else if(j.contains(c)){b.splice(o,0,j);return}}b.push(j)};this.adjust=function(j){if(j){if(j=$("#"+j).get(0))j.dirty=true}else if(!r){r=true;for(var o=0;o<b.length;++o){j=b[o];if(!j.adjust()){j.WT.arrayRemove(b,o);--o}}r=false}}}));
