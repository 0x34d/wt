WT_DECLARE_WT_MEMBER(1,"StdLayout",function(a,s,h){var p=this;this.getId=function(){return s};this.WT=a;this.marginH=function(c){var f=a.px(c,"marginLeft");f+=a.px(c,"marginRight");f+=a.px(c,"borderLeftWidth");f+=a.px(c,"borderRightWidth");f+=a.px(c,"paddingLeft");f+=a.px(c,"paddingRight");return f};this.marginV=function(c){var f=a.px(c,"marginTop");f+=a.px(c,"marginBottom");f+=a.px(c,"borderTopWidth");f+=a.px(c,"borderBottomWidth");f+=a.px(c,"paddingTop");f+=a.px(c,"paddingBottom");return f};this.getColumn=
function(c){var f,i,j,g=a.getElement(s).firstChild.childNodes;i=f=0;for(j=g.length;i<j;i++){var q=g[i];if(a.hasTag(q,"COLGROUP")){i=-1;g=q.childNodes;j=g.length}if(a.hasTag(q,"COL"))if(q.className!="Wt-vrh")if(f==c)return q;else++f}return null};this.adjustRow=function(c,f){if(c.style.height!=f+"px")c.style.height=f+"px";c=c.childNodes;var i,j,g,q;i=0;q=-1;for(j=c.length;i<j;++i){g=c[i];var d=f;d-=a.pxself(g,"paddingTop");d-=a.pxself(g,"paddingBottom");if(d<=0)d=0;g.className!="Wt-vrh"&&++q;g.style.height=
d+"px";if(!(g.style.verticalAlign||g.childNodes.length==0)){var b=g.childNodes[0];if(d<=0)d=0;if(b.className=="Wt-hcenter"){b.style.height=d+"px";b=b.firstChild.firstChild;if(!a.hasTag(b,"TD"))b=b.firstChild;if(b.style.height!=d+"px")b.style.height=d+"px";b=b.firstChild}if(g.childNodes.length==1)d-=this.marginV(b);if(d<=0)d=0;if(!a.hasTag(b,"TABLE"))if(b.wtResize){g=b.parentNode.offsetWidth-p.marginH(b);if(p.getColumn(q).style.width!=""){b.style.position="absolute";b.style.width=g+"px"}b.wtResize(b,
g,d)}else if(b.style.height!=d+"px"){b.style.height=d+"px";if(b.className=="Wt-wrapdiv")if(a.isIE&&a.hasTag(b.firstChild,"TEXTAREA"))b.firstChild.style.height=d-a.pxself(b,"marginBottom")+"px"}}}};this.adjust=function(){var c=a.getElement(s);if(!c)return false;p.initResize&&p.initResize(a,s,h);if(a.isHidden(c))return true;var f=c.firstChild,i=c.parentNode;if(f.style.height!="")f.style.height="";if(!(c.dirty||f.w!=i.clientWidth||f.h!=i.clientHeight))return true;c.dirty=null;var j=a.pxself(i,"height");
if(j==0){j=i.clientHeight;j-=a.px(i,"paddingTop");j-=a.px(i,"paddingBottom")}j-=a.px(c,"marginTop");j-=a.px(c,"marginBottom");var g,q;if(i.children){g=0;for(q=i.children.length;g<q;++g){var d=i.children[g];if(d!=c)j-=$(d).outerHeight()}}var b=c=0,l,t;l=g=0;for(q=f.rows.length;g<q;g++){d=f.rows[g];if(d.className=="Wt-hrh")j-=d.offsetHeight;else{b+=h.minheight[l];if(h.stretch[l]<=0)j-=d.offsetHeight;else c+=h.stretch[l];++l}}j=j>b?j:b;if(c!=0&&j>0){b=j;var o;l=g=0;for(q=f.rows.length;g<q;g++)if(f.rows[g].className!=
"Wt-hrh"){d=f.rows[g];if(h.stretch[l]!=0){if(h.stretch[l]!=-1){o=j*h.stretch[l]/c;o=b>o?o:b;o=Math.round(h.minheight[l]>o?h.minheight[l]:o);b-=o}else o=d.offsetHeight;this.adjustRow(d,o)}++l}}f.w=i.clientWidth;f.h=i.clientHeight;if(f.style.tableLayout!="fixed")return true;c=0;l=f.childNodes;i=0;for(j=l.length;i<j;i++){b=l[i];var y,A,z;if(a.hasTag(b,"COLGROUP")){i=-1;l=b.childNodes;j=l.length}if(a.hasTag(b,"COL")){if(a.pctself(b,"width")==0){g=o=0;for(q=f.rows.length;g<q;g++){d=f.rows[g];d=d.childNodes;
A=y=0;for(z=d.length;A<z;A++){t=d[A];if(t.colSpan==1&&y==c&&t.childNodes.length==1){d=t.firstChild;d=d.offsetWidth+p.marginH(d);o=Math.max(o,d);break}y+=t.colSpan;if(y>c)break}}if(o>0&&a.pxself(b,"width")!=o)b.style.width=o+"px"}++c}}return true};this.adjust()});
WT_DECLARE_WT_MEMBER(2,"StdLayout.prototype.initResize",function(a,s,h){function p(e,k){if(e.offsetWidth>0)return e.offsetWidth;else{e=l.firstChild.rows[0];var m,n,r,u;r=n=0;for(u=e.childNodes.length;n<u;++n){m=e.childNodes[n];if(m.className!="Wt-vrh"){if(r==k)return m.offsetWidth;r+=m.colSpan}}return 0}}function c(e,k){var m=a.getElement(s).firstChild;b(e).style.width=k+"px";var n,r,u,v;r=n=0;for(u=m.rows.length;n<u;n++){v=m.rows[n];if(v.className!="Wt-hrh"){var w,B,D,F;D=B=0;for(F=v.childNodes.length;B<
F;++B){w=v.childNodes[B];if(w.className!="Wt-vrh"){if(w.colSpan==1&&D==e&&w.childNodes.length==1){v=w.firstChild;w=k-d.marginH(v);v.style.width=w+"px";break}D+=w.colSpan}}++r}}}function f(e,k,m){var n=e.firstChild;new a.SizeHandle(a,"v",n.offsetHeight,n.offsetWidth,-e.parentNode.previousSibling.offsetHeight,e.parentNode.nextSibling.offsetHeight,"Wt-vsh",function(r){j(e,k,r)},n,l,m,0,0)}function i(e,k,m){var n=-e.previousSibling.offsetWidth,r=e.nextSibling.offsetWidth,u=e.firstChild,v=a.pxself(t.rows[0].childNodes[0],
"paddingTop"),w=a.pxself(t.rows[t.rows.length-1].childNodes[0],"paddingBottom");new a.SizeHandle(a,"h",u.offsetWidth,t.offsetHeight-v-w,n,r,"Wt-hsh",function(B){q(e,k,B)},u,l,m,0,-e.offsetTop+v-a.pxself(e,"paddingTop"))}function j(e,k,m){var n=e.parentNode.previousSibling;e=e.parentNode.nextSibling;var r=n.offsetHeight,u=e.offsetHeight;if(h.stretch[k]>0&&h.stretch[k+1]>0)h.stretch[k]=-1;if(h.stretch[k+1]==0)h.stretch[k+1]=-1;h.stretch[k]<=0&&d.adjustRow(n,r+m);h.stretch[k+1]<=0&&d.adjustRow(e,u-m);
a.getElement(s).dirty=true;window.onresize()}function g(){var e,k=0;for(e=0;;++e){var m=b(e);if(m)k+=a.pctself(m,"width");else break}if(k!=0)for(e=0;;++e)if(m=b(e)){var n=a.pctself(m,"width");if(n)m.style.width=n*100/k+"%"}else break}function q(e,k,m){e=b(k);var n=p(e,k),r=b(k+1),u=p(r,k+1);if(a.pctself(e,"width")>0&&a.pctself(r,"width")>0){e.style.width="";g()}a.pctself(e,"width")==0&&c(k,n+m);a.pctself(r,"width")==0&&c(k+1,u-m);window.onresize()}var d=this,b=d.getColumn,l=a.getElement(s);if(l)if(!d.resizeInitialized){var t=
l.firstChild,o,y,A,z;y=o=0;for(A=t.rows.length;o<A;o++){z=t.rows[o];if(z.className=="Wt-hrh"){var x=z.firstChild;x.ri=y-1;x.onmousedown=x.ontouchstart=function(e){f(this,this.ri,e||window.event)}}else{var C,E,G;E=C=0;for(G=z.childNodes.length;C<G;++C){x=z.childNodes[C];if(x.className=="Wt-vrh"){x.ci=E-1;x.onmousedown=x.ontouchstart=function(e){i(this,this.ci,e||window.event)}}else E+=x.colSpan}++y}}d.resizeInitialized=true}});
WT_DECLARE_APP_MEMBER(1,"layouts",new (function(){var a=[],s=false;this.add=function(h){var p,c;p=0;for(c=a.length;p<c;++p)if(a[p].getId()==h.getId()){a[p]=h;return}a.push(h)};this.adjust=function(h){if(h){if(h=$("#"+h).get(0))h.dirty=true}else if(!s){s=true;for(var p=0;p<a.length;++p){h=a[p];if(!h.adjust()){h.WT.arrayRemove(a,p);--p}}s=false}}}));
