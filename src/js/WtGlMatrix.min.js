WT_DECLARE_WT_MEMBER(2,JavaScriptObject,"glMatrix",function(){"undefined"!=typeof Float32Array?glMatrixArrayType=Float32Array:"undefined"!=typeof WebGLFloatArray?glMatrixArrayType=WebGLFloatArray:glMatrixArrayType=Array;var r={create:function(r){var t=new glMatrixArrayType(3);if(r){t[0]=r[0];t[1]=r[1];t[2]=r[2]}return t},set:function(r,t){t[0]=r[0];t[1]=r[1];t[2]=r[2];return t},add:function(r,t,n){if(!n||r==n){r[0]+=t[0];r[1]+=t[1];r[2]+=t[2];return r}n[0]=r[0]+t[0];n[1]=r[1]+t[1];n[2]=r[2]+t[2];return n},subtract:function(r,t,n){if(!n||r==n){r[0]-=t[0];r[1]-=t[1];r[2]-=t[2];return r}n[0]=r[0]-t[0];n[1]=r[1]-t[1];n[2]=r[2]-t[2];return n},negate:function(r,t){t||(t=r);t[0]=-r[0];t[1]=-r[1];t[2]=-r[2];return t},scale:function(r,t,n){if(!n||r==n){r[0]*=t;r[1]*=t;r[2]*=t;return r}n[0]=r[0]*t;n[1]=r[1]*t;n[2]=r[2]*t;return n},normalize:function(r,t){t||(t=r);var n=r[0],e=r[1],u=r[2],a=Math.sqrt(n*n+e*e+u*u);if(!a){t[0]=0;t[1]=0;t[2]=0;return t}if(1==a){t[0]=n;t[1]=e;t[2]=u;return t}a=1/a;t[0]=n*a;t[1]=e*a;t[2]=u*a;return t},cross:function(r,t,n){n||(n=r);var e=r[0],u=r[1],a=r[2],i=t[0],f=t[1],o=t[2];n[0]=u*o-a*f;n[1]=a*i-e*o;n[2]=e*f-u*i;return n},length:function(r){var t=r[0],n=r[1],e=r[2];return Math.sqrt(t*t+n*n+e*e)},dot:function(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]},direction:function(r,t,n){n||(n=r);var e=r[0]-t[0],u=r[1]-t[1],a=r[2]-t[2],i=Math.sqrt(e*e+u*u+a*a);if(!i){n[0]=0;n[1]=0;n[2]=0;return n}i=1/i;n[0]=e*i;n[1]=u*i;n[2]=a*i;return n},str:function(r){return"["+r[0]+", "+r[1]+", "+r[2]+"]"}},t={create:function(r){var t=new glMatrixArrayType(9);if(r){t[0]=r[0];t[1]=r[1];t[2]=r[2];t[3]=r[3];t[4]=r[4];t[5]=r[5];t[6]=r[6];t[7]=r[7];t[8]=r[8];t[9]=r[9]}return t},set:function(r,t){t[0]=r[0];t[1]=r[1];t[2]=r[2];t[3]=r[3];t[4]=r[4];t[5]=r[5];t[6]=r[6];t[7]=r[7];t[8]=r[8];return t},identity:function(r){r[0]=1;r[1]=0;r[2]=0;r[3]=0;r[4]=1;r[5]=0;r[6]=0;r[7]=0;r[8]=1;return r},toMat4:function(r,t){t||(t=n.create());t[0]=r[0];t[1]=r[1];t[2]=r[2];t[3]=0;t[4]=r[3];t[5]=r[4];t[6]=r[5];t[7]=0;t[8]=r[6];t[9]=r[7];t[10]=r[8];t[11]=0;t[12]=0;t[13]=0;t[14]=0;t[15]=1;return t},str:function(r){return"["+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+", "+r[4]+", "+r[5]+", "+r[6]+", "+r[7]+", "+r[8]+"]"}},n={create:function(r){var t=new glMatrixArrayType(16);if(r){t[0]=r[0];t[1]=r[1];t[2]=r[2];t[3]=r[3];t[4]=r[4];t[5]=r[5];t[6]=r[6];t[7]=r[7];t[8]=r[8];t[9]=r[9];t[10]=r[10];t[11]=r[11];t[12]=r[12];t[13]=r[13];t[14]=r[14];t[15]=r[15]}return t},set:function(r,t){t[0]=r[0];t[1]=r[1];t[2]=r[2];t[3]=r[3];t[4]=r[4];t[5]=r[5];t[6]=r[6];t[7]=r[7];t[8]=r[8];t[9]=r[9];t[10]=r[10];t[11]=r[11];t[12]=r[12];t[13]=r[13];t[14]=r[14];t[15]=r[15];return t},identity:function(r){r[0]=1;r[1]=0;r[2]=0;r[3]=0;r[4]=0;r[5]=1;r[6]=0;r[7]=0;r[8]=0;r[9]=0;r[10]=1;r[11]=0;r[12]=0;r[13]=0;r[14]=0;r[15]=1;return r},transpose:function(r,t){if(!t||r==t){var n=r[1],e=r[2],u=r[3],a=r[6],i=r[7],f=r[11];r[1]=r[4];r[2]=r[8];r[3]=r[12];r[4]=n;r[6]=r[9];r[7]=r[13];r[8]=e;r[9]=a;r[11]=r[14];r[12]=u;r[13]=i;r[14]=f;return r}t[0]=r[0];t[1]=r[4];t[2]=r[8];t[3]=r[12];t[4]=r[1];t[5]=r[5];t[6]=r[9];t[7]=r[13];t[8]=r[2];t[9]=r[6];t[10]=r[10];t[11]=r[14];t[12]=r[3];t[13]=r[7];t[14]=r[11];t[15]=r[15];return t},determinant:function(r){var t=r[0],n=r[1],e=r[2],u=r[3],a=r[4],i=r[5],f=r[6],o=r[7],c=r[8],s=r[9],l=r[10],v=r[11],M=r[12],y=r[13],h=r[14],p=r[15];return M*s*f*u-c*y*f*u-M*i*l*u+a*y*l*u+c*i*h*u-a*s*h*u-M*s*e*o+c*y*e*o+M*n*l*o-t*y*l*o-c*n*h*o+t*s*h*o+M*i*e*v-a*y*e*v-M*n*f*v+t*y*f*v+a*n*h*v-t*i*h*v-c*i*e*p+a*s*e*p+c*n*f*p-t*s*f*p-a*n*l*p+t*i*l*p},inverse:function(r,t){t||(t=r);var n=r[0],e=r[1],u=r[2],a=r[3],i=r[4],f=r[5],o=r[6],c=r[7],s=r[8],l=r[9],v=r[10],M=r[11],y=r[12],h=r[13],p=r[14],A=r[15],d=n*f-e*i,g=n*o-u*i,m=n*c-a*i,T=e*o-u*f,q=e*c-a*f,x=u*c-a*o,b=s*h-l*y,E=s*p-v*y,F=s*A-M*y,W=l*p-v*h,w=l*A-M*h,L=v*A-M*p,R=1/(d*L-g*w+m*W+T*F-q*E+x*b);t[0]=(f*L-o*w+c*W)*R;t[1]=(-e*L+u*w-a*W)*R;t[2]=(h*x-p*q+A*T)*R;t[3]=(-l*x+v*q-M*T)*R;t[4]=(-i*L+o*F-c*E)*R;t[5]=(n*L-u*F+a*E)*R;t[6]=(-y*x+p*m-A*g)*R;t[7]=(s*x-v*m+M*g)*R;t[8]=(i*w-f*F+c*b)*R;t[9]=(-n*w+e*F-a*b)*R;t[10]=(y*q-h*m+A*d)*R;t[11]=(-s*q+l*m-M*d)*R;t[12]=(-i*W+f*E-o*b)*R;t[13]=(n*W-e*E+u*b)*R;t[14]=(-y*T+h*g-p*d)*R;t[15]=(s*T-l*g+v*d)*R;return t},toRotationMat:function(r,t){t||(t=n.create());t[0]=r[0];t[1]=r[1];t[2]=r[2];t[3]=r[3];t[4]=r[4];t[5]=r[5];t[6]=r[6];t[7]=r[7];t[8]=r[8];t[9]=r[9];t[10]=r[10];t[11]=r[11];t[12]=0;t[13]=0;t[14]=0;t[15]=1;return t},toMat3:function(r,n){n||(n=t.create());n[0]=r[0];n[1]=r[1];n[2]=r[2];n[3]=r[4];n[4]=r[5];n[5]=r[6];n[6]=r[8];n[7]=r[9];n[8]=r[10];return n},toInverseMat3:function(r,n){var e=r[0],u=r[1],a=r[2],i=r[4],f=r[5],o=r[6],c=r[8],s=r[9],l=r[10],v=l*f-o*s,M=-l*i+o*c,y=s*i-f*c,h=e*v+u*M+a*y;if(!h)return null;var p=1/h;n||(n=t.create());n[0]=v*p;n[1]=(-l*u+a*s)*p;n[2]=(o*u-a*f)*p;n[3]=M*p;n[4]=(l*e-a*c)*p;n[5]=(-o*e+a*i)*p;n[6]=y*p;n[7]=(-s*e+u*c)*p;n[8]=(f*e-u*i)*p;return n},multiply:function(r,t,n){n||(n=r);var e=r[0],u=r[1],a=r[2],i=r[3],f=r[4],o=r[5],c=r[6],s=r[7],l=r[8],v=r[9],M=r[10],y=r[11],h=r[12],p=r[13],A=r[14],d=r[15],g=t[0],m=t[1],T=t[2],q=t[3],x=t[4],b=t[5],E=t[6],F=t[7],W=t[8],w=t[9],L=t[10],R=t[11],_=t[12],G=t[13],I=t[14],V=t[15];n[0]=g*e+m*f+T*l+q*h;n[1]=g*u+m*o+T*v+q*p;n[2]=g*a+m*c+T*M+q*A;n[3]=g*i+m*s+T*y+q*d;n[4]=x*e+b*f+E*l+F*h;n[5]=x*u+b*o+E*v+F*p;n[6]=x*a+b*c+E*M+F*A;n[7]=x*i+b*s+E*y+F*d;n[8]=W*e+w*f+L*l+R*h;n[9]=W*u+w*o+L*v+R*p;n[10]=W*a+w*c+L*M+R*A;n[11]=W*i+w*s+L*y+R*d;n[12]=_*e+G*f+I*l+V*h;n[13]=_*u+G*o+I*v+V*p;n[14]=_*a+G*c+I*M+V*A;n[15]=_*i+G*s+I*y+V*d;return n},multiplyVec3:function(r,t,n){n||(n=t);var e=t[0],u=t[1],a=t[2];n[0]=r[0]*e+r[4]*u+r[8]*a+r[12];n[1]=r[1]*e+r[5]*u+r[9]*a+r[13];n[2]=r[2]*e+r[6]*u+r[10]*a+r[14];return n},multiplyVec4:function(r,t,n){n||(n=t);var e=t[0],u=t[1],a=t[2],i=t[3];n[0]=r[0]*e+r[4]*u+r[8]*a+r[12]*i;n[1]=r[1]*e+r[5]*u+r[9]*a+r[13]*i;n[2]=r[2]*e+r[6]*u+r[10]*a+r[14]*i;n[3]=r[3]*e+r[7]*u+r[11]*a+r[15]*i;return n},translate:function(r,t,n){var e=t[0],u=t[1],a=t[2];if(!n||r==n){r[12]=r[0]*e+r[4]*u+r[8]*a+r[12];r[13]=r[1]*e+r[5]*u+r[9]*a+r[13];r[14]=r[2]*e+r[6]*u+r[10]*a+r[14];r[15]=r[3]*e+r[7]*u+r[11]*a+r[15];return r}var i=r[0],f=r[1],o=r[2],c=r[3],s=r[4],l=r[5],v=r[6],M=r[7],y=r[8],h=r[9],p=r[10],A=r[11];n[0]=i;n[1]=f;n[2]=o;n[3]=c;n[4]=s;n[5]=l;n[6]=v;n[7]=M;n[8]=y;n[9]=h;n[10]=p;n[11]=A;n[12]=i*e+s*u+y*a+r[12];n[13]=f*e+l*u+h*a+r[13];n[14]=o*e+v*u+p*a+r[14];n[15]=c*e+M*u+A*a+r[15];return n},scale:function(r,t,n){var e=t[0],u=t[1],a=t[2];if(!n||r==n){r[0]*=e;r[1]*=e;r[2]*=e;r[3]*=e;r[4]*=u;r[5]*=u;r[6]*=u;r[7]*=u;r[8]*=a;r[9]*=a;r[10]*=a;r[11]*=a;return r}n[0]=r[0]*e;n[1]=r[1]*e;n[2]=r[2]*e;n[3]=r[3]*e;n[4]=r[4]*u;n[5]=r[5]*u;n[6]=r[6]*u;n[7]=r[7]*u;n[8]=r[8]*a;n[9]=r[9]*a;n[10]=r[10]*a;n[11]=r[11]*a;n[12]=r[12];n[13]=r[13];n[14]=r[14];n[15]=r[15];return n},rotate:function(r,t,n,e){var u=n[0],a=n[1],i=n[2],f=Math.sqrt(u*u+a*a+i*i);if(!f)return null;if(1!=f){u*=f=1/f;a*=f;i*=f}var o=Math.sin(t),c=Math.cos(t),s=1-c,l=r[0],v=r[1],M=r[2],y=r[3],h=r[4],p=r[5],A=r[6],d=r[7],g=r[8],m=r[9],T=r[10],q=r[11],x=u*u*s+c,b=a*u*s+i*o,E=i*u*s-a*o,F=u*a*s-i*o,W=a*a*s+c,w=i*a*s+u*o,L=u*i*s+a*o,R=a*i*s-u*o,_=i*i*s+c;if(e){if(r!=e){e[12]=r[12];e[13]=r[13];e[14]=r[14];e[15]=r[15]}}else e=r;e[0]=l*x+h*b+g*E;e[1]=v*x+p*b+m*E;e[2]=M*x+A*b+T*E;e[3]=y*x+d*b+q*E;e[4]=l*F+h*W+g*w;e[5]=v*F+p*W+m*w;e[6]=M*F+A*W+T*w;e[7]=y*F+d*W+q*w;e[8]=l*L+h*R+g*_;e[9]=v*L+p*R+m*_;e[10]=M*L+A*R+T*_;e[11]=y*L+d*R+q*_;return e},rotateX:function(r,t,n){var e=Math.sin(t),u=Math.cos(t),a=r[4],i=r[5],f=r[6],o=r[7],c=r[8],s=r[9],l=r[10],v=r[11];if(n){if(r!=n){n[0]=r[0];n[1]=r[1];n[2]=r[2];n[3]=r[3];n[12]=r[12];n[13]=r[13];n[14]=r[14];n[15]=r[15]}}else n=r;n[4]=a*u+c*e;n[5]=i*u+s*e;n[6]=f*u+l*e;n[7]=o*u+v*e;n[8]=a*-e+c*u;n[9]=i*-e+s*u;n[10]=f*-e+l*u;n[11]=o*-e+v*u;return n},rotateY:function(r,t,n){var e=Math.sin(t),u=Math.cos(t),a=r[0],i=r[1],f=r[2],o=r[3],c=r[8],s=r[9],l=r[10],v=r[11];if(n){if(r!=n){n[4]=r[4];n[5]=r[5];n[6]=r[6];n[7]=r[7];n[12]=r[12];n[13]=r[13];n[14]=r[14];n[15]=r[15]}}else n=r;n[0]=a*u+c*-e;n[1]=i*u+s*-e;n[2]=f*u+l*-e;n[3]=o*u+v*-e;n[8]=a*e+c*u;n[9]=i*e+s*u;n[10]=f*e+l*u;n[11]=o*e+v*u;return n},rotateZ:function(r,t,n){var e=Math.sin(t),u=Math.cos(t),a=r[0],i=r[1],f=r[2],o=r[3],c=r[4],s=r[5],l=r[6],v=r[7];if(n){if(r!=n){n[8]=r[8];n[9]=r[9];n[10]=r[10];n[11]=r[11];n[12]=r[12];n[13]=r[13];n[14]=r[14];n[15]=r[15]}}else n=r;n[0]=a*u+c*e;n[1]=i*u+s*e;n[2]=f*u+l*e;n[3]=o*u+v*e;n[4]=a*-e+c*u;n[5]=i*-e+s*u;n[6]=f*-e+l*u;n[7]=o*-e+v*u;return n},frustum:function(r,t,e,u,a,i,f){f||(f=n.create());var o=t-r,c=u-e,s=i-a;f[0]=2*a/o;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2*a/c;f[6]=0;f[7]=0;f[8]=(t+r)/o;f[9]=(u+e)/c;f[10]=-(i+a)/s;f[11]=-1;f[12]=0;f[13]=0;f[14]=-i*a*2/s;f[15]=0;return f},perspective:function(r,t,e,u,a){var i=e*Math.tan(r*Math.PI/360),f=i*t;return n.frustum(-f,f,-i,i,e,u,a)},ortho:function(r,t,e,u,a,i,f){f||(f=n.create());var o=t-r,c=u-e,s=i-a;f[0]=2/o;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2/c;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=-2/s;f[11]=0;f[12]=-(r+t)/o;f[13]=-(u+e)/c;f[14]=-(i+a)/s;f[15]=1;return f},lookAt:function(r,t,e,u){u||(u=n.create());var a,i,f,o,c,s,l,v,M,y,h=r[0],p=r[1],A=r[2],d=e[0],g=e[1],m=e[2],T=t[0],q=t[1],x=t[2];if(h==T&&p==q&&A==x)return n.identity(u);a=h-t[0];i=p-t[1];f=A-t[2];o=g*(f*=y=1/Math.sqrt(a*a+i*i+f*f))-m*(i*=y);c=m*(a*=y)-d*f;s=d*i-g*a;if(y=Math.sqrt(o*o+c*c+s*s)){o*=y=1/y;c*=y;s*=y}else{o=0;c=0;s=0}l=i*s-f*c;v=f*o-a*s;M=a*c-i*o;if(y=Math.sqrt(l*l+v*v+M*M)){l*=y=1/y;v*=y;M*=y}else{l=0;v=0;M=0}u[0]=o;u[1]=l;u[2]=a;u[3]=0;u[4]=c;u[5]=v;u[6]=i;u[7]=0;u[8]=s;u[9]=M;u[10]=f;u[11]=0;u[12]=-(o*h+c*p+s*A);u[13]=-(l*h+v*p+M*A);u[14]=-(a*h+i*p+f*A);u[15]=1;return u},str:function(r){return"["+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+", "+r[4]+", "+r[5]+", "+r[6]+", "+r[7]+", "+r[8]+", "+r[9]+", "+r[10]+", "+r[11]+", "+r[12]+", "+r[13]+", "+r[14]+", "+r[15]+"]"}};return{vec3:r,mat3:t,mat4:n}}());