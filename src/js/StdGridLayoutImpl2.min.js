WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"StdLayout2",function(G,B,J,O,P,t,H,E,C,x,A){function u(a,c){var b=s[c],f=c?a.scrollHeight:a.scrollWidth,i=c?a.clientHeight:a.clientWidth;c=c?a.offsetHeight:a.offsetWidth;if(i>=1E6)i-=1E6;if(f>=1E6)f-=1E6;if(c>=1E6)c-=1E6;if(f===0)f=e.pxself(a,b.size);if(e.isIE&&(e.hasTag(a,"BUTTON")||e.hasTag(a,"TEXTAREA")||e.hasTag(a,"INPUT")||e.hasTag(a,"SELECT")))f=i;if(f>c)if(e.pxself(a,b.size)==0)f=0;if(!e.isOpera&&!e.isGecko)f+=e.px(a,"border"+b.Left+"Width")+e.px(a,
"border"+b.Right+"Width");f+=e.px(a,"margin"+b.Left)+e.px(a,"margin"+b.Right);if(!e.boxSizing(a)&&!e.isIE)f+=e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right);if(f<c)f=c;return Math.round(f)}function I(a,c){c=s[c];if(a.style.display=="none")return 0;else if(a["layoutMin"+c.Size])return a["layoutMin"+c.Size];else{var b=e.px(a,"min"+c.Size);e.boxSizing(a)||(b+=e.px(a,"padding"+c.Left)+e.px(a,"padding"+c.Right));return b}}function F(a,c){c=s[c];var b=e.px(a,"margin"+c.Left)+e.px(a,"margin"+c.Right);
if(!e.boxSizing(a)&&!(e.isIE&&!e.isIElt9&&e.hasTag(a,"BUTTON")))b+=e.px(a,"border"+c.Left+"Width")+e.px(a,"border"+c.Right+"Width")+e.px(a,"padding"+c.Left)+e.px(a,"padding"+c.Right);return b}function X(a,c){c=s[c];return e.px(a,"padding"+c.Left)+e.px(a,"padding"+c.Right)}function T(a,c){if(e.boxSizing(a)){c=s[c];return e.px(a,"border"+c.Left+"Width")+e.px(a,"border"+c.Right+"Width")+e.px(a,"padding"+c.Left)+e.px(a,"padding"+c.Right)}else return 0}function Q(a,c){c=s[c];return Math.round(e.px(a,"border"+
c.Left+"Width")+e.px(a,"border"+c.Right+"Width")+e.px(a,"margin"+c.Left)+e.px(a,"margin"+c.Right)+e.px(a,"padding"+c.Left)+e.px(a,"padding"+c.Right))}function R(a,c){K=a.dirty=true;c&&G.layouts2.scheduleAdjust()}function y(a,c,b){if(a.style[c]!==b){a.style[c]=b;return true}else return false}function aa(a,c,b){var f=s[a],i=s[a^1],j=f.measures,p=f.config.length,v=i.config.length;if(K||L){if(b&&typeof f.minSize=="undefined"){f.minSize=e.px(b,"min"+f.Size);if(f.minSize>0)f.minSize-=T(b,a)}j=j.slice();
if(j.length==5){j[0]=j[0].slice();j[1]=j[1].slice()}var h=[],n=[],k=0,d=0,o,m;for(o=0;o<p;++o){var r=0,l=f.config[o][2],w=true;for(m=0;m<v;++m){var g=f.getItem(o,m);if(g){if(!g.w||a==0&&g.dirty){var q=$("#"+g.id),z=q.get(0);if(z!=g.w){g.w=z;q.find("img").add(q.filter("img")).bind("load",{item:g},function(ba){R(ba.data.item,true)});g.w.style[f.left]=g.w.style[i.left]="-1000000px"}}if(!t&&g.w.style.position!="absolute"){g.w.style.position="absolute";g.w.style.visibility="hidden";if(!g.w.wtResize){g.w.style.boxSizing=
"border-box";if(q=e.cssPrefix("BoxSizing"))g.w.style[q+"BoxSizing"]="border-box"}}if(!g.ps)g.ps=[];if(!g.ms)g.ms=[];if(!g.size)g.size=[];if(!g.psize)g.psize=[];if(!g.fs)g.fs=[];if(!g.set)g.set=[false,false];if(g.w){if(e.isIE)g.w.style.visibility="";if(g.dirty||L){q=I(g.w,a);if(q>l)l=q;g.ms[a]=q;if(!g.set[a])if(a==0){z=e.pxself(g.w,f.size);g.fs[a]=z?z+F(g.w,a):0}else{z=Math.round(e.px(g.w,f.size));g.fs[a]=z>Math.max(T(g.w,a),q)?z+F(g.w,a):0}q=g.fs[a];if(g.layout)q=Math.max(q,g.ps[a]);else{z=u(g.w,
a);var ca=typeof g.ps[a]!=="undefined"&&f.config[o][0]>0&&g.set[a];q=g.set[a]&&z===g.psize[a]||ca?Math.max(q,g.ps[a]):Math.max(q,z)}g.ps[a]=q;if(!g.span||g.span[a]==1)if(q>r)r=q}else if(!g.span||g.span[a]==1){if(g.ps[a]>r)r=g.ps[a];if(g.ms[a]>l)l=g.ms[a]}if(g.w.style.display!=="none"||e.hasTag(g.w,"TEXTAREA")&&g.w.wtResize)w=false}}}if(w)l=r=-1;else if(l>r)r=l;h[o]=r;n[o]=l;if(l>-1){k+=r;d+=l}}i=0;v=true;m=false;for(o=0;o<p;++o)if(n[o]>-1){if(v){i+=f.margins[1];v=false}else{i+=f.margins[0];if(m)i+=
4}m=f.config[o][1]!==0}v||(i+=f.margins[2]);k+=i;d+=i;f.measures=[h,n,k,d,i];if(U)if(j[2]!=f.measures[2]){p=f.measures[2];if(Y){c=c;for(h=c.parentNode;;){if(h.wtGetPS)p=h.wtGetPS(h,c,a,p);p+=Q(h,a);if(h==M)break;c=h;h=c.parentNode}}else p+=N[a];U.setChildSize(M,a,p)}b&&f.minSize==0&&j[3]!=f.measures[3]&&b.parentNode.className!="Wt-domRoot"&&y(b,"min"+f.Size,f.measures[3]+"px")&&V.ancestor&&V.ancestor.setContentsDirty(b);b&&a==0&&b&&e.hasTag(b,"TD")&&y(b,f.size,f.measures[2]+"px")}}function da(a,c,
b){a=s[a];if(S)b=-b;if(a.config[c][0]>0&&a.config[c+1][0]==0){++c;b=-b}a.fixedSize[c]=a.sizes[c]+b;G.layouts2.scheduleAdjust()}function ea(a,c,b){var f=c.di,i=s[a],j=s[a^1],p,v=e.getElement(B),h;for(h=f-1;h>=0;--h)if(i.sizes[h]>=0){p=-(i.sizes[h]-i.measures[1][h]);break}f=i.sizes[f]-i.measures[1][f];if(S){var n=p;p=-f;f=-n}new e.SizeHandle(e,i.resizeDir,e.pxself(c,i.size),e.pxself(c,j.size),p,f,i.resizerClass,function(k){da(a,h,k)},c,v,b,0,0)}function fa(a,c){var b=s[a],f=s[a^1],i=b.measures,j=0,
p=false,v=false,h=false,n=W?c.parentNode:null;if(b.maxSize===0)if(n){var k=e.css(n,"position");if(k==="absolute")j=e.pxself(n,b.size);if(j===0){if(!b.initialized)if(k!=="absolute"){j=a?n.clientHeight:n.clientWidth;p=true;if(a==0&&j==0&&e.isIElt9){j=n.offsetWidth;p=false}var d;if((e.hasTag(n,"TD")||e.hasTag(n,"TH"))&&!(e.isIE&&!e.isIElt9)){d=0;h=1}else{d=b.minSize?b.minSize:i[3];h=0}if(e.isIElt9&&j==h||j==d+X(n,a))b.maxSize=999999}if(j===0&&b.maxSize===0){j=a?n.clientHeight:n.clientWidth;p=true}}}else{j=
e.pxself(c,b.size);v=true}d=0;if(n&&n.wtGetPS&&a==1)d=n.wtGetPS(n,c,a,0);h=i[2];if(h<b.minSize)h=b.minSize;if(b.maxSize)if(h+d<b.maxSize){y(n,b.size,h+d+T(n,a)+"px");j=h+d;h=v=true}else{j=b.maxSize;p=false}b.cSize=j;if(a==1&&n&&n.wtResize){h=f.cSize;var o=b.cSize;n.wtResize(n,Math.round(h),Math.round(o))}j-=d;if(!v){v=0;if(typeof b.cPadding==="undefined"){v=p?X(n,a):T(n,a);b.cPadding=v}else v=b.cPadding;j-=v}b.initialized=true;if(!(n&&j<=0)){if(j<i[3]-d)j=i[3]-d;$(c).children("."+f.handleClass).css(b.size,
j-b.margins[2]-b.margins[1]+"px");p=[];n=b.config.length;v=f.config.length;if(j>=i[3]-d){o=j-i[4];h=[];var m=[0,0],r=[0,0],l=0;for(d=0;d<n;++d)if(i[1][d]>-1){k=-1;if(typeof b.fixedSize[d]!=="undefined")k=b.fixedSize[d];else if(b.config[d][1]!==0&&b.config[d][1][0]>=0){k=b.config[d][1][0];if(b.config[d][1][1])k=(j-i[4])*k/100}if(k>=0){h[d]=-1;p[d]=k;o-=p[d]}else{if(b.config[d][0]>0){k=1;h[d]=b.config[d][0];l+=h[d]}else{k=0;h[d]=0}m[k]+=i[1][d];r[k]+=i[0][d];p[d]=i[0][d]}}else h[d]=-2;if(l==0){for(d=
0;d<n;++d)if(h[d]==0){h[d]=1;++l}r[1]=r[0];m[1]=m[0];r[0]=0;m[0]=0}if(o>r[0]+m[1]){o-=r[0];if(o>r[1]){if(b.fitSize){o-=r[1];j=o/l;for(d=0;d<n;++d)if(h[d]>0)p[d]+=Math.round(h[d]*j)}}else{k=1;if(o<m[k])o=m[k];j=r[k]-m[k]>0?(o-m[k])/(r[k]-m[k]):0;for(d=0;d<n;++d)if(h[d]>0){o=i[0][d]-i[1][d];p[d]=i[1][d]+Math.round(o*j)}}}else{for(d=0;d<n;++d)if(h[d]>0)p[d]=i[1][d];o-=m[1];k=0;if(o<m[k])o=m[k];j=r[k]-m[k]>0?(o-m[k])/(r[k]-m[k]):0;for(d=0;d<n;++d)if(h[d]==0){o=i[0][d]-i[1][d];p[d]=i[1][d]+Math.round(o*
j)}}}else p=i[1];b.sizes=p;i=0;j=true;m=false;for(d=0;d<n;++d)if(p[d]>-1){if(o=m){h=B+"-rs"+a+"-"+d;m=e.getElement(h);if(!m){m=document.createElement("div");m.setAttribute("id",h);m.di=d;m.style.position="absolute";m.style[f.left]=f.margins[1]+"px";m.style[b.size]=b.margins[0]+"px";m.className=b.handleClass;c.insertBefore(m,c.firstChild);m.onmousedown=m.ontouchstart=function(z){ea(a,this,z||window.event)}}i+=2;y(m,b.left,i+"px");i+=2}m=b.config[d][1]!==0;if(j){i+=b.margins[1];j=false}else i+=b.margins[0];
for(r=0;r<v;++r)if((l=b.getItem(d,r))&&l.w){h=l.w;k=p[d];if(l.span){var w,g=m;for(w=1;w<l.span[a];++w){if(g)k+=4;g=b.config[d+g][1]!==0;k+=b.margins[0];k+=p[d+w]}}var q;h.style.visibility="";g=l.align>>b.alignBits&15;w=l.ps[a];if(k<w)g=0;if(g){switch(g){case 1:q=i;break;case 4:q=i+(k-w)/2;break;case 2:q=i+(k-w);break}if(l.layout){y(h,b.size,w+"px")&&R(l);l.set[a]=true}else if(k>=w&&l.set[a]){y(h,b.size,w+"px")&&R(l);l.set[a]=false}l.size[a]=w;l.psize[a]=w}else{q=F(l.w,a);g=k;if(e.isIElt9||!e.hasTag(h,
"BUTTON")&&!e.hasTag(h,"INPUT")&&!e.hasTag(h,"SELECT")&&!e.hasTag(h,"TEXTAREA"))g=Math.max(0,g-q);q=false;if(e.isIE&&e.hasTag(h,"BUTTON"))q=true;if(q||k!=w||l.layout){y(h,b.size,g+"px")&&R(l);l.set[a]=true}else if(l.fs[a])a==0&&y(h,b.size,l.fs[a]+"px");else{y(h,b.size,"")&&R(l);l.set[a]=false}q=i;l.size[a]=g;l.psize[a]=k}if(t)if(o){y(h,b.left,"4px");k=e.css(h,"position");if(k!=="absolute")h.style.position="relative"}else y(h,b.left,"0px");else y(h,b.left,q+"px");if(a==1){h.wtResize&&h.wtResize(h,
Math.round(l.size[0]),Math.round(l.size[1]));l.dirty=false}}i+=p[d]}}}var e=G.WT;this.ancestor=null;this.descendants=[];var V=this,D=A,K=false,L=true,W=false,U=null,M=null,Z=false,N=[],Y=false,S=$(document.body).hasClass("Wt-rtl"),s=[{initialized:false,config:D.cols,margins:C,maxSize:H,measures:[],sizes:[],fixedSize:[],Left:S?"Right":"Left",left:S?"right":"left",Right:S?"Left":"Right",Size:"Width",size:"width",alignBits:0,getItem:function(a,c){return D.items[c*s[0].config.length+a]},handleClass:"Wt-vrh2",
resizeDir:"h",resizerClass:"Wt-hsh2",fitSize:O},{initialized:false,config:D.rows,margins:x,maxSize:E,measures:[],sizes:[],fixedSize:[],Left:"Top",left:"top",Right:"Bottom",Size:"Height",size:"height",alignBits:4,getItem:function(a,c){return D.items[a*s[0].config.length+c]},handleClass:"Wt-hrh2",resizeDir:"v",resizerClass:"Wt-vsh2",fitSize:P}];jQuery.data(document.getElementById(B),"layout",this);this.setConfig=function(a){var c=D;D=a;s[0].config=D.cols;s[1].config=D.rows;var b;a=0;for(b=c.items.length;a<
b;++a){var f=c.items[a];if(f){f.set[0]&&y(f.w,s[0].size,"");f.set[1]&&y(f.w,s[1].size,"");if(f.layout){V.setChildSize(f.w,0,f.ps[0]);V.setChildSize(f.w,1,f.ps[1])}}}L=true};this.getId=function(){return B};this.setItemsDirty=function(a){var c,b,f=s[0].config.length;c=0;for(b=a.length;c<b;++c)D.items[a[c][0]*f+a[c][1]].dirty=true;K=true};this.setDirty=function(){L=true};this.setChildSize=function(a,c,b){var f,i;f=0;for(i=D.items.length;f<i;++f){var j=D.items[f];if(j&&j.id==a.id){if(!j.ps)j.ps=[];j.ps[c]=
b;j.layout=true;break}}K=true};this.measure=function(a){var c=e.getElement(B);if(c)if(!e.isHidden(c)){if(!Z){Z=true;if(W=J==null){var b=c;b=b.parentNode;for(N=[0,0];;){N[0]+=Q(b,0);N[1]+=Q(b,1);if(b.wtGetPS)Y=true;var f=jQuery.data(b.parentNode,"layout");if(f){U=f;M=b;break}b=b;b=b.parentNode;if(b.childNodes.length!=1&&!b.wtGetPS)break}}else{U=jQuery.data(document.getElementById(J),"layout");M=c;N[0]=Q(M,0);N[1]=Q(M,1)}}if(K||L)aa(a,c,W?c.parentNode:null);if(a==1)K=L=false}};this.apply=function(a){var c=
e.getElement(B);if(!c)return false;if(e.isHidden(c))return true;fa(a,c);return true};this.contains=function(a){var c=e.getElement(B);a=e.getElement(a.getId());return c&&a?e.contains(c,a):false}});WT_DECLARE_WT_MEMBER(2,JavaScriptPrototype,"StdLayout2.prototype.initResize",function(){this.resizeInitialized=true});
WT_DECLARE_APP_MEMBER(1,JavaScriptObject,"layouts2",new (function(){var G=[],B=false,J=this,O=false;this.find=function(t){return jQuery.data(document.getElementById(t),"layout")};this.setDirty=function(t){(t=jQuery.data(t,"layout"))&&t.setDirty()};this.add=function(t){function H(E,C){var x,A;x=0;for(A=E.length;x<A;++x){var u=E[x];if(u.contains(C)){H(u.descendants,C);return}else if(C.contains(u)){C.descendants.push(u);E.splice(x,1);--x;--A}}E.push(C)}H(G,t)};var P=false;this.scheduleAdjust=function(){if(!P){P=
true;setTimeout(function(){J.adjust()},0)}};this.adjust=function(t,H){function E(x,A){var u,I;u=0;for(I=x.length;u<I;++u){var F=x[u];E(F.descendants,A);A==1&&O&&F.setDirty();F.measure(A)}}function C(x,A){var u,I;u=0;for(I=x.length;u<I;++u){var F=x[u];if(F.apply(A))C(F.descendants,A);else{x.splice(u,1);--u;--I}}}if(t){(t=this.find(t))&&t.setItemsDirty(H);J.scheduleAdjust()}else{P=false;if(!B){B=true;E(G,0);C(G,0);E(G,1);C(G,1);O=B=false}}};this.updateConfig=function(t,H){(t=this.find(t))&&t.setConfig(H)};
window.onresize=function(){O=true;J.scheduleAdjust()}}));
