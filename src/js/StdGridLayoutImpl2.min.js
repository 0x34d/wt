WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"StdLayout2",function(D,y,K,L,M,u,F,B,z,v,x){function t(a,b){var c=r[b],i=b?a.scrollHeight:a.scrollWidth;b=b?a.clientHeight:a.clientWidth;if(b>1E6){b-=1E6;if(i>1E6)i-=1E6}if(d.isIE&&(d.hasTag(a,"BUTTON")||d.hasTag(a,"TEXTAREA")||d.hasTag(a,"INPUT")||d.hasTag(a,"SELECT")))i=b;if(!d.isOpera&&!d.isGecko)i+=d.px(a,"border"+c.Left+"Width")+d.px(a,"border"+c.Right+"Width");i+=d.px(a,"margin"+c.Left)+d.px(a,"margin"+c.Right);if(!d.boxSizing(a)&&!d.isIE)i+=d.px(a,
"padding"+c.Left)+d.px(a,"padding"+c.Right);return i}function G(a,b){b=r[b];if(a.style.display=="none"||a.style.visibility=="hidden")return 0;else if(a["layoutMin"+b.Size])return a["layoutMin"+b.Size];else{var c=d.px(a,"min"+b.Size);d.boxSizing(a)||(c+=d.px(a,"padding"+b.Left)+d.px(a,"padding"+b.Right));return c}}function C(a,b){b=r[b];var c=d.px(a,"margin"+b.Left)+d.px(a,"margin"+b.Right);if(!d.boxSizing(a)&&!(d.isIE&&!d.isIElt9&&d.hasTag(a,"BUTTON")))c+=d.px(a,"border"+b.Left+"Width")+d.px(a,"border"+
b.Right+"Width")+d.px(a,"padding"+b.Left)+d.px(a,"padding"+b.Right);return c}function S(a,b){b=r[b];return d.px(a,"padding"+b.Left)+d.px(a,"padding"+b.Right)}function T(a,b){if(d.boxSizing(a)){b=r[b];return d.px(a,"border"+b.Left+"Width")+d.px(a,"border"+b.Right+"Width")+d.px(a,"padding"+b.Left)+d.px(a,"padding"+b.Right)}else return 0}function O(a,b){b=r[b];return d.px(a,"border"+b.Left+"Width")+d.px(a,"border"+b.Right+"Width")+d.px(a,"margin"+b.Left)+d.px(a,"margin"+b.Right)+d.px(a,"padding"+b.Left)+
d.px(a,"padding"+b.Right)}function V(a){H=a.dirty=true;D.layouts2.scheduleAdjust()}function W(a,b,c){b=r[a];var i=b.config.length,g=r[a^1].config.length;if(H||I){var h=b.measures.slice();if(h.length==5){h[0]=h[0].slice();h[1]=h[1].slice()}var q=[],w=[],j=0,n=0,l,k;for(l=0;l<i;++l){var f=0,o=b.config[l][2],E=true;for(k=0;k<g;++k){var e=b.getItem(l,k);if(e){if(!e.w){var p=$("#"+e.id);e.w=p.get(0);(function(){p.find("img").load(function(){V(e)})})();e.w.style.left=e.w.style.top="-1000000px"}if(!u&&e.w.style.position!=
"absolute"){e.w.style.position="absolute";e.w.style.visibility="hidden";e.w.style.boxSizing="border-box";var m=d.cssPrefix("BoxSizing");if(m)e.w.style[m+"BoxSizing"]="border-box"}if(!e.ps)e.ps=[];if(!e.ms)e.ms=[];if(!e.size)e.size=[];if(!e.fs)e.fs=[];if(!e.set)e.set=[false,false];if(e.w){if(d.isIE)e.w.style.visibility="";if(e.dirty||I){m=G(e.w,a);if(m>o)o=m;e.ms[a]=m;if(!e.set[a])if(a==0){var s=d.pxself(e.w,b.size);e.fs[a]=s?s+C(e.w,a):0}else{s=d.px(e.w,b.size);e.fs[a]=s>Math.max(T(e.w,a),m)?s+C(e.w,
a):0}m=e.fs[a];if(e.layout)m=Math.max(m,e.ps[a]);else{s=t(e.w,a);m=!e.set[a]||s!=e.size[a]?Math.max(m,s):Math.max(m,e.ps[a])}e.ps[a]=m;if(!e.span||e.span[a]==1)if(m>f)f=m;if(a==1)e.dirty=false}else if(!e.span||e.span[a]==1){if(e.ps[a]>f)f=e.ps[a];if(e.ms[a]>o)o=e.ms[a]}if(e.w.style.display!=="none")E=false}}}if(E)o=f=-1;else if(o>f)f=o;q[l]=f;w[l]=o;if(o>-1){j+=f;n+=o}}g=0;k=true;f=false;for(l=0;l<i;++l)if(w[l]>-1){if(k){g+=b.margins[1];k=false}else{g+=b.margins[0];if(f)g+=4}f=b.config[l][1]}k||(g+=
b.margins[2]);j+=g;n+=g;b.measures=[q,w,j,n];P&&h[2]!=b.measures[2]&&P.setChildSize(N,a,b.measures[2]+J[a]);if(c&&h[3]!=b.measures[3]){i=b.measures[3]+"px";if(c.style["min"+b.Size]!=i){c.style["min"+b.Size]=i;Q.ancestor&&Q.ancestor.setContentsDirty(c)}}if(c)if(a==0&&c&&d.hasTag(c,"TD"))c.style[b.size]=b.measures[2]+"px"}}function X(a,b,c){a=r[a];a.fixedSize[b]=a.sizes[b]+c;D.layouts2.scheduleAdjust()}function Y(a,b,c){var i=b.di,g=r[a],h=r[a^1],q,w=d.getElement(y),j;for(j=i-1;j>=0;--j)if(g.sizes[j]>=
0){q=-(g.sizes[j]-g.measures[1][j]);break}i=g.sizes[i]-g.measures[1][i];new d.SizeHandle(d,g.resizeDir,d.pxself(b,g.size),d.pxself(b,h.size),q,i,g.resizerClass,function(n){X(a,j,n)},b,w,c,0,0)}function Z(a,b){var c=r[a],i=r[a^1],g=c.measures,h=0,q=false,w=false,j=false,n=R?b.parentNode:null;if(c.maxSize===0)if(n){var l=d.css(n,"position");if(l==="absolute")h=d.pxself(n,c.size);if(h===0){if(!c.initialized)if(l!=="absolute"){h=a?n.clientHeight:n.clientWidth;q=true;if(a==0&&h==0&&d.isIE6){h=n.offsetWidth;
q=false}if(d.isIE6&&h==0||h==g[3]+S(n,a))c.maxSize=999999}if(h===0&&c.maxSize===0){h=a?n.clientHeight:n.clientWidth;q=true}}}else{h=d.pxself(b,c.size);w=true}c.initialized=true;if(c.maxSize)if(g[2]<c.maxSize){n.style[c.size]=g[2]+"px";h=g[2];j=w=true}else{h=c.maxSize;q=false}c.cSize=h;if(a==1&&(c.maxSize||i.maxSize)){var k=i.cSize,f=c.cSize;n.wtResize&&n.wtResize(n,k,f)}w||(h-=q?S(n,a):T(n,a));if(!(n&&h<=0)){if(h<g[3])h=g[3];$(b).children("."+i.handleClass).css(c.size,h-c.margins[2]-c.margins[1]+
"px");q=g[1].slice();w=c.config.length;n=i.config.length;if(c.fixedSize.length==0&&h==g[2])q=g[0];else if(h>g[3]){var o=0;var E=k=0,e=0;for(f=0;f<w;++f)if(g[1][f]>-1)if(typeof c.fixedSize[f]!=="undefined"){E+=c.fixedSize[f];q[f]=c.fixedSize[f]}else{++e;if(c.config[f][0]<=0)o+=g[0][f]-g[1][f];else k+=c.config[f][0]}h=h-g[3]-E;if(c.fitSize&&!j&&k==0)o=0;if(o){j=h>o?o:h;o=j/o;for(f=0;f<w;++f)if(g[1][f]>-1)if(typeof c.fixedSize[f]==="undefined"&&c.config[f][0]<=0)q[f]+=o*(g[0][f]-g[1][f]);h-=j}if(c.fitSize&&
h>0){j=k;if(k==0)j=e;j=h/j;for(f=0;f<w;++f)if(g[1][f]>-1)if(typeof c.fixedSize[f]==="undefined"){h=k==0?1:c.config[f][0];if(h>0)q[f]+=h*j}}}c.sizes=q;g=0;h=true;o=false;for(f=0;f<w;++f)if(q[f]>-1){if(e=o){k=y+"-rs"+a+"-"+f;j=d.getElement(k);if(!j){j=document.createElement("div");j.setAttribute("id",k);j.di=f;j.style.position="absolute";j.style[i.left]=i.margins[1]+"px";j.style[c.size]=c.margins[0]+"px";j.className=c.handleClass;b.insertBefore(j,b.firstChild);j.onmousedown=j.ontouchstart=function(aa){Y(a,
this,aa||window.event)}}g+=2;j.style[c.left]=g+"px";g+=2}o=c.config[f][1];if(h){g+=c.margins[1];h=false}else g+=c.margins[0];for(E=0;E<n;++E){var p=c.getItem(f,E);if(p&&p.w){k=p.w;j=q[f];if(p.span){var m=o;for(l=1;l<p.span[a];++l){if(m)j+=4;m=c.config[f+m][1];j+=c.margins[0];j+=q[f+l]}}var s;k.style.visibility="";m=p.align>>c.alignBits&15;l=p.ps[a];if(j<l)m=0;if(m){switch(m){case 1:s=g;break;case 4:s=g+(j-l)/2;break;case 2:s=g+(j-l);break}if(p.layout){k.style[c.size]=l+"px";p.set[a]=true}else if(j>=
l&&p.set[a]){k.style[c.size]="";p.set[a]=false}p.size[a]=l}else{s=C(k,a);m=j;if(d.isIElt9||!d.hasTag(k,"BUTTON")&&!d.hasTag(k,"INPUT")&&!d.hasTag(k,"SELECT"))m=Math.max(0,m-s);s=false;if(d.isIE&&d.hasTag(k,"BUTTON"))s=true;if(s||j!=l||p.layout){k.style[c.size]=m+"px";p.set[a]=true}else if(!p.fs[a]&&k.style[c.size]!=""){k.style[c.size]="";p.set[a]=false}s=g;p.size[a]=m}if(u)if(e){k.style[c.left]="4px";l=d.css(k,"position");if(l!=="absolute")k.style.position="relative"}else k.style[c.left]="0px";else k.style[c.left]=
s+"px";a==1&&k.wtResize&&k.wtResize(k,p.size[0],p.size[1])}}g+=q[f]}}}var d=D.WT;this.ancestor=null;this.descendants=[];var Q=this,A=x,H=false,I=true,R=false,P=null,N=null,U=false,J=[],r=[{initialized:false,config:A.cols,margins:z,maxSize:F,measures:[],sizes:[],fixedSize:[],Left:"Left",left:"left",Right:"Right",Size:"Width",size:"width",alignBits:0,getItem:function(a,b){return A.items[b*r[0].config.length+a]},handleClass:"Wt-vrh2",resizeDir:"h",resizerClass:"Wt-hsh2",fitSize:L},{initialized:false,
config:A.rows,margins:v,maxSize:B,measures:[],sizes:[],fixedSize:[],Left:"Top",left:"top",Right:"Bottom",Size:"Height",size:"height",alignBits:8,getItem:function(a,b){return A.items[a*r[0].config.length+b]},handleClass:"Wt-hrh2",resizeDir:"v",resizerClass:"Wt-vsh2",fitSize:M}];jQuery.data(document.getElementById(y),"layout",this);this.setConfig=function(a){var b=A;A=a;r[0].config=A.cols;r[1].config=A.rows;var c;a=0;for(c=b.items.length;a<c;++a){var i=b.items[a];if(i){if(i.set[0])i.w.style[r[0].size]=
"";if(i.set[1])i.w.style[r[1].size]="";if(i.layout){Q.setChildSize(i.w,0,i.ps[0]);Q.setChildSize(i.w,1,i.ps[1])}}}I=true};this.getId=function(){return y};this.setItemsDirty=function(a){var b,c,i=r[0].config.length;b=0;for(c=a.length;b<c;++b)A.items[a[b][0]*i+a[b][1]].dirty=true;H=true};this.setDirty=function(){I=true};this.setChildSize=function(a,b,c){var i,g;i=0;for(g=A.items.length;i<g;++i){var h=A.items[i];if(h&&h.id==a.id){if(!h.ps)h.ps=[];h.ps[b]=c;h.layout=true;break}}H=true};this.measure=function(a){var b=
d.getElement(y);if(b){if(!U){U=true;if(R=K==null){var c=b.parentNode;for(J=[0,0];;){J[0]+=O(c,0);J[1]+=O(c,1);var i=jQuery.data(c.parentNode,"layout");if(i){P=i;N=c;break}c=c.parentNode;if(c.childNodes.length!=1)break}}else{P=jQuery.data(document.getElementById(K),"layout");N=b;J[0]=O(N,0);J[1]=O(N,1)}}if(H||I)W(a,b,R?b.parentNode:null);if(a==1)H=I=false}};this.apply=function(a){var b=d.getElement(y);if(!b)return false;Z(a,b);return true};this.contains=function(a){var b=d.getElement(y);a=d.getElement(a.getId());
return b&&a?d.contains(b,a):false}});WT_DECLARE_WT_MEMBER(2,JavaScriptPrototype,"StdLayout2.prototype.initResize",function(){this.resizeInitialized=true});
WT_DECLARE_APP_MEMBER(1,JavaScriptObject,"layouts2",new (function(){var D=[],y=false,K=this,L=false;this.find=function(u){return jQuery.data(document.getElementById(u),"layout")};this.add=function(u){function F(B,z){var v,x;v=0;for(x=B.length;v<x;++v){var t=B[v];if(t.contains(z)){F(t.descendants,z);return}else if(z.contains(t)){z.descendants.push(t);B.splice(v,1);--v;--x}}B.push(z)}F(D,u)};var M=false;this.scheduleAdjust=function(){if(!M){M=true;setTimeout(function(){K.adjust()},0)}};this.adjust=
function(u,F){function B(v,x){var t,G;t=0;for(G=v.length;t<G;++t){var C=v[t];B(C.descendants,x);x==1&&L&&C.setDirty();C.measure(x)}}function z(v,x){var t,G;t=0;for(G=v.length;t<G;++t){var C=v[t];if(C.apply(x))z(C.descendants,x);else{v.splice(t,1);--t;--G}}}if(u)(u=this.find(u))&&u.setItemsDirty(F);else{M=false;if(!y){y=true;B(D,0);z(D,0);B(D,1);z(D,1);L=y=false}}};this.updateConfig=function(u,F){(u=this.find(u))&&u.setConfig(F)};window.onresize=function(){L=true;K.scheduleAdjust()}}));
