WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"StdLayout2",function(F,A,L,M,N,r,G,D,B,x,z){function u(a,b){var c=q[b],j=b?a.scrollHeight:a.scrollWidth,g=b?a.clientHeight:a.clientWidth;b=b?a.offsetHeight:a.offsetWidth;if(g>=1E6){g-=1E6;if(j>=1E6)j-=1E6}if(j===0)j=f.pxself(a,c.size);if(f.isIE&&(f.hasTag(a,"BUTTON")||f.hasTag(a,"TEXTAREA")||f.hasTag(a,"INPUT")||f.hasTag(a,"SELECT")))j=g;if(!f.isOpera&&!f.isGecko)j+=f.px(a,"border"+c.Left+"Width")+f.px(a,"border"+c.Right+"Width");j+=f.px(a,"margin"+c.Left)+
f.px(a,"margin"+c.Right);if(!f.boxSizing(a)&&!f.isIE)j+=f.px(a,"padding"+c.Left)+f.px(a,"padding"+c.Right);if(j<b)j=b;return j}function H(a,b){b=q[b];if(a.style.display=="none"||a.style.visibility=="hidden")return 0;else if(a["layoutMin"+b.Size])return a["layoutMin"+b.Size];else{var c=f.px(a,"min"+b.Size);f.boxSizing(a)||(c+=f.px(a,"padding"+b.Left)+f.px(a,"padding"+b.Right));return c}}function E(a,b){b=q[b];var c=f.px(a,"margin"+b.Left)+f.px(a,"margin"+b.Right);if(!f.boxSizing(a)&&!(f.isIE&&!f.isIElt9&&
f.hasTag(a,"BUTTON")))c+=f.px(a,"border"+b.Left+"Width")+f.px(a,"border"+b.Right+"Width")+f.px(a,"padding"+b.Left)+f.px(a,"padding"+b.Right);return c}function V(a,b){b=q[b];return f.px(a,"padding"+b.Left)+f.px(a,"padding"+b.Right)}function T(a,b){if(f.boxSizing(a)){b=q[b];return f.px(a,"border"+b.Left+"Width")+f.px(a,"border"+b.Right+"Width")+f.px(a,"padding"+b.Left)+f.px(a,"padding"+b.Right)}else return 0}function Q(a,b){b=q[b];return f.px(a,"border"+b.Left+"Width")+f.px(a,"border"+b.Right+"Width")+
f.px(a,"margin"+b.Left)+f.px(a,"margin"+b.Right)+f.px(a,"padding"+b.Left)+f.px(a,"padding"+b.Right)}function O(a,b){I=a.dirty=true;b&&F.layouts2.scheduleAdjust()}function y(a,b,c){if(a.style[b]!==c){a.style[b]=c;return true}else return false}function X(a,b,c){b=q[a];var j=b.config.length,g=q[a^1].config.length;if(I||J){var k=b.measures.slice();if(k.length==5){k[0]=k[0].slice();k[1]=k[1].slice()}var p=[],w=[],e=0,m=0,h,i;for(h=0;h<j;++h){var n=0,l=b.config[h][2],s=true;for(i=0;i<g;++i){var d=b.getItem(h,
i);if(d){if(!d.w){var v=$("#"+d.id);d.w=v.get(0);(function(){v.find("img").load(function(){O(d)})})();d.w.style.left=d.w.style.top="-1000000px"}if(!r&&d.w.style.position!="absolute"){d.w.style.position="absolute";d.w.style.visibility="hidden";if(!d.w.wtResize){d.w.style.boxSizing="border-box";var o=f.cssPrefix("BoxSizing");if(o)d.w.style[o+"BoxSizing"]="border-box"}}if(!d.ps)d.ps=[];if(!d.ms)d.ms=[];if(!d.size)d.size=[];if(!d.psize)d.psize=[];if(!d.fs)d.fs=[];if(!d.set)d.set=[false,false];if(d.w){if(f.isIE)d.w.style.visibility=
"";if(d.dirty||J){o=H(d.w,a);if(o>l)l=o;d.ms[a]=o;if(!d.set[a])if(a==0){var t=f.pxself(d.w,b.size);d.fs[a]=t?t+E(d.w,a):0}else{t=f.px(d.w,b.size);d.fs[a]=t>Math.max(T(d.w,a),o)?t+E(d.w,a):0}o=d.fs[a];if(d.layout)o=Math.max(o,d.ps[a]);else{t=u(d.w,a);o=(typeof d.ps[a]==="undefined"||b.config[h][0]<=0)&&(!d.set[a]||t!=d.psize[a])?Math.max(o,t):Math.max(o,d.ps[a])}d.ps[a]=o;if(!d.span||d.span[a]==1)if(o>n)n=o}else if(!d.span||d.span[a]==1){if(d.ps[a]>n)n=d.ps[a];if(d.ms[a]>l)l=d.ms[a]}if(d.w.style.display!==
"none"||f.hasTag(d.w,"TEXTAREA")&&d.w.wtResize)s=false}}}if(s)l=n=-1;else if(l>n)n=l;p[h]=n;w[h]=l;if(l>-1){e+=n;m+=l}}g=0;i=true;n=false;for(h=0;h<j;++h)if(w[h]>-1){if(i){g+=b.margins[1];i=false}else{g+=b.margins[0];if(n)g+=4}n=b.config[h][1]!==0}i||(g+=b.margins[2]);e+=g;m+=g;b.measures=[p,w,e,m,g];R&&k[2]!=b.measures[2]&&R.setChildSize(P,a,b.measures[2]+K[a]);c&&k[3]!=b.measures[3]&&y(c,"min"+b.Size,b.measures[3]+"px")&&S.ancestor&&S.ancestor.setContentsDirty(c);c&&a==0&&c&&f.hasTag(c,"TD")&&y(c,
b.size,b.measures[2]+"px")}}function Y(a,b,c){a=q[a];a.fixedSize[b]=a.sizes[b]+c;F.layouts2.scheduleAdjust()}function Z(a,b,c){var j=b.di,g=q[a],k=q[a^1],p,w=f.getElement(A),e;for(e=j-1;e>=0;--e)if(g.sizes[e]>=0){p=-(g.sizes[e]-g.measures[1][e]);break}j=g.sizes[j]-g.measures[1][j];new f.SizeHandle(f,g.resizeDir,f.pxself(b,g.size),f.pxself(b,k.size),p,j,g.resizerClass,function(m){Y(a,e,m)},b,w,c,0,0)}function aa(a,b){var c=q[a],j=q[a^1],g=c.measures,k=0,p=false,w=false,e=false,m=U?b.parentNode:null;
if(c.maxSize===0)if(m){var h=f.css(m,"position");if(h==="absolute")k=f.pxself(m,c.size);if(k===0){if(!c.initialized)if(h!=="absolute"){k=a?m.clientHeight:m.clientWidth;p=true;if(a==0&&k==0&&f.isIElt9){k=m.offsetWidth;p=false}var i;if(f.hasTag(m,"TD")||f.hasTag(m,"TH")){e=0;i=1}else{e=g[3];i=0}if(f.isIElt9&&k==i||k==e+V(m,a))c.maxSize=999999}if(k===0&&c.maxSize===0){k=a?m.clientHeight:m.clientWidth;p=true}}}else{k=f.pxself(b,c.size);w=true}if(c.maxSize)if(g[2]<c.maxSize){y(m,c.size,g[2]+T(m,a)+"px");
k=g[2];e=w=true}else{k=c.maxSize;p=false}c.cSize=k;if(a==1&&m&&m.wtResize){i=j.cSize;m.wtResize(m,i,c.cSize)}if(!w){w=0;if(c.initialized)w=c.cPadding;else{w=p?V(m,a):T(m,a);c.cPadding=w}k-=w}c.initialized=true;if(!(m&&k<=0)){if(k<g[3])k=g[3];$(b).children("."+j.handleClass).css(c.size,k-c.margins[2]-c.margins[1]+"px");p=[];m=c.config.length;w=j.config.length;if(k>g[3]){var n=k-g[4];i=[];var l=[0,0],s=[0,0],d=0;for(e=0;e<m;++e)if(g[1][e]>-1){h=-1;if(typeof c.fixedSize[e]!=="undefined")h=c.fixedSize[e];
else if(c.config[e][1]!==0&&c.config[e][1][0]>=0){h=c.config[e][1][0];if(c.config[e][1][1])h=(k-g[4])*h/100}if(h>=0){i[e]=-1;p[e]=h;n-=p[e]}else{if(c.config[e][0]>0){h=1;i[e]=c.config[e][0];d+=i[e]}else{h=0;i[e]=0}l[h]+=g[1][e];s[h]+=g[0][e];p[e]=g[0][e]}}else i[e]=-2;if(d==0){for(e=0;e<m;++e)if(i[e]==0){i[e]=1;++d}s[1]=s[0];l[1]=l[0];s[0]=0;l[0]=0}if(n>s[0]+l[1]){n-=s[0];if(n>s[1]){if(c.fitSize){n-=s[1];k=n/d;for(e=0;e<m;++e)if(i[e]>0)p[e]+=Math.round(i[e]*k)}}else{h=1;if(n<l[h])n=l[h];k=s[h]-l[h]>
0?(n-l[h])/(s[h]-l[h]):0;for(e=0;e<m;++e)if(i[e]>0){n=g[0][e]-g[1][e];p[e]=g[1][e]+Math.round(n*k)}}}else{for(e=0;e<m;++e)if(i[e]>0)p[e]=g[1][e];n-=l[1];h=0;if(n<l[h])n=l[h];k=s[h]-l[h]>0?(n-l[h])/(s[h]-l[h]):0;for(e=0;e<m;++e)if(i[e]==0){n=g[0][e]-g[1][e];p[e]=g[1][e]+Math.round(n*k)}}}else p=g[1];c.sizes=p;g=0;k=true;l=false;for(e=0;e<m;++e)if(p[e]>-1){if(n=l){i=A+"-rs"+a+"-"+e;l=f.getElement(i);if(!l){l=document.createElement("div");l.setAttribute("id",i);l.di=e;l.style.position="absolute";l.style[j.left]=
j.margins[1]+"px";l.style[c.size]=c.margins[0]+"px";l.className=c.handleClass;b.insertBefore(l,b.firstChild);l.onmousedown=l.ontouchstart=function(ba){Z(a,this,ba||window.event)}}g+=2;y(l,c.left,g+"px");g+=2}l=c.config[e][1]!==0;if(k){g+=c.margins[1];k=false}else g+=c.margins[0];for(s=0;s<w;++s)if((d=c.getItem(e,s))&&d.w){i=d.w;h=p[e];if(d.span){var v,o=l;for(v=1;v<d.span[a];++v){if(o)h+=4;o=c.config[e+o][1]!==0;h+=c.margins[0];h+=p[e+v]}}var t;i.style.visibility="";o=d.align>>c.alignBits&15;v=d.ps[a];
if(h<v)o=0;if(o){switch(o){case 1:t=g;break;case 4:t=g+(h-v)/2;break;case 2:t=g+(h-v);break}if(d.layout){y(i,c.size,v+"px")&&O(d);d.set[a]=true}else if(h>=v&&d.set[a]){y(i,c.size,v+"px")&&O(d);d.set[a]=false}d.size[a]=v;d.psize[a]=v}else{t=E(d.w,a);o=h;if(f.isIElt9||!f.hasTag(i,"BUTTON")&&!f.hasTag(i,"INPUT")&&!f.hasTag(i,"SELECT")&&!f.hasTag(i,"TEXTAREA"))o=Math.max(0,o-t);t=false;if(f.isIE&&f.hasTag(i,"BUTTON"))t=true;if(t||h!=v||d.layout){y(i,c.size,o+"px")&&O(d);d.set[a]=true}else if(d.fs[a])a==
0&&y(i,c.size,d.fs[a]+"px");else{y(i,c.size,"")&&O(d);d.set[a]=false}t=g;d.size[a]=o;d.psize[a]=h}if(r)if(n){y(i,c.left,"4px");h=f.css(i,"position");if(h!=="absolute")i.style.position="relative"}else y(i,c.left,"0px");else y(i,c.left,t+"px");if(a==1){i.wtResize&&i.wtResize(i,d.size[0],d.size[1]);d.dirty=false}}g+=p[e]}}}var f=F.WT;this.ancestor=null;this.descendants=[];var S=this,C=z,I=false,J=true,U=false,R=null,P=null,W=false,K=[],q=[{initialized:false,config:C.cols,margins:B,maxSize:G,measures:[],
sizes:[],fixedSize:[],Left:"Left",left:"left",Right:"Right",Size:"Width",size:"width",alignBits:0,getItem:function(a,b){return C.items[b*q[0].config.length+a]},handleClass:"Wt-vrh2",resizeDir:"h",resizerClass:"Wt-hsh2",fitSize:M},{initialized:false,config:C.rows,margins:x,maxSize:D,measures:[],sizes:[],fixedSize:[],Left:"Top",left:"top",Right:"Bottom",Size:"Height",size:"height",alignBits:4,getItem:function(a,b){return C.items[a*q[0].config.length+b]},handleClass:"Wt-hrh2",resizeDir:"v",resizerClass:"Wt-vsh2",
fitSize:N}];jQuery.data(document.getElementById(A),"layout",this);this.setConfig=function(a){var b=C;C=a;q[0].config=C.cols;q[1].config=C.rows;var c;a=0;for(c=b.items.length;a<c;++a){var j=b.items[a];if(j){j.set[0]&&y(j.w,q[0].size,"");j.set[1]&&y(j.w,q[1].size,"");if(j.layout){S.setChildSize(j.w,0,j.ps[0]);S.setChildSize(j.w,1,j.ps[1])}}}J=true};this.getId=function(){return A};this.setItemsDirty=function(a){var b,c,j=q[0].config.length;b=0;for(c=a.length;b<c;++b)C.items[a[b][0]*j+a[b][1]].dirty=
true;I=true};this.setDirty=function(){J=true};this.setChildSize=function(a,b,c){var j,g;j=0;for(g=C.items.length;j<g;++j){var k=C.items[j];if(k&&k.id==a.id){if(!k.ps)k.ps=[];k.ps[b]=c;k.layout=true;break}}I=true};this.measure=function(a){var b=f.getElement(A);if(b)if(!f.isHidden(b)){if(!W){W=true;if(U=L==null){var c=b.parentNode;for(K=[0,0];;){K[0]+=Q(c,0);K[1]+=Q(c,1);var j=jQuery.data(c.parentNode,"layout");if(j){R=j;P=c;break}c=c.parentNode;if(c.childNodes.length!=1)break}}else{R=jQuery.data(document.getElementById(L),
"layout");P=b;K[0]=Q(P,0);K[1]=Q(P,1)}}if(I||J)X(a,b,U?b.parentNode:null);if(a==1)I=J=false}};this.apply=function(a){var b=f.getElement(A);if(!b)return false;if(f.isHidden(b))return true;aa(a,b);return true};this.contains=function(a){var b=f.getElement(A);a=f.getElement(a.getId());return b&&a?f.contains(b,a):false}});WT_DECLARE_WT_MEMBER(2,JavaScriptPrototype,"StdLayout2.prototype.initResize",function(){this.resizeInitialized=true});
WT_DECLARE_APP_MEMBER(1,JavaScriptObject,"layouts2",new (function(){var F=[],A=false,L=this,M=false;this.find=function(r){return jQuery.data(document.getElementById(r),"layout")};this.setDirty=function(r){(r=jQuery.data(r,"layout"))&&r.setDirty()};this.add=function(r){function G(D,B){var x,z;x=0;for(z=D.length;x<z;++x){var u=D[x];if(u.contains(B)){G(u.descendants,B);return}else if(B.contains(u)){B.descendants.push(u);D.splice(x,1);--x;--z}}D.push(B)}G(F,r)};var N=false;this.scheduleAdjust=function(){if(!N){N=
true;setTimeout(function(){L.adjust()},0)}};this.adjust=function(r,G){function D(x,z){var u,H;u=0;for(H=x.length;u<H;++u){var E=x[u];D(E.descendants,z);z==1&&M&&E.setDirty();E.measure(z)}}function B(x,z){var u,H;u=0;for(H=x.length;u<H;++u){var E=x[u];if(E.apply(z))B(E.descendants,z);else{x.splice(u,1);--u;--H}}}if(r)(r=this.find(r))&&r.setItemsDirty(G);else{N=false;if(!A){A=true;D(F,0);B(F,0);D(F,1);B(F,1);M=A=false}}};this.updateConfig=function(r,G){(r=this.find(r))&&r.setConfig(G)};window.onresize=
function(){M=true;L.scheduleAdjust()}}));
