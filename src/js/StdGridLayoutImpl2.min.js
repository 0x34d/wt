WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"StdLayout2",function(E,y,K,L,M,t,F,B,z,u,x){function r(a,b){var c=q[b],j=b?a.scrollHeight:a.scrollWidth;b=b?a.clientHeight:a.clientWidth;if(b>1E6){b-=1E6;if(j>1E6)j-=1E6}if(e.isIE&&(e.hasTag(a,"BUTTON")||e.hasTag(a,"TEXTAREA")||e.hasTag(a,"INPUT")||e.hasTag(a,"SELECT")))j=b;if(!e.isOpera&&!e.isGecko)j+=e.px(a,"border"+c.Left+"Width")+e.px(a,"border"+c.Right+"Width");j+=e.px(a,"margin"+c.Left)+e.px(a,"margin"+c.Right);if(!e.boxSizing(a)&&!e.isIE)j+=e.px(a,
"padding"+c.Left)+e.px(a,"padding"+c.Right);return j}function G(a,b){b=q[b];if(a.style.display=="none"||a.style.visibility=="hidden")return 0;else if(a["layoutMin"+b.Size])return a["layoutMin"+b.Size];else{var c=e.px(a,"min"+b.Size);e.boxSizing(a)||(c+=e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right));return c}}function C(a,b){b=q[b];var c=e.px(a,"margin"+b.Left)+e.px(a,"margin"+b.Right);if(!e.boxSizing(a)&&!(e.isIE&&!e.isIElt9&&e.hasTag(a,"BUTTON")))c+=e.px(a,"border"+b.Left+"Width")+e.px(a,"border"+
b.Right+"Width")+e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right);return c}function R(a,b){b=q[b];return e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right)}function S(a,b){if(e.boxSizing(a)){b=q[b];return e.px(a,"border"+b.Left+"Width")+e.px(a,"border"+b.Right+"Width")+e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right)}else return 0}function U(a,b){b=q[b];return e.px(a,"border"+b.Left+"Width")+e.px(a,"border"+b.Right+"Width")+e.px(a,"margin"+b.Left)+e.px(a,"margin"+b.Right)+e.px(a,"padding"+b.Left)+
e.px(a,"padding"+b.Right)}function V(a){I=a.dirty=true;E.layouts2.scheduleAdjust()}function W(a,b,c){b=q[a];var j=b.config.length,g=q[a^1].config.length;if(I||J){var f=b.measures.slice();if(f.length==5){f[0]=f[0].slice();f[1]=f[1].slice()}var p=[],w=[],i=0,n=0,l,k,h=b.maxSize>0||!b.initialized;for(l=0;l<j;++l){var o=0,s=b.config[l][2],H=true;for(k=0;k<g;++k){var d=b.getItem(l,k);if(d){if(!d.w){var v=$("#"+d.id);d.w=v.get(0);(function(){v.find("img").load(function(){V(d)})})();d.w.style.left=d.w.style.top=
"-1000000px"}if(!t&&d.w.style.position!="absolute"){d.w.style.position="absolute";d.w.style.visibility="hidden";d.w.style.boxSizing="border-box";var m=e.cssPrefix("BoxSizing");if(m)d.w.style[m+"BoxSizing"]="border-box"}if(!d.ps)d.ps=[];if(!d.ms)d.ms=[];if(!d.size)d.size=[];if(!d.fs)d.fs=[];if(!d.set)d.set=[false,false];if(d.w){if(e.isIE)d.w.style.visibility="";if(d.dirty||J){m=G(d.w,a);if(m>s)s=m;d.ms[a]=m;if(!d.set[a])if(a==0){var D=e.pxself(d.w,b.size);d.fs[a]=D?D+C(d.w,a):0}else{D=e.px(d.w,b.size);
d.fs[a]=D>Math.max(S(d.w,a),m)?D+C(d.w,a):0}m=d.fs[a];if(d.align>>b.alignBits&15||h||b.config[l][0]<=0){if(d.layout)m=Math.max(m,d.ps[a]);else{D=r(d.w,a);m=!d.set[a]||D!=d.size[a]?Math.max(m,D):Math.max(m,d.ps[a])}d.ps[a]=m}if(!d.span||d.span[a]==1)if(m>o)o=m;if(a==1)d.dirty=false}else if(!d.span||d.span[a]==1){if(d.ps[a]>o)o=d.ps[a];if(d.ms[a]>s)s=d.ms[a]}if(d.w.style.display!=="none")H=false}}}if(H)s=o=-1;else if(s>o)o=s;p[l]=o;w[l]=s;if(s>-1){i+=o;n+=s}}g=0;k=true;h=false;for(l=0;l<j;++l)if(w[l]>
-1){if(k){g+=b.margins[1];k=false}else{g+=b.margins[0];if(h)g+=4}h=b.config[l][1]}k||(g+=b.margins[2]);i+=g;n+=g;b.measures=[p,w,i,n];if(N)if(f[2]!=b.measures[2]){j=U(O,a);N.setChildSize(O,a,b.measures[2]+j)}if(c&&f[3]!=b.measures[3]){f=b.measures[3]+"px";if(c.style["min"+b.Size]!=f){c.style["min"+b.Size]=f;P.ancestor&&P.ancestor.setContentsDirty(c)}}if(c)if(a==0&&c&&e.hasTag(c,"TD"))c.style[b.size]=b.measures[2]+"px"}}function X(a,b,c){a=q[a];a.fixedSize[b]=a.sizes[b]+c;E.layouts2.scheduleAdjust()}
function Y(a,b,c){var j=b.di,g=q[a],f=q[a^1],p,w=e.getElement(y),i;for(i=j-1;i>=0;--i)if(g.sizes[i]>=0){p=-(g.sizes[i]-g.measures[1][i]);break}j=g.sizes[j]-g.measures[1][j];new e.SizeHandle(e,g.resizeDir,e.pxself(b,g.size),e.pxself(b,f.size),p,j,g.resizerClass,function(n){X(a,i,n)},b,w,c,0,0)}function Z(a,b){var c=q[a],j=q[a^1],g=c.measures,f=0,p=false,w=false,i=false,n=Q?b.parentNode:null;if(c.maxSize===0)if(n){var l=e.css(n,"position");if(l==="absolute")f=e.pxself(n,c.size);if(f===0){if(!c.initialized)if(l!==
"absolute"){f=a?n.clientHeight:n.clientWidth;p=true;if(a==0&&f==0&&e.isIE6){f=n.offsetWidth;p=false}if(e.isIE6&&f==0||f==g[3]+R(n,a))c.maxSize=999999}if(f===0&&c.maxSize===0){f=a?n.clientHeight:n.clientWidth;p=true}}}else{f=e.pxself(b,c.size);w=true}c.initialized=true;if(c.maxSize)if(g[2]<c.maxSize){n.style[c.size]=g[2]+"px";f=g[2];i=w=true}else{f=c.maxSize;p=false}c.cSize=f;if(a==1&&(c.maxSize||j.maxSize)){var k=j.cSize,h=c.cSize;if(h<c.maxSize||k<j.maxSize)n.wtResize&&n.wtResize(n,k,h)}w||(f-=p?
R(n,a):S(n,a));if(!(n&&f<=0)){if(f<g[3])f=g[3];$(b).children("."+j.handleClass).css(c.size,f-c.margins[2]-c.margins[1]+"px");p=g[1].slice();w=c.config.length;n=j.config.length;if(c.fixedSize.length==0&&f==g[2])p=g[0];else if(f>g[3]){var o=0;var s=k=0,H=0;for(h=0;h<w;++h)if(g[1][h]>-1)if(typeof c.fixedSize[h]!=="undefined"){s+=c.fixedSize[h];p[h]=c.fixedSize[h]}else{++H;if(c.config[h][0]<=0)o+=g[0][h]-g[1][h];else k+=c.config[h][0]}f=f-g[3]-s;if(c.fitSize&&!i&&k==0)o=0;if(o){i=f>o?o:f;o=i/o;for(h=
0;h<w;++h)if(g[1][h]>-1)if(typeof c.fixedSize[h]==="undefined"&&c.config[h][0]<=0)p[h]+=o*(g[0][h]-g[1][h]);f-=i}if(c.fitSize&&f>0){i=k;if(k==0)i=H;i=f/i;for(h=0;h<w;++h)if(g[1][h]>-1)if(typeof c.fixedSize[h]==="undefined"){f=k==0?1:c.config[h][0];if(f>0)p[h]+=f*i}}}c.sizes=p;g=0;f=true;o=false;for(h=0;h<w;++h)if(p[h]>-1){if(H=o){k=y+"-rs"+a+"-"+h;i=e.getElement(k);if(!i){i=document.createElement("div");i.setAttribute("id",k);i.di=h;i.style.position="absolute";i.style[j.left]=j.margins[1]+"px";i.style[c.size]=
c.margins[0]+"px";i.className=c.handleClass;b.insertBefore(i,b.firstChild);i.onmousedown=i.ontouchstart=function(D){Y(a,this,D||window.event)}}g+=2;i.style[c.left]=g+"px";g+=2}o=c.config[h][1];if(f){g+=c.margins[1];f=false}else g+=c.margins[0];for(s=0;s<n;++s){var d=c.getItem(h,s);if(d&&d.w){k=d.w;i=p[h];if(d.span){var v=o;for(l=1;l<d.span[a];++l){if(v)i+=4;v=c.config[h+v][1];i+=c.margins[0];i+=p[h+l]}}var m;k.style.visibility="";v=d.align>>c.alignBits&15;l=d.ps[a];if(i<l)v=0;if(v){switch(v){case 1:m=
g;break;case 4:m=g+(i-l)/2;break;case 2:m=g+(i-l);break}if(d.layout){k.style[c.size]=l+"px";d.set[a]=true}else if(i>=l&&d.set[a]){k.style[c.size]="";d.set[a]=false}d.size[a]=l}else{m=C(k,a);v=i;if(e.isIElt9||!e.hasTag(k,"BUTTON")&&!e.hasTag(k,"INPUT")&&!e.hasTag(k,"SELECT"))v=Math.max(0,v-m);m=false;if(e.isIE&&e.hasTag(k,"BUTTON"))m=true;if(m||i!=l||d.layout){k.style[c.size]=v+"px";d.set[a]=true}else if(!d.fs[a]&&k.style[c.size]!=""){k.style[c.size]="";d.set[a]=false}m=g;d.size[a]=v}if(t)if(H){k.style[c.left]=
"4px";l=e.css(k,"position");if(l!=="absolute")k.style.position="relative"}else k.style[c.left]="0px";else k.style[c.left]=m+"px";a==1&&k.wtResize&&k.wtResize(k,d.size[0],d.size[1])}}g+=p[h]}}}var e=E.WT;this.ancestor=null;this.descendants=[];var P=this,A=x,I=false,J=true,Q=false,N=null,O=null,T=false,q=[{initialized:false,config:A.cols,margins:z,maxSize:F,measures:[],sizes:[],fixedSize:[],Left:"Left",left:"left",Right:"Right",Size:"Width",size:"width",alignBits:0,getItem:function(a,b){return A.items[b*
q[0].config.length+a]},handleClass:"Wt-vrh2",resizeDir:"h",resizerClass:"Wt-hsh2",fitSize:L},{initialized:false,config:A.rows,margins:u,maxSize:B,measures:[],sizes:[],fixedSize:[],Left:"Top",left:"top",Right:"Bottom",Size:"Height",size:"height",alignBits:8,getItem:function(a,b){return A.items[a*q[0].config.length+b]},handleClass:"Wt-hrh2",resizeDir:"v",resizerClass:"Wt-vsh2",fitSize:M}];jQuery.data(document.getElementById(y),"layout",this);this.setConfig=function(a){var b=A;A=a;q[0].config=A.cols;
q[1].config=A.rows;var c;a=0;for(c=b.items.length;a<c;++a){var j=b.items[a];if(j){if(j.set[0])j.w.style[q[0].size]="";if(j.set[1])j.w.style[q[1].size]="";if(j.layout){P.setChildSize(j.w,0,j.ps[0]);P.setChildSize(j.w,1,j.ps[1])}}}J=true};this.getId=function(){return y};this.setItemsDirty=function(a){var b,c,j=q[0].config.length;b=0;for(c=a.length;b<c;++b)A.items[a[b][0]*j+a[b][1]].dirty=true;I=true};this.setDirty=function(){J=true};this.setChildSize=function(a,b,c){var j,g;j=0;for(g=A.items.length;j<
g;++j){var f=A.items[j];if(f&&f.id==a.id){if(!f.ps)f.ps=[];f.ps[b]=c;f.layout=true;break}}I=true};this.measure=function(a){var b=e.getElement(y);if(b){if(!T){T=true;if(Q=K==null){if(N=jQuery.data(b.parentNode.parentNode,"layout"))O=b.parentNode}else{N=jQuery.data(document.getElementById(K),"layout");O=b}}if(I||J)W(a,b,Q?b.parentNode:null);if(a==1)I=J=false}};this.apply=function(a){var b=e.getElement(y);if(!b)return false;Z(a,b);return true};this.contains=function(a){var b=e.getElement(y);a=e.getElement(a.getId());
return b&&a?e.contains(b,a):false}});WT_DECLARE_WT_MEMBER(2,JavaScriptPrototype,"StdLayout2.prototype.initResize",function(){this.resizeInitialized=true});
WT_DECLARE_APP_MEMBER(1,JavaScriptObject,"layouts2",new (function(){var E=[],y=false,K=this,L=false;this.find=function(t){return jQuery.data(document.getElementById(t),"layout")};this.add=function(t){function F(B,z){var u,x;u=0;for(x=B.length;u<x;++u){var r=B[u];if(r.contains(z)){F(r.descendants,z);return}else if(z.contains(r)){z.descendants.push(r);B.splice(u,1);--u;--x}}B.push(z)}F(E,t)};var M=false;this.scheduleAdjust=function(){if(!M){M=true;setTimeout(function(){K.adjust()},0)}};this.adjust=
function(t,F){function B(u,x){var r,G;r=0;for(G=u.length;r<G;++r){var C=u[r];B(C.descendants,x);x==1&&L&&C.setDirty();C.measure(x)}}function z(u,x){var r,G;r=0;for(G=u.length;r<G;++r){var C=u[r];if(C.apply(x))z(C.descendants,x);else{u.splice(r,1);--r;--G}}}if(t)(t=this.find(t))&&t.setItemsDirty(F);else{M=false;if(!y){y=true;B(E,0);z(E,0);B(E,1);z(E,1);L=y=false}}};this.updateConfig=function(t,F){(t=this.find(t))&&t.setConfig(F)};window.onresize=function(){L=true;K.scheduleAdjust()}}));
