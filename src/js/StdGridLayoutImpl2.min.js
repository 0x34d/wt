WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"StdLayout2",function(C,w,J,I,t,D,A,x,s,y,r){function E(a,b){var c=p[b],j=b?a.scrollHeight:a.scrollWidth;b=b?a.clientHeight:a.clientWidth;if(b>1E6){b-=1E6;if(j>1E6)j-=1E6}if(d.isIE&&(d.hasTag(a,"BUTTON")||d.hasTag(a,"TEXTAREA")||d.hasTag(a,"INPUT")||d.hasTag(a,"SELECT")))j=b;if(!d.isOpera&&!d.isGecko)j+=d.px(a,"border"+c.Left+"Width")+d.px(a,"border"+c.Right+"Width");j+=d.px(a,"margin"+c.Left)+d.px(a,"margin"+c.Right);if(!d.boxSizing(a)&&!d.isIE)j+=d.px(a,
"padding"+c.Left)+d.px(a,"padding"+c.Right);return j}function F(a,b){b=p[b];if(a.style.display=="none"||a.style.visibility=="hidden")return 0;else if(a["layoutMin"+b.Size])return a["layoutMin"+b.Size];else{var c=d.px(a,"min"+b.Size);d.boxSizing(a)||(c+=d.px(a,"padding"+b.Left)+d.px(a,"padding"+b.Right));return c}}function Q(a,b){b=p[b];var c=d.px(a,"margin"+b.Left)+d.px(a,"margin"+b.Right);if(!d.boxSizing(a)&&!(d.isIE&&!d.isIElt9&&d.hasTag(a,"BUTTON")))c+=d.px(a,"border"+b.Left+"Width")+d.px(a,"border"+
b.Right+"Width")+d.px(a,"padding"+b.Left)+d.px(a,"padding"+b.Right);return c}function O(a,b){b=p[b];return d.px(a,"padding"+b.Left)+d.px(a,"padding"+b.Right)}function R(a,b){if(d.boxSizing(a)){b=p[b];return d.px(a,"border"+b.Left+"Width")+d.px(a,"border"+b.Right+"Width")+d.px(a,"padding"+b.Left)+d.px(a,"padding"+b.Right)}else return 0}function S(a,b){b=p[b];return d.px(a,"border"+b.Left+"Width")+d.px(a,"border"+b.Right+"Width")+d.px(a,"margin"+b.Left)+d.px(a,"margin"+b.Right)+d.px(a,"padding"+b.Left)+
d.px(a,"padding"+b.Right)}function T(a){G=a.dirty=true;C.layouts2.scheduleAdjust()}function U(a,b,c){b=p[a];var j=b.config.length,f=p[a^1].config.length;if(G||H){var e=b.measures.slice();if(e.length==5){e[0]=e[0].slice();e[1]=e[1].slice()}var q=[],u=[],n=0,o=0,h,v=b.maxSize>0||!b.initialized[a];for(h=0;h<j;++h){var k=0,l=b.config[h][2],i=true;for(oi=0;oi<f;++oi){var g=b.getItem(h,oi);if(g){if(!g.w){var m=$("#"+g.id);g.w=m.get(0);m.find("img").load(function(){T(g)});g.w.style.left=g.w.style.top="-1000000px"}if(!g.ps)g.ps=
[];if(!g.ws)g.ws=[];if(!g.size)g.size=[];if(!g.set)g.set=[false,false];if(g.w){if(d.isIE)g.w.style.visibility="";if(g.dirty||H){if(g.align>>b.alignBits&15||v||b.config[h][0]<=0){m=E(g.w,a);if(g.layout&&m<g.ps[a])m=g.ps[a];else g.ps[a]=m;if(!g.span||g.span[a]==1)if(m>k)k=m}m=F(g.w,a);if(m>l)l=m;g.ws[a]=m;if(a==1)g.dirty=false}else{if(!g.span||g.span[a]==1)if(g.ps[a]>k)k=g.ps[a];if(g.ws[a]>l)l=g.ps[a]}if(g.w.style.display!=="none")i=false}}}if(i)l=k=-1;else if(l>k)k=l;q[h]=k;u[h]=l;if(l>-1){n+=k;o+=
l}}f=0;v=true;k=false;for(h=0;h<j;++h)if(u[h]>-1){if(v){f+=b.margins[1];v=false}else{f+=b.margins[0];if(k)f+=4}k=b.config[h][1]}v||(f+=b.margins[2]);n+=f;o+=f;b.measures=[q,u,n,o];if(K)if(e[2]!=b.measures[2]){j=S(L,a);K.setChildSize(L,a,b.measures[2]+j)}if(c&&e[3]!=b.measures[3]){a=b.measures[3]+"px";if(c.style["min"+b.Size]!=a){c.style["min"+b.Size]=a;M.ancestor&&M.ancestor.setContentsDirty(c)}}}}function V(a,b,c){a=p[a];a.fixedSize[b]=a.sizes[b]+c;C.layouts2.scheduleAdjust()}function W(a,b,c){var j=
b.di,f=p[a],e=p[a^1],q,u=d.getElement(w),n;for(n=j-1;n>=0;--n)if(f.sizes[n]>=0){q=-(f.sizes[n]-f.measures[1][n]);break}j=f.sizes[j]-f.measures[1][j];new d.SizeHandle(d,f.resizeDir,d.pxself(b,f.size),d.pxself(b,e.size),q,j,f.resizerClass,function(o){V(a,n,o)},b,u,c,0,0)}function X(a,b){var c=p[a],j=p[a^1],f=c.measures,e=0,q=false,u=false,n=false,o=N?b.parentNode:null;if(c.maxSize===0)if(o){var h=d.css(o,"position");if(h==="absolute")e=d.pxself(o,c.size);if(e===0){if(!c.initialized){c.initialized=true;
if(h!=="absolute"){e=a?o.clientHeight:o.clientWidth;q=true;if(a==0&&e==0&&d.isIE6){e=o.offsetWidth;q=false}if(d.isIE6&&e==0||e==f[3]+O(o,a))c.maxSize=999999}}if(e===0&&c.maxSize===0){e=a?o.clientHeight:o.clientWidth;q=true}}}else{e=d.pxself(b,c.size);u=true}if(c.maxSize)if(f[2]<c.maxSize){o.style[c.size]=f[2]+"px";e=f[2];n=u=true}else{e=c.maxSize;q=false}u||(e-=q?O(o,a):R(o,a));if(!(o&&e<=0)){if(e<f[3])e=f[3];$(b).children("."+j.handleClass).css(c.size,e-c.margins[2]-c.margins[1]+"px");q=f[1].slice();
u=c.config.length;o=j.config.length;if(e==f[2])n=true;if(e>f[3]){for(var v=h=0,k=0,l=0,i=0;i<u;++i)if(f[1][i]>-1)if(typeof c.fixedSize[i]!=="undefined"){k+=c.fixedSize[i];q[i]=c.fixedSize[i]}else{++l;if(c.config[i][0]<=0)h+=f[0][i]-f[1][i];else v+=c.config[i][0]}e=e-f[3]-k;if(c.fitSize&&!n&&v==0)h=0;if(h){n=e>h?h:e;h=n/h;for(i=0;i<u;++i)if(f[1][i]>-1)if(typeof c.fixedSize[i]==="undefined"&&c.config[i][0]<=0)q[i]+=h*(f[0][i]-f[1][i]);e-=n}if(c.fitSize&&e>0){h=v;if(v==0)h=l;h=e/h;for(i=0;i<u;++i)if(f[1][i]>
-1)if(typeof c.fixedSize[i]==="undefined"){n=v==0?1:c.config[i][0];if(n>0)q[i]+=n*h}}}c.sizes=q;f=0;v=true;e=false;for(i=0;i<u;++i)if(q[i]>-1){if(n=e){h=w+"-rs"+a+"-"+i;e=d.getElement(h);if(!e){e=document.createElement("div");e.setAttribute("id",h);e.di=i;e.style.position="absolute";e.style[j.left]=j.margins[1]+"px";e.style[c.size]=c.margins[0]+"px";e.className=c.handleClass;b.insertBefore(e,b.firstChild);e.onmousedown=e.ontouchstart=function(Y){W(a,this,Y||window.event)}}f+=2;e.style[c.left]=f+"px";
f+=2}e=c.config[i][1];if(v){f+=c.margins[1];v=false}else f+=c.margins[0];for(oi=0;oi<o;++oi)if((l=c.getItem(i,oi))&&l.w){k=l.w;h=q[i];if(l.span){var g,m=e;for(g=1;g<l.span[a];++g){if(m)h+=4;m=c.config[i+m][1];h+=c.margins[0];h+=q[i+g]}}var B;k.style.visibility="";m=l.align>>c.alignBits&15;g=l.ps[a];if(h<g)m=0;if(m){switch(m){case 1:B=f;break;case 4:B=f+(h-g)/2;break;case 2:B=f+(h-g);break}if(l.layout)k.style[c.size]=g+"px";l.size[a]=g}else{B=Q(k,a);m=h;if(d.isIElt9||!d.hasTag(k,"BUTTON")&&!d.hasTag(k,
"INPUT")&&!d.hasTag(k,"SELECT"))m=Math.max(0,m-B);B=false;if(d.isIE&&d.hasTag(k,"BUTTON"))B=true;if(B||h!=g||k.style[c.size]!=""||l.layout){k.style[c.size]=m+"px";l.set[a]=true}else k.style[c.size]="";B=f;l.size[a]=m}if(D)if(n){k.style[c.left]="4px";h=d.css(k,"position");if(h!=="absolute")k.style.position="relative"}else k.style[c.left]="0px";else k.style[c.left]=B+"px";a==1&&k.wtResize&&k.wtResize(k,l.size[0],l.size[1])}f+=q[i]}}}var d=C.WT;this.ancestor=null;this.descendants=[];var M=this,z=r,G=
false,H=true,N=false,K=null,L=null,P=false,p=[{initialized:false,config:z.cols,margins:s,maxSize:A,measures:[],sizes:[],fixedSize:[],Left:"Left",left:"left",Right:"Right",Size:"Width",size:"width",alignBits:0,getItem:function(a,b){return z.items[b*p[0].config.length+a]},handleClass:"Wt-vrh2",resizeDir:"h",resizerClass:"Wt-hsh2",fitSize:I},{initialized:false,config:z.rows,margins:y,maxSize:x,measures:[],sizes:[],fixedSize:[],Left:"Top",left:"top",Right:"Bottom",Size:"Height",size:"height",alignBits:8,
getItem:function(a,b){return z.items[a*p[0].config.length+b]},handleClass:"Wt-hrh2",resizeDir:"v",resizerClass:"Wt-vsh2",fitSize:t}];jQuery.data(document.getElementById(w),"layout",this);this.setConfig=function(a){var b=z;z=a;p[0].config=z.cols;p[1].config=z.rows;var c;a=0;for(c=b.items.length;a<c;++a){var j=b.items[a];if(j){if(j.set[0])j.w.style[p[0].size]="";if(j.set[1])j.w.style[p[1].size]="";if(j.layout){M.setChildSize(j.w,0,j.ps[0]);M.setChildSize(j.w,1,j.ps[1])}}}H=true};this.getId=function(){return w};
this.setItemsDirty=function(a){var b,c,j=p[0].config.length;b=0;for(c=a.length;b<c;++b)z.items[a[b][0]*j+a[b][1]].dirty=true;G=true};this.setDirty=function(){H=true};this.setChildSize=function(a,b,c){var j,f;j=0;for(f=z.items.length;j<f;++j){var e=z.items[j];if(e&&e.id==a.id){if(!e.ps)e.ps=[];e.ps[b]=c;e.layout=true;break}}G=true};this.measure=function(a){var b=d.getElement(w);if(!b)return false;if(!P){P=true;if(N=J==null){if(K=jQuery.data(b.parentNode.parentNode,"layout"))L=b.parentNode}else{K=jQuery.data(document.getElementById(J),
"layout");L=b}}if(G||H)U(a,b,N?b.parentNode:null);if(a==1)G=H=false};this.apply=function(a){var b=d.getElement(w);if(!b)return false;X(a,b);return true};this.contains=function(a){var b=d.getElement(w);a=d.getElement(a.getId());return b&&a?d.contains(b,a):false}});WT_DECLARE_WT_MEMBER(2,JavaScriptPrototype,"StdLayout2.prototype.initResize",function(){this.resizeInitialized=true});
WT_DECLARE_APP_MEMBER(1,JavaScriptObject,"layouts2",new (function(){var C=[],w=false,J=this;this.find=function(t){return jQuery.data(document.getElementById(t),"layout")};this.add=function(t){function D(A,x){var s,y;s=0;for(y=A.length;s<y;++s){var r=A[s];if(r.contains(x)){D(r.descendants,x);return}else if(x.contains(r)){x.descendants.push(r);A.splice(s,1);--s;--y}}A.push(x)}D(C,t)};var I=false;this.scheduleAdjust=function(){if(!I){I=true;setTimeout(function(){J.adjust()},1)}};this.adjust=function(t,
D){function A(s,y){var r,E;r=0;for(E=s.length;r<E;++r){var F=s[r];A(F.descendants,y);F.measure(y)}}function x(s,y){var r,E;r=0;for(E=s.length;r<E;++r){var F=s[r];if(F.apply(y))x(F.descendants,y);else{s.splice(r,1);--r;--E}}}if(t)(t=this.find(t))&&t.setItemsDirty(D);else{I=false;if(!w){w=true;A(C,0);x(C,0);A(C,1);x(C,1);w=false}}};this.updateConfig=function(t,D){(t=this.find(t))&&t.setConfig(D)}}));
