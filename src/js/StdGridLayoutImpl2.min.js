WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"StdLayout2",function(G,A,M,N,O,t,H,D,B,v,z){function u(a,b){var c=s[b],g=b?a.scrollHeight:a.scrollWidth,i=b?a.clientHeight:a.clientWidth;b=b?a.offsetHeight:a.offsetWidth;if(i>=1E6){i-=1E6;if(g>=1E6)g-=1E6}if(g===0)g=e.pxself(a,c.size);if(e.isIE&&(e.hasTag(a,"BUTTON")||e.hasTag(a,"TEXTAREA")||e.hasTag(a,"INPUT")||e.hasTag(a,"SELECT")))g=i;if(!e.isOpera&&!e.isGecko)g+=e.px(a,"border"+c.Left+"Width")+e.px(a,"border"+c.Right+"Width");g+=e.px(a,"margin"+c.Left)+
e.px(a,"margin"+c.Right);if(!e.boxSizing(a)&&!e.isIE)g+=e.px(a,"padding"+c.Left)+e.px(a,"padding"+c.Right);if(g<b)g=b;return g}function I(a,b){b=s[b];if(a.style.display=="none"||a.style.visibility=="hidden")return 0;else if(a["layoutMin"+b.Size])return a["layoutMin"+b.Size];else{var c=e.px(a,"min"+b.Size);e.boxSizing(a)||(c+=e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right));return c}}function E(a,b){b=s[b];var c=e.px(a,"margin"+b.Left)+e.px(a,"margin"+b.Right);if(!e.boxSizing(a)&&!(e.isIE&&!e.isIElt9&&
e.hasTag(a,"BUTTON")))c+=e.px(a,"border"+b.Left+"Width")+e.px(a,"border"+b.Right+"Width")+e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right);return c}function X(a,b){b=s[b];return e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right)}function V(a,b){if(e.boxSizing(a)){b=s[b];return e.px(a,"border"+b.Left+"Width")+e.px(a,"border"+b.Right+"Width")+e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right)}else return 0}function S(a,b){b=s[b];return e.px(a,"border"+b.Left+"Width")+e.px(a,"border"+b.Right+"Width")+
e.px(a,"margin"+b.Left)+e.px(a,"margin"+b.Right)+e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right)}function P(a,b){J=a.dirty=true;b&&G.layouts2.scheduleAdjust()}function y(a,b,c){if(a.style[b]!==c){a.style[b]=c;return true}else return false}function Z(a,b,c){b=s[a];var g=s[a^1],i=b.config.length,k=g.config.length;if(J||K){var o=b.measures.slice();if(o.length==5){o[0]=o[0].slice();o[1]=o[1].slice()}var w=[],d=[],n=0,j=0,h,p;for(h=0;h<i;++h){var l=0,q=b.config[h][2],m=true;for(p=0;p<k;++p){var f=b.getItem(h,
p);if(f){if(!f.w){var x=$("#"+f.id);f.w=x.get(0);(function(){x.find("img").load(function(){P(f)})})();f.w.style[b.left]=f.w.style[g.left]="-1000000px"}if(!t&&f.w.style.position!="absolute"){f.w.style.position="absolute";f.w.style.visibility="hidden";if(!f.w.wtResize){f.w.style.boxSizing="border-box";var r=e.cssPrefix("BoxSizing");if(r)f.w.style[r+"BoxSizing"]="border-box"}}if(!f.ps)f.ps=[];if(!f.ms)f.ms=[];if(!f.size)f.size=[];if(!f.psize)f.psize=[];if(!f.fs)f.fs=[];if(!f.set)f.set=[false,false];
if(f.w){if(e.isIE)f.w.style.visibility="";if(f.dirty||K){r=I(f.w,a);if(r>q)q=r;f.ms[a]=r;if(!f.set[a])if(a==0){var F=e.pxself(f.w,b.size);f.fs[a]=F?F+E(f.w,a):0}else{F=e.px(f.w,b.size);f.fs[a]=F>Math.max(V(f.w,a),r)?F+E(f.w,a):0}r=f.fs[a];if(f.layout)r=Math.max(r,f.ps[a]);else{F=u(f.w,a);r=(typeof f.ps[a]==="undefined"||b.config[h][0]<=0)&&(!f.set[a]||F!=f.psize[a])?Math.max(r,F):Math.max(r,f.ps[a])}f.ps[a]=r;if(!f.span||f.span[a]==1)if(r>l)l=r}else if(!f.span||f.span[a]==1){if(f.ps[a]>l)l=f.ps[a];
if(f.ms[a]>q)q=f.ms[a]}if(f.w.style.display!=="none"||e.hasTag(f.w,"TEXTAREA")&&f.w.wtResize)m=false}}}if(m)q=l=-1;else if(q>l)l=q;w[h]=l;d[h]=q;if(q>-1){n+=l;j+=q}}g=0;k=true;p=false;for(h=0;h<i;++h)if(d[h]>-1){if(k){g+=b.margins[1];k=false}else{g+=b.margins[0];if(p)g+=4}p=b.config[h][1]!==0}k||(g+=b.margins[2]);n+=g;j+=g;b.measures=[w,d,n,j,g];T&&o[2]!=b.measures[2]&&T.setChildSize(Q,a,b.measures[2]+L[a]);c&&o[3]!=b.measures[3]&&c.parentNode.className!="Wt-domRoot"&&y(c,"min"+b.Size,b.measures[3]+
"px")&&U.ancestor&&U.ancestor.setContentsDirty(c);c&&a==0&&c&&e.hasTag(c,"TD")&&y(c,b.size,b.measures[2]+"px")}}function aa(a,b,c){a=s[a];if(R)c=-c;a.fixedSize[b]=a.sizes[b]+c;G.layouts2.scheduleAdjust()}function ba(a,b,c){var g=b.di,i=s[a],k=s[a^1],o,w=e.getElement(A),d;for(d=g-1;d>=0;--d)if(i.sizes[d]>=0){o=-(i.sizes[d]-i.measures[1][d]);break}g=i.sizes[g]-i.measures[1][g];if(R){var n=o;o=-g;g=-n}new e.SizeHandle(e,i.resizeDir,e.pxself(b,i.size),e.pxself(b,k.size),o,g,i.resizerClass,function(j){aa(a,
d,j)},b,w,c,0,0)}function ca(a,b){var c=s[a],g=s[a^1],i=c.measures,k=0,o=false,w=false,d=false,n=W?b.parentNode:null;if(c.maxSize===0)if(n){var j=e.css(n,"position");if(j==="absolute")k=e.pxself(n,c.size);if(k===0){if(!c.initialized)if(j!=="absolute"){k=a?n.clientHeight:n.clientWidth;o=true;if(a==0&&k==0&&e.isIElt9){k=n.offsetWidth;o=false}var h;if((e.hasTag(n,"TD")||e.hasTag(n,"TH"))&&!(e.isIE&&!e.isIElt9)){d=0;h=1}else{d=i[3];h=0}if(e.isIElt9&&k==h||k==d+X(n,a))c.maxSize=999999}if(k===0&&c.maxSize===
0){k=a?n.clientHeight:n.clientWidth;o=true}}}else{k=e.pxself(b,c.size);w=true}if(c.maxSize)if(i[2]<c.maxSize){y(n,c.size,i[2]+V(n,a)+"px");k=i[2];d=w=true}else{k=c.maxSize;o=false}c.cSize=k;if(a==1&&n&&n.wtResize){h=g.cSize;n.wtResize(n,h,c.cSize)}if(!w){w=0;if(c.initialized)w=c.cPadding;else{w=o?X(n,a):V(n,a);c.cPadding=w}k-=w}c.initialized=true;if(!(n&&k<=0)){if(k<i[3])k=i[3];$(b).children("."+g.handleClass).css(c.size,k-c.margins[2]-c.margins[1]+"px");o=[];n=c.config.length;w=g.config.length;if(k>
i[3]){var p=k-i[4];h=[];var l=[0,0],q=[0,0],m=0;for(d=0;d<n;++d)if(i[1][d]>-1){j=-1;if(typeof c.fixedSize[d]!=="undefined")j=c.fixedSize[d];else if(c.config[d][1]!==0&&c.config[d][1][0]>=0){j=c.config[d][1][0];if(c.config[d][1][1])j=(k-i[4])*j/100}if(j>=0){h[d]=-1;o[d]=j;p-=o[d]}else{if(c.config[d][0]>0){j=1;h[d]=c.config[d][0];m+=h[d]}else{j=0;h[d]=0}l[j]+=i[1][d];q[j]+=i[0][d];o[d]=i[0][d]}}else h[d]=-2;if(m==0){for(d=0;d<n;++d)if(h[d]==0){h[d]=1;++m}q[1]=q[0];l[1]=l[0];q[0]=0;l[0]=0}if(p>q[0]+
l[1]){p-=q[0];if(p>q[1]){if(c.fitSize){p-=q[1];k=p/m;for(d=0;d<n;++d)if(h[d]>0)o[d]+=Math.round(h[d]*k)}}else{j=1;if(p<l[j])p=l[j];k=q[j]-l[j]>0?(p-l[j])/(q[j]-l[j]):0;for(d=0;d<n;++d)if(h[d]>0){p=i[0][d]-i[1][d];o[d]=i[1][d]+Math.round(p*k)}}}else{for(d=0;d<n;++d)if(h[d]>0)o[d]=i[1][d];p-=l[1];j=0;if(p<l[j])p=l[j];k=q[j]-l[j]>0?(p-l[j])/(q[j]-l[j]):0;for(d=0;d<n;++d)if(h[d]==0){p=i[0][d]-i[1][d];o[d]=i[1][d]+Math.round(p*k)}}}else o=i[1];c.sizes=o;i=0;k=true;l=false;for(d=0;d<n;++d)if(o[d]>-1){if(p=
l){h=A+"-rs"+a+"-"+d;l=e.getElement(h);if(!l){l=document.createElement("div");l.setAttribute("id",h);l.di=d;l.style.position="absolute";l.style[g.left]=g.margins[1]+"px";l.style[c.size]=c.margins[0]+"px";l.className=c.handleClass;b.insertBefore(l,b.firstChild);l.onmousedown=l.ontouchstart=function(F){ba(a,this,F||window.event)}}i+=2;y(l,c.left,i+"px");i+=2}l=c.config[d][1]!==0;if(k){i+=c.margins[1];k=false}else i+=c.margins[0];for(q=0;q<w;++q)if((m=c.getItem(d,q))&&m.w){h=m.w;j=o[d];if(m.span){var f,
x=l;for(f=1;f<m.span[a];++f){if(x)j+=4;x=c.config[d+x][1]!==0;j+=c.margins[0];j+=o[d+f]}}var r;h.style.visibility="";x=m.align>>c.alignBits&15;f=m.ps[a];if(j<f)x=0;if(x){switch(x){case 1:r=i;break;case 4:r=i+(j-f)/2;break;case 2:r=i+(j-f);break}if(m.layout){y(h,c.size,f+"px")&&P(m);m.set[a]=true}else if(j>=f&&m.set[a]){y(h,c.size,f+"px")&&P(m);m.set[a]=false}m.size[a]=f;m.psize[a]=f}else{r=E(m.w,a);x=j;if(e.isIElt9||!e.hasTag(h,"BUTTON")&&!e.hasTag(h,"INPUT")&&!e.hasTag(h,"SELECT")&&!e.hasTag(h,"TEXTAREA"))x=
Math.max(0,x-r);r=false;if(e.isIE&&e.hasTag(h,"BUTTON"))r=true;if(r||j!=f||m.layout){y(h,c.size,x+"px")&&P(m);m.set[a]=true}else if(m.fs[a])a==0&&y(h,c.size,m.fs[a]+"px");else{y(h,c.size,"")&&P(m);m.set[a]=false}r=i;m.size[a]=x;m.psize[a]=j}if(t)if(p){y(h,c.left,"4px");j=e.css(h,"position");if(j!=="absolute")h.style.position="relative"}else y(h,c.left,"0px");else y(h,c.left,r+"px");if(a==1){h.wtResize&&h.wtResize(h,m.size[0],m.size[1]);m.dirty=false}}i+=o[d]}}}var e=G.WT;this.ancestor=null;this.descendants=
[];var U=this,C=z,J=false,K=true,W=false,T=null,Q=null,Y=false,L=[],R=$(document.body).hasClass("Wt-rtl"),s=[{initialized:false,config:C.cols,margins:B,maxSize:H,measures:[],sizes:[],fixedSize:[],Left:R?"Right":"Left",left:R?"right":"left",Right:R?"Left":"Right",Size:"Width",size:"width",alignBits:0,getItem:function(a,b){return C.items[b*s[0].config.length+a]},handleClass:"Wt-vrh2",resizeDir:"h",resizerClass:"Wt-hsh2",fitSize:N},{initialized:false,config:C.rows,margins:v,maxSize:D,measures:[],sizes:[],
fixedSize:[],Left:"Top",left:"top",Right:"Bottom",Size:"Height",size:"height",alignBits:4,getItem:function(a,b){return C.items[a*s[0].config.length+b]},handleClass:"Wt-hrh2",resizeDir:"v",resizerClass:"Wt-vsh2",fitSize:O}];jQuery.data(document.getElementById(A),"layout",this);this.setConfig=function(a){var b=C;C=a;s[0].config=C.cols;s[1].config=C.rows;var c;a=0;for(c=b.items.length;a<c;++a){var g=b.items[a];if(g){g.set[0]&&y(g.w,s[0].size,"");g.set[1]&&y(g.w,s[1].size,"");if(g.layout){U.setChildSize(g.w,
0,g.ps[0]);U.setChildSize(g.w,1,g.ps[1])}}}K=true};this.getId=function(){return A};this.setItemsDirty=function(a){var b,c,g=s[0].config.length;b=0;for(c=a.length;b<c;++b)C.items[a[b][0]*g+a[b][1]].dirty=true;J=true};this.setDirty=function(){K=true};this.setChildSize=function(a,b,c){var g,i;g=0;for(i=C.items.length;g<i;++g){var k=C.items[g];if(k&&k.id==a.id){if(!k.ps)k.ps=[];k.ps[b]=c;k.layout=true;break}}J=true};this.measure=function(a){var b=e.getElement(A);if(b)if(!e.isHidden(b)){if(!Y){Y=true;
if(W=M==null){var c=b.parentNode;for(L=[0,0];;){L[0]+=S(c,0);L[1]+=S(c,1);var g=jQuery.data(c.parentNode,"layout");if(g){T=g;Q=c;break}c=c.parentNode;if(c.childNodes.length!=1)break}}else{T=jQuery.data(document.getElementById(M),"layout");Q=b;L[0]=S(Q,0);L[1]=S(Q,1)}}if(J||K)Z(a,b,W?b.parentNode:null);if(a==1)J=K=false}};this.apply=function(a){var b=e.getElement(A);if(!b)return false;if(e.isHidden(b))return true;ca(a,b);return true};this.contains=function(a){var b=e.getElement(A);a=e.getElement(a.getId());
return b&&a?e.contains(b,a):false}});WT_DECLARE_WT_MEMBER(2,JavaScriptPrototype,"StdLayout2.prototype.initResize",function(){this.resizeInitialized=true});
WT_DECLARE_APP_MEMBER(1,JavaScriptObject,"layouts2",new (function(){var G=[],A=false,M=this,N=false;this.find=function(t){return jQuery.data(document.getElementById(t),"layout")};this.setDirty=function(t){(t=jQuery.data(t,"layout"))&&t.setDirty()};this.add=function(t){function H(D,B){var v,z;v=0;for(z=D.length;v<z;++v){var u=D[v];if(u.contains(B)){H(u.descendants,B);return}else if(B.contains(u)){B.descendants.push(u);D.splice(v,1);--v;--z}}D.push(B)}H(G,t)};var O=false;this.scheduleAdjust=function(){if(!O){O=
true;setTimeout(function(){M.adjust()},0)}};this.adjust=function(t,H){function D(v,z){var u,I;u=0;for(I=v.length;u<I;++u){var E=v[u];D(E.descendants,z);z==1&&N&&E.setDirty();E.measure(z)}}function B(v,z){var u,I;u=0;for(I=v.length;u<I;++u){var E=v[u];if(E.apply(z))B(E.descendants,z);else{v.splice(u,1);--u;--I}}}if(t)(t=this.find(t))&&t.setItemsDirty(H);else{O=false;if(!A){A=true;D(G,0);B(G,0);D(G,1);B(G,1);N=A=false}}};this.updateConfig=function(t,H){(t=this.find(t))&&t.setConfig(H)};window.onresize=
function(){N=true;M.scheduleAdjust()}}));
