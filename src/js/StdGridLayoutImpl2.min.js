WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"StdLayout2",function(F,E,K,T,U,V,aa,q,D,y,A){function z(a,b,c,e){function i(l){return l=="visible"||l=="none"}var k=s[b],j=b?a.scrollHeight:a.scrollWidth,t,d;if(b==0&&j+f.pxself(a,k.left)>=e.clientWidth){t=a.style[k.left];v(a,k.left,"-1000000px");j=b?a.scrollHeight:a.scrollWidth}e=b?a.clientHeight:a.clientWidth;if(f.isGecko&&!a.style[k.size]&&b==0&&i(f.css(a,"overflow"))){d=a.style[k.size];v(a,k.size,"")}b=b?a.offsetHeight:a.offsetWidth;t&&v(a,k.left,
t);d&&v(a,k.size,d);if(e>=1E6)e-=1E6;if(j>=1E6)j-=1E6;if(b>=1E6)b-=1E6;if(j===0){j=f.pxself(a,k.size);if(j!==0&&!f.isOpera&&!f.isGecko)j-=f.px(a,"border"+k.Left+"Width")+f.px(a,"border"+k.Right+"Width")}if(f.isIE&&(f.hasTag(a,"BUTTON")||f.hasTag(a,"TEXTAREA")||f.hasTag(a,"INPUT")||f.hasTag(a,"SELECT")))j=e;if(j>b)if(f.pxself(a,k.size)==0)j=e;else{var n=false;$(a).find(".Wt-popup").each(function(){if(this.style.display!=="none")n=true});if(n)j=e}d=f.px(a,"border"+k.Left+"Width")+f.px(a,"border"+k.Right+
"Width");t=b-(e+d)!=0;if(c)return[j,scrollBar];if(!f.boxSizing(a)&&!f.isOpera)j+=d;j+=f.px(a,"margin"+k.Left)+f.px(a,"margin"+k.Right);if(!f.boxSizing(a)&&!f.isIE)j+=f.px(a,"padding"+k.Left)+f.px(a,"padding"+k.Right);j+=b-(e+d);if(j<b)j=b;a=f.px(a,"max"+k.Size);if(a>0)j=Math.min(a,j);return[Math.round(j),t]}function C(a,b){b=s[b];if(a.style.display==="none")return 0;else if(a["layoutMin"+b.Size])return a["layoutMin"+b.Size];else{var c=f.px(a,"min"+b.Size);f.boxSizing(a)||(c+=f.px(a,"padding"+b.Left)+
f.px(a,"padding"+b.Right));return c}}function x(a,b){b=s[b];var c=f.px(a,"margin"+b.Left)+f.px(a,"margin"+b.Right);if(!f.boxSizing(a)&&!(f.isIE&&!f.isIElt9&&f.hasTag(a,"BUTTON")))c+=f.px(a,"border"+b.Left+"Width")+f.px(a,"border"+b.Right+"Width")+f.px(a,"padding"+b.Left)+f.px(a,"padding"+b.Right);return c}function M(a,b){b=s[b];return f.px(a,"padding"+b.Left)+f.px(a,"padding"+b.Right)}function G(a,b){if(f.boxSizing(a)){b=s[b];return f.px(a,"border"+b.Left+"Width")+f.px(a,"border"+b.Right+"Width")+
f.px(a,"padding"+b.Left)+f.px(a,"padding"+b.Right)}else return 0}function ba(a,b){b=s[b];return Math.round(f.px(a,"border"+b.Left+"Width")+f.px(a,"border"+b.Right+"Width")+f.px(a,"margin"+b.Left)+f.px(a,"margin"+b.Right)+f.px(a,"padding"+b.Left)+f.px(a,"padding"+b.Right))}function W(a,b,c){a.dirty=Math.max(a.dirty,b);N=true;c&&F.layouts2.scheduleAdjust()}function v(a,b,c){if(a.style[b]!==c){a.style[b]=c;return true}else return false}function qa(a,b,c){var e=s[a],i=e.config.length,k=s[a^1].config.length,
j=e.measures.slice();if(j.length==5){j[0]=j[0].slice();j[1]=j[1].slice()}if(N){if(c&&typeof e.minSize=="undefined"){e.minSize=f.px(c,"min"+e.Size);if(e.minSize>0)e.minSize-=G(c,a)}var t=[],d=[],n=0,l=0,h,H,r=false;for(h=0;h<i;++h){var m=0,u=e.config[h][2],p=true;for(H=0;H<k;++H){var g=e.getItem(h,H);if(g){if(!g.w||a==0&&g.dirty>1){var o=$("#"+g.id),w=o.get(0);if(!w){e.setItem(h,H,null);continue}if(w!=g.w){g.w=w;o.find("img").add(o.filter("img")).bind("load",{item:g},function(P){W(P.data.item,1,true)})}}if(!V&&
g.w.style.position!="absolute"){g.w.style.position="absolute";g.w.style.visibility="hidden"}if(!g.ps)g.ps=[];if(!g.sc)g.sc=[];if(!g.ms)g.ms=[];if(!g.size)g.size=[];if(!g.psize)g.psize=[];if(!g.fs)g.fs=[];if(!g.margin)g.margin=[];if($(g.w).hasClass("Wt-hidden"))g.ps[a]=g.ms[a]=0;else{o=!g.set;if(!g.set)g.set=[false,false];if(g.w){if(f.isIE)g.w.style.visibility="";if(g.dirty){if(g.dirty>1){w=C(g.w,a);g.ms[a]=w}else w=g.ms[a];if(w>u)u=w;if(g.dirty>1)g.margin[a]=x(g.w,a);if(!g.set[a])if(a==0||!o){o=f.pxself(g.w,
e.size);g.fs[a]=o?o+g.margin[a]:0}else{o=Math.round(f.px(g.w,e.size));g.fs[a]=o>Math.max(G(g.w,a),w)?o+g.margin[a]:0}o=g.fs[a];if(g.layout){if(o==0)o=g.ps[a];g.ps[a]=o}else{if(g.wasLayout){g.wasLayout=false;g.set=[false,false];g.ps=[];g.w.wtResize&&g.w.wtResize(g.w,-1,-1,true);v(g.w,s[1].size,"")}w=z(g.w,a,false,b);var J=w[0],Q=g.set[a];if(Q)if(g.psize[a]>8)Q=J>=g.psize[a]-4&&J<=g.psize[a]+4;var ka=typeof g.ps[a]!=="undefined"&&e.config[h][0]>0&&g.set[a];o=Q||ka?Math.max(o,g.ps[a]):Math.max(o,J);
g.ps[a]=o;g.sc[a]=w[1]}if(!g.span||g.span[a]==1){if(o>m)m=o}else r=true}else if(!g.span||g.span[a]==1){if(g.ps[a]>m)m=g.ps[a];if(g.ms[a]>u)u=g.ms[a]}else r=true;if(!(g.w.style.display==="none"&&!g.w.ed)&&(!g.span||g.span[a]==1))p=false}}}}if(p)u=m=-1;else if(u>m)m=u;t[h]=m;d[h]=u;if(u>-1){n+=m;l+=u}}if(r){function ma(P,fa){for(h=0;h<i;++h)for(H=0;H<k;++H){var X=e.getItem(h,H);if(X&&X.span&&X.span[a]>1){var ca=P(X),ga=0,ha=0,I;for(I=0;I<X.span[a];++I){var O=fa[h+I];if(O!=-1){ca-=O;++ga;if(e.config[h+
I][0]>0)ha+=e.config[h+I][0]}}if(ca>=0)if(ga>0){if(ha>0)ga=ha;for(I=0;I<X.span[a];++I){O=fa[h+I];if(O!=-1){O=ha>0?e.config[h+I][0]:1;if(O>0){var na=Math.round(ca/O);ca-=na;ga-=O;fa[h+I]+=na}}}}else fa[h]=ca}}}ma(function(P){return P.ps[a]},t);ma(function(P){return P.ms[a]},d)}b=0;o=true;r=false;for(h=0;h<i;++h)if(d[h]>-1){if(o){b+=e.margins[1];o=false}else{b+=e.margins[0];if(r)b+=4}r=e.config[h][1]!==0}o||(b+=e.margins[2]);n+=b;l+=b;e.measures=[t,d,n,l,b]}if(da||j[2]!=e.measures[2])ia.updateSizeInParent(a);
c&&e.minSize==0&&j[3]!=e.measures[3]&&c.parentNode.className!="Wt-domRoot"&&v(c,"min"+e.Size,e.measures[3]+"px");c&&a==0&&c&&f.hasTag(c,"TD")&&v(c,e.size,e.measures[2]+"px")}function ra(a,b,c){a=s[a];if(ea)c=-c;if(a.config[b][0]>0&&a.config[b+1][0]==0){++b;c=-c}a.fixedSize[b]=a.sizes[b]+c;F.layouts2.scheduleAdjust()}function sa(a,b,c){var e=b.di,i=s[a],k=s[a^1],j,t=f.getElement(E),d;for(d=e-1;d>=0;--d)if(i.sizes[d]>=0){j=-(i.sizes[d]-i.measures[1][d]);break}e=i.sizes[e]-i.measures[1][e];if(ea){var n=
j;j=-e;e=-n}new f.SizeHandle(f,i.resizeDir,f.pxself(b,i.size),f.pxself(b,k.size),j,e,i.resizerClass,function(l){ra(a,d,l)},b,t,c,0,0)}function ta(a,b){var c=s[a],e=s[a^1],i=c.measures,k=0,j=false,t=false,d=false,n=ja?b.parentNode:null;if(c.maxSize===0)if(n){var l=f.css(n,"position");if(l==="absolute")k=f.pxself(n,c.size);if(k===0){if(!c.initialized){if(a===0&&(l==="absolute"||l==="fixed")){n.style.display="none";k=n.clientWidth;n.style.display=""}k=a?n.clientHeight:n.clientWidth;j=true;if(a==0&&k==
0&&f.isIElt9){k=n.offsetWidth;j=false}var h;if((f.hasTag(n,"TD")||f.hasTag(n,"TH"))&&!(f.isIE&&!f.isIElt9)){d=0;h=1}else{d=c.minSize?c.minSize:i[3];h=0}function H(Q,ka){return Q-ka<=1}if(f.isIElt9&&H(k,h)||H(k,d+M(n,a)))c.maxSize=999999}if(k===0&&c.maxSize===0){k=a?n.clientHeight:n.clientWidth;j=true}}}else{k=f.pxself(b,c.size);t=true}else if(c.sizeSet){k=f.pxself(n,c.size);t=true}var r=0;if(n&&n.wtGetPS&&a==1)r=n.wtGetPS(n,b,a,0);d=i[2];if(d<c.minSize)d=c.minSize;if(c.maxSize&&!c.sizeSet){k=Math.min(d,
c.maxSize)+r;v(n,c.size,k+G(n,a)+"px")&&Y&&Y.setElDirty(S);k=k;d=t=true}c.cSize=k;if(a==1&&n&&n.wtResize){h=e.cSize;d=c.cSize;n.wtResize(n,Math.round(h),Math.round(d),true)}k-=r;if(!t){t=0;if(typeof c.cPadding==="undefined"){t=j?M(n,a):G(n,a);c.cPadding=t}else t=c.cPadding;k-=t}c.initialized=true;if(!(n&&k<=0)){if(k<i[3]-r)k=i[3]-r;j=[];n=c.config.length;t=e.config.length;for(d=0;d<n;++d)c.stretched[d]=false;if(k>=i[3]-r){r=k-i[4];h=[];var m=[0,0],u=[0,0],p=0;for(d=0;d<n;++d)if(i[1][d]>-1){l=-1;if(typeof c.fixedSize[d]!==
"undefined"&&(d+1==n||i[1][d+1]>-1))l=c.fixedSize[d];else if(c.config[d][1]!==0&&c.config[d][1][0]>=0){l=c.config[d][1][0];if(c.config[d][1][1])l=(k-i[4])*l/100}if(l>=0){h[d]=-1;j[d]=l;r-=j[d]}else{if(c.config[d][0]>0){l=1;h[d]=c.config[d][0];p+=h[d]}else{l=0;h[d]=0}m[l]+=i[1][d];u[l]+=i[0][d];j[d]=i[0][d]}}else{h[d]=-2;j[d]=-1}if(p==0){for(d=0;d<n;++d)if(h[d]==0){h[d]=1;++p}u[1]=u[0];m[1]=m[0];u[0]=0;m[0]=0}if(r>u[0]+m[1]){r-=u[0];if(r>u[1]){if(c.fitSize){r-=u[1];r=r/p;for(d=0;d<n;++d)if(h[d]>0){j[d]+=
Math.round(h[d]*r);c.stretched[d]=true}}}else{l=1;if(r<m[l])r=m[l];r=u[l]-m[l]>0?(r-m[l])/(u[l]-m[l]):0;for(d=0;d<n;++d)if(h[d]>0){m=i[0][d]-i[1][d];j[d]=i[1][d]+Math.round(m*r)}}}else{for(d=0;d<n;++d)if(h[d]>0)j[d]=i[1][d];r-=m[1];l=0;if(r<m[l])r=m[l];r=u[l]-m[l]>0?(r-m[l])/(u[l]-m[l]):0;for(d=0;d<n;++d)if(h[d]==0){m=i[0][d]-i[1][d];j[d]=i[1][d]+Math.round(m*r)}}}else j=i[1];c.sizes=j;i=c.margins[1];r=true;m=false;for(d=0;d<n;++d){if(j[d]>-1){var g=m;if(m){h=E+"-rs"+a+"-"+d;m=f.getElement(h);if(!m){m=
document.createElement("div");m.setAttribute("id",h);m.di=d;m.style.position="absolute";m.style[e.left]=e.margins[1]+"px";m.style[c.size]=c.margins[0]+"px";if(e.cSize)m.style[e.size]=e.cSize-e.margins[2]-e.margins[1]+"px";m.className=c.handleClass;b.insertBefore(m,b.firstChild);m.onmousedown=m.ontouchstart=function(Q){sa(a,this,Q||window.event)}}i+=2;v(m,c.left,i+"px");i+=2}m=c.config[d][1]!==0;if(r)r=false;else i+=c.margins[0]}for(u=0;u<t;++u)if((p=c.getItem(d,u))&&p.w){h=p.w;l=Math.max(j[d],0);
if(p.span){var o,w=m;for(o=1;o<p.span[a];++o){if(d+o>=j.length)break;if(w)l+=4;w=c.config[d+o][1]!==0;if(j[d+o-1]>-1&&j[d+o]>-1)l+=c.margins[0];l+=j[d+o]}}var J;v(h,"visibility","");w=p.align>>c.alignBits&15;o=p.ps[a];if(l<o)w=0;if(w){switch(w){case 1:J=i;break;case 4:J=i+(l-o)/2;break;case 2:J=i+(l-o);break}o-=p.margin[a];if(p.layout){v(h,c.size,o+"px")&&W(p,1);p.set[a]=true}else if(l>=o&&p.set[a]){v(h,c.size,o+"px")&&W(p,1);p.set[a]=false}p.size[a]=o;p.psize[a]=o}else{w=Math.max(0,l-p.margin[a]);
J=a==0&&p.sc[a];if(!(h.style.display==="none"&&!h.ed)&&(J||l!=o||p.layout)){if(v(h,c.size,w+"px")){if(!f.isIE&&(f.hasTag(h,"TEXTAREA")||f.hasTag(h,"INPUT"))){v(h,"margin-"+c.left,p.margin[a]/2+"px");v(h,"margin-"+e.left,p.margin[!a]/2+"px")}W(p,1);p.set[a]=true}}else if(p.fs[a])a==0&&v(h,c.size,p.fs[a]+"px");else{v(h,c.size,"")&&W(p,1);p.set[a]=false}J=i;p.size[a]=w;p.psize[a]=l}if(V)if(g){v(h,c.left,"4px");l=f.css(h,"position");if(l!=="absolute")h.style.position="relative"}else v(h,c.left,"0px");
else v(h,c.left,J+"px");if(a==1){if(h.wtResize)h.wtResize(h,p.set[0]?Math.round(p.size[0]):-1,p.set[1]?Math.round(p.size[1]):-1,true);p.dirty=0}}if(j[d]>-1)i+=j[d]}$(b).children("."+e.handleClass).css(c.size,k-c.margins[2]-c.margins[1]+"px")}}var f=F.WT;this.descendants=[];var ia=this,B=A,N=true,da=true,ja=false,Y=null,S=null,la=false,oa=false,Z=[],pa=false,ea=$(document.body).hasClass("Wt-rtl"),s=[{initialized:false,config:B.cols,margins:D,maxSize:aa,measures:[],sizes:[],stretched:[],fixedSize:[],
Left:ea?"Right":"Left",left:ea?"right":"left",Right:ea?"Left":"Right",Size:"Width",size:"width",alignBits:0,getItem:function(a,b){return B.items[b*s[0].config.length+a]},setItem:function(a,b,c){B.items[b*s[0].config.length+a]=c},handleClass:"Wt-vrh2",resizeDir:"h",resizerClass:"Wt-hsh2",fitSize:T},{initialized:false,config:B.rows,margins:y,maxSize:q,measures:[],sizes:[],stretched:[],fixedSize:[],Left:"Top",left:"top",Right:"Bottom",Size:"Height",size:"height",alignBits:4,getItem:function(a,b){return B.items[a*
s[0].config.length+b]},setItem:function(a,b,c){B.items[a*s[0].config.length+b]=c},handleClass:"Wt-hrh2",resizeDir:"v",resizerClass:"Wt-vsh2",fitSize:U}];jQuery.data(document.getElementById(E),"layout",this);this.updateSizeInParent=function(a){if(Y)if(la){var b=s[a],c=b.measures[2];if(b.maxSize>0)c=Math.min(b.maxSize,c);if(pa){b=f.getElement(E);if(!b)return;for(var e=b,i=e.parentNode;;){if(i.wtGetPS)c=i.wtGetPS(i,e,a,c);c+=ba(i,a);if(i==S)break;if(a==1&&i==b.parentNode&&!i.lh&&i.offsetHeight>c)c=i.offsetHeight;
e=i;i=e.parentNode}}else c+=Z[a];Y.setChildSize(S,a,c)}};this.setConfig=function(a){var b=B;B=a;s[0].config=B.cols;s[1].config=B.rows;s[0].stretched=[];s[1].stretched=[];var c;a=0;for(c=b.items.length;a<c;++a){var e=b.items[a];if(e){if(e.set){e.set[0]&&v(e.w,s[0].size,"");e.set[1]&&v(e.w,s[1].size,"")}if(e.layout){ia.setChildSize(e.w,0,e.ps[0]);ia.setChildSize(e.w,1,e.ps[1])}}}N=da=true;F.layouts2.scheduleAdjust()};this.getId=function(){return E};this.setElDirty=function(a){var b,c;b=0;for(c=B.items.length;b<
c;++b){var e=B.items[b];if(e&&e.id==a.id){e.dirty=2;N=true;F.layouts2.scheduleAdjust();return}}};this.setItemsDirty=function(a){var b,c,e=s[0].config.length;b=0;for(c=a.length;b<c;++b){var i=B.items[a[b][0]*e+a[b][1]];i.dirty=2;if(i.layout){i.layout=false;i.wasLayout=true;F.layouts2.setChildLayoutsDirty(ia,i.w)}}N=true};this.setDirty=function(){da=true};this.setAllDirty=function(){var a,b;a=0;for(b=B.items.length;a<b;++a){var c=B.items[a];if(c)c.dirty=2}N=true};this.setChildSize=function(a,b,c){var e=
s[0].config.length,i=s[b],k,j;k=0;for(j=B.items.length;k<j;++k){var t=B.items[k];if(t&&t.id==a.id){a=b===0?k%e:k/e;if(t.align>>i.alignBits&15||!i.stretched[a]){if(!t.ps)t.ps=[];t.ps[b]=c}t.layout=true;W(t,1);break}}};this.measure=function(a){var b=f.getElement(E);if(b)if(!f.isHidden(b)){if(!oa){oa=true;ja=K==null;la=true;if(ja){var c=b;c=c.parentNode;for(Z=[0,0];c!=document;){Z[0]+=ba(c,0);Z[1]+=ba(c,1);if(c.wtGetPS)pa=true;var e=jQuery.data(c.parentNode,"layout");if(e){Y=e;S=c;break}c=c;c=c.parentNode;
if(c.childNodes.length!=1&&!c.wtGetPS)la=false}c=b.parentNode;for(e=0;e<2;++e)s[e].sizeSet=f.pxself(c,s[e].size)!=0}else{Y=jQuery.data(document.getElementById(K),"layout");S=b;Z[0]=ba(S,0);Z[1]=ba(S,1)}}if(N||da){c=ja?b.parentNode:null;qa(a,b,c)}if(a==1)N=da=false}};this.setMaxSize=function(a,b){s[0].maxSize=a;s[1].maxSize=b};this.apply=function(a){var b=f.getElement(E);if(!b)return false;if(f.isHidden(b))return true;ta(a,b);return true};this.contains=function(a){var b=f.getElement(E);a=f.getElement(a.getId());
return b&&a?f.contains(b,a):false};this.WT=f});
WT_DECLARE_APP_MEMBER(1,JavaScriptObject,"layouts2",new (function(){var F=[],E=false,K=this,T=false;this.find=function(q){return(q=document.getElementById(q))?jQuery.data(q,"layout"):null};this.setDirty=function(q){if(q=this.find(q)){q.setDirty();K.scheduleAdjust()}};this.setElementDirty=function(q){var D=q;for(q=q.parentNode;q&&q!=document.body;){var y=jQuery.data(q,"layout");y&&y.setElDirty(D);D=q;q=q.parentNode}};this.setChildLayoutsDirty=function(q,D){var y,A;y=0;for(A=q.descendants.length;y<
A;++y){var z=q.descendants[y];if(D){var C=q.WT.getElement(z.getId());if(C&&!q.WT.contains(D,C))continue}z.setDirty()}};this.add=function(q){function D(y,A){var z,C;z=0;for(C=y.length;z<C;++z){var x=y[z];if(x.getId()==A.getId()){y[z]=A;A.descendants=x.descendants;return}else if(x.contains(A)){D(x.descendants,A);return}else if(A.contains(x)){A.descendants.push(x);y.splice(z,1);--z;--C}}y.push(A)}D(F,q);K.scheduleAdjust()};var U=false,V=0;this.scheduleAdjust=function(q){if(q)T=true;if(!U){if(E)++V;else V=
0;if(!(V>=6)){U=true;setTimeout(function(){K.adjust()},0)}}};this.adjust=function(q,D){function y(z,C){var x,M;x=0;for(M=z.length;x<M;++x){var G=z[x];y(G.descendants,C);if(C==1&&T)G.setDirty();else C==0&&G.setAllDirty();G.measure(C)}}function A(z,C){var x,M;x=0;for(M=z.length;x<M;++x){var G=z[x];if(G.apply(C))A(G.descendants,C);else{z.splice(x,1);--x;--M}}}if(q){(q=this.find(q))&&q.setItemsDirty(D);K.scheduleAdjust()}else{U=false;if(!E){E=true;y(F,0);A(F,0);y(F,1);A(F,1);T=E=false}}};this.updateConfig=
function(q,D){(q=this.find(q))&&q.setConfig(D)};this.adjustNow=function(){U&&K.adjust()};var aa=null;window.onresize=function(){clearTimeout(aa);aa=setTimeout(function(){aa=null;K.scheduleAdjust(true)},20)};window.onshow=function(){T=true;K.adjust()}}));
