WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WLineEdit",(function(t,e,a,n,r,c,i,s){var l="a".charCodeAt(0),u="f".charCodeAt(0),o="z".charCodeAt(0),d="A".charCodeAt(0),v="F".charCodeAt(0),h="Z".charCodeAt(0),f="-".charCodeAt(0),g="+".charCodeAt(0),A="0".charCodeAt(0),D="1".charCodeAt(0),C="9".charCodeAt(0);e.wtLObj=this;var b=this,E=t.WT,p=$(e);function w(){p.trigger("input")}function R(){if(""===a)return e.value;var t=e.value,n="",r="",c=0,s=0;for(c=0;c<t.length;c++){(r=t.charAt(c))!==i&&"_"!==a.charAt(c)&&(s+=1);r===i&&"_"!==a.charAt(c)||(n+=r)}return s>0?n:""}this.getValue=R;this.setValue=function(t){r=t;if(""!==a)if(1&s||E.hasFocus(e)){var c=E.getSelectionRange(e),i=-1;e.value=n;for(var l=0,u=0,o="";l<t.length;l++){o=t.charAt(l);c.start===c.end&&c.start===l&&(i=u);u=T(o,u,!0)}E.hasFocus(e)&&(-1!==i?k(i):0==t.length&&k(0))}else e.value=this.getValue();else e.value=t};this.setInputMask=function(t,e,r,s,l){a=t;n=e;c=s;i=l;b.setValue(r)};""!==a&&this.setInputMask(a,n,r,c,i);function S(t){return"_"===a.charAt(t)}function k(t){E.setSelectionRange(e,t,t+1)}function y(t){for(;S(t);)t++;k(t);return t}function L(t){for(;t>0&&S(t);)t--;k(t);return t}function O(t,e){if(e>=a.length)return!1;switch(a.charAt(e)){case"a":case"A":return t>=l&&t<=o||t>=d&&t<=h;case"n":case"N":return t>=l&&t<=o||t>=d&&t<=h||t>=A&&t<=C;case"X":case"x":return!0;case"0":case"9":return t>=A&&t<=C;case"d":case"D":return t>=D&&t<=C;case"#":return t>=A&&t<=C||t===f||t===g;case"h":case"H":return t>=d&&t<=v||t>=A&&t<=C||t>=l&&t<=u;case"b":case"B":return t===A||t===D}return!1}function V(t){var a=e.value.substring(0,t.start),r=e.value.substring(t.end),c=n.substring(t.start,t.end);e.value=a+c+r;E.setSelectionRange(e,t.start,t.start)}function T(t,r,i){var s=r,l=s;if(!i&&n.charAt(s)!==t&&!O(t.charCodeAt(0),s)&&s-1>=0&&n.charAt(s-1)===t)return s;for(;n.charAt(s)!==t&&!O(t.charCodeAt(0),s)&&s<a.length;)s++;if(s===a.length)return l;var u=e.value.substring(0,s),o=e.value.substring(s+1);n.charAt(s)!==t&&(">"===c.charAt(s)?t=t.toUpperCase():"<"===c.charAt(s)&&(t=t.toLowerCase()));e.value=u+t+o;return++s}this.keyDown=function(t,n){if(""!==a&&!e.readOnly){var r,c=R();switch(n.keyCode){case 39:E.cancelEvent(n,E.CancelDefaultAction);(r=E.getSelectionRange(e)).end-r.start<=1?y(r.start+1):E.setSelectionRange(e,r.end,r.end);break;case 37:E.cancelEvent(n,E.CancelDefaultAction);(r=E.getSelectionRange(e)).end-r.start<=1?L(r.start-1):E.setSelectionRange(e,r.start,r.start);break;case 36:E.cancelEvent(n,E.CancelDefaultAction);y(0);break;case 35:E.cancelEvent(n,E.CancelDefaultAction);E.setSelectionRange(e,a.length,a.length);break;case 46:E.cancelEvent(n,E.CancelDefaultAction);if((r=E.getSelectionRange(e)).end-r.start<=1){if((u=r.start)<a.length&&!S(u)){var s=e.value.substring(0,u),l=e.value.substring(u+1);e.value=s+i+l;E.setSelectionRange(e,u,u)}}else V(r);break;case 8:E.cancelEvent(n,E.CancelDefaultAction);if((r=E.getSelectionRange(e)).end-r.start<=1){var u;if((u=r.start-1)>=0&&!S(u=L(u))){s=e.value.substring(0,u),l=e.value.substring(u+1);e.value=s+i+l;k(u)}}else V(r)}c!==R()&&w()}};this.keyPressed=function(t,n){if(""!==a&&!e.readOnly){var r=R(),c=n.charCode||n.keyCode;if(0!==c&&13!==c&&10!==c){E.cancelEvent(n,E.CancelDefaultAction);var i=E.getSelectionRange(e);i.start<i.end&&V(i);y(T(String.fromCharCode(c),i.start));r!==R()&&w()}}};var _=this.getValue();this.focussed=function(t,n){if(!(""===a||e.readOnly||1&s)){_=this.getValue();setTimeout((function(){b.setValue(r)}),0)}};this.blurred=function(t,n){if(!(""===a||e.readOnly||1&s)){r=e.value;e.value=this.getValue();e.value!==_&&p.change()}};this.clicked=function(t,n){if(""!==a&&!e.readOnly){var r=E.getSelectionRange(e);r.start===r.end&&k(r.start)}};function x(t){if(""!==a&&!e.readOnly){E.cancelEvent(t,E.CancelDefaultAction);var n=R(),r=E.getSelectionRange(e);r.start!==r.end&&V(r);var c=void 0;if(window.clipboardData&&window.clipboardData.getData)c=window.clipboardData.getData("Text");else{if(!t.clipboardData||!t.clipboardData.getData){e.value!==n&&w();return}c=t.clipboardData.getData("text/plain")}e.value;for(var i=0,s=r.start;i<c.length;i++)s=T(c.charAt(i),s,!0);y(s);n!==R()&&w()}}e.addEventListener?e.addEventListener("paste",x,!1):e.attachEvent&&e.attachEvent("onpaste",x);function F(t){if(""!==a&&!e.readOnly){E.cancelEvent(t,E.CancelDefaultAction);var n=R(),r=E.getSelectionRange(e);if(r.start!==r.end){var c=e.value.substring(r.start,r.end);window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",c):t.clipboardData&&t.clipboardData.setData&&t.clipboardData.setData("text/plain",c);V(r)}n!==R()&&w()}}e.addEventListener?e.addEventListener("cut",F,!1):e.attachEvent&&e.attachEvent("oncut",F);function M(t){if(""!==a&&!e.readOnly&&""===e.value){e.value=n;y(0)}}e.addEventListener?e.addEventListener("input",M,!1):e.attachEvent&&e.attachEvent("oninput",M);e.wtEncodeValue=function(){return""===a||1&s||E.hasFocus(e)?e.value:r}}));