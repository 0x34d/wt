WT_DECLARE_WT_MEMBER(1,"WGLWidget",function(n,j){jQuery.data(j,"obj",this);var f=n.WT,g=null,e=null,k=null,l=0,m=0,d=null;this.setLookAtParams=function(a,b,c,h,i){d=a;e=b;k=c;l=h;m=i};this.mouseDragLookAt=function(a,b){var c=f.pageCoordinates(b),h=c.x-g.x,i=c.y-g.y;console.log("mouseDragLookAt: "+h+","+i);console.log("mouseDragLookAt: "+mat4.str(d));a.mouseDownCoordinates=c;a=vec3.create();a[0]=d[0];a[1]=d[4];a[2]=d[8];c=mat4.create();mat4.identity(c);mat4.translate(c,e);mat4.rotate(c,i*l,a);mat4.rotate(c,
h*m,k);vec3.negate(e);mat4.translate(c,e);vec3.negate(e);mat4.multiply(d,c,d);console.log("mouseDragLookAt after: "+mat4.str(d));console.log("mouseDragLookAt: repaint");ctx.paintGl();g=f.pageCoordinates(b)};this.mouseWheelLookAt=function(a,b){a=f.wheelDelta(b);b=Math.pow(1.2,a);console.log("mouseWheelLookAt: "+a);mat4.translate(d,e);mat4.scale(d,[b,b,b]);vec3.negate(e);mat4.translate(d,e);vec3.negate(e);console.log("mouseWheelLookAt: repaint");ctx.paintGl()};this.mouseDown=function(a,b){f.capture(null);
f.capture(j);g=f.pageCoordinates(b)};this.mouseUp=function(){if(g!=null)g=null}});
