WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WPopupWidget",(function(n,t,i,e,o){t.wtPopup=this;var u=this,c=n.WT,s=null,d=i,l=e,h=null,r=null,a=null;function f(){if(c.isIOS){$(document).bind("touchstart",p);$(document).bind("touchend",m)}else $(document).bind("click",y)}function p(n){var t=n.originalEvent.touches;h=t.length>1?null:{x:t[0].screenX,y:t[0].screenY}}function m(n){if(h){var t=n.originalEvent.changedTouches[0];Math.abs(h.x-t.screenX)<20&&Math.abs(h.y-t.screenY)<20&&y(n)}}function y(n){var i=c.target(n);i==document&&null!==c.WPopupWidget.popupClicked&&(i=c.WPopupWidget.popupClicked);(function(n,t){if(n==t)return!0;for(t=t.parentNode;t;t=t.parentNode)if(n==t)return!0;return!1})(t,i)||u.hide()}this.bindShow=function(n){r=n};this.bindHide=function(n){a=n};this.shown=function(n){d&&setTimeout((function(){f()}),0);r&&r()};this.show=function(i,e){if(""!=t.style.display){t.style.display="";i&&c.positionAtWidget(t.id,i.id,e);n.emit(t,"shown")}};this.hidden=function(){a&&a();d&&function(){if(c.isIOS){$(document).unbind("touchstart",p);$(document).unbind("touchend",m)}else $(document).unbind("click",y)}()};this.hide=function(){"none"!=t.style.display&&(t.style.display="none");n.emit(t,"hidden");u.hidden()};this.setTransient=function(n,i){l=i;(d=n)&&"hidden"!=t.style.display&&setTimeout((function(){f()}),0)};$(t).mouseleave((function(){clearTimeout(s);l>0&&(s=setTimeout((function(){u.hide()}),l))})).mouseenter((function(){clearTimeout(s)}));o&&this.shown()}));