WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WPopupWidget",(function(e,n,t,i,o){n.wtPopup=this;var s=this,u=e.WT,d=null,c=t,r=i,l=null,a=null,h=null;function f(){if(u.isIOS){document.addEventListener("touchstart",p);document.addEventListener("touchend",m)}else document.addEventListener("click",v)}function p(e){var n=e.originalEvent.touches;l=n.length>1?null:{x:n[0].screenX,y:n[0].screenY}}function m(e){if(l){var n=e.originalEvent.changedTouches[0];Math.abs(l.x-n.screenX)<20&&Math.abs(l.y-n.screenY)<20&&v(e)}}function v(e){var t=u.target(e);t==document&&null!==u.WPopupWidget.popupClicked&&(t=u.WPopupWidget.popupClicked);(function(e,n){if(e==n)return!0;for(n=n.parentNode;n;n=n.parentNode)if(e==n)return!0;return!1})(n,t)||s.hide()}this.bindShow=function(e){a=e};this.bindHide=function(e){h=e};this.shown=function(e){c&&setTimeout((function(){f()}),0);a&&a()};this.show=function(t,i){if(""!=n.style.display){n.style.display="";t&&u.positionAtWidget(n.id,t.id,i);e.emit(n,"shown")}};this.hidden=function(){h&&h();c&&function(){if(u.isIOS){document.removeEventListener("touchstart",p);document.removeEventListener("touchend",m)}else document.removeEventListener("click",v)}()};this.hide=function(){"none"!=n.style.display&&(n.style.display="none");e.emit(n,"hidden");s.hidden()};this.setTransient=function(e,t){r=t;(c=e)&&"hidden"!=n.style.display&&setTimeout((function(){f()}),0)};n.addEventListener("mouseleave",(function(){clearTimeout(d);r>0&&(d=setTimeout((function(){s.hide()}),r))}));n.addEventListener("mouseenter",(function(){clearTimeout(d)}));o&&this.shown()}));