WT_DECLARE_WT_MEMBER(1,"ctor.WSpinBox",function(t,c,j,k,e,f,g,h){function l(){var a=c.value;if(a.substr(0,k.length)==k){a=a.substr(k.length);if(a.length>e.length&&a.substr(a.length-e.length,e.length)==e){a=a.substr(0,a.length-e.length);return Number(a)}}return null}function o(a){if(a>g)a=g;else if(a<f)a=f;c.value=k+a.toFixed(j)+e;m=true}function p(){var a=l();if(a!==null){a+=h;o(a)}}function q(){var a=l();if(a!==null){a-=h;o(a)}}jQuery.data(c,"obj",this);var d=t.WT,n=$(c),i=null,r,m=false,s=null;
this.update=function(a,b,u,v){f=a;g=b;h=u;j=v;s=new (j==0?d.WIntValidator:d.WDoubleValidator)(true,f,g,"Must be a number","Must be a number","The number must be at least "+f,"The number may be at most "+g)};this.mouseOut=function(){n.removeClass("Wt-spinbox-dn").removeClass("Wt-spinbox-up")};this.mouseMove=function(a,b){if(i){a=d.pageCoordinates(b).y-i.y;b=r;if(b!==null){b-=a*h;o(b)}}else{a=d.widgetCoordinates(c,b);n.removeClass("Wt-spinbox-dn").removeClass("Wt-spinbox-up");if(a.x>c.offsetWidth-16){b=
c.offsetHeight/2;if(a.y>=b-1&&a.y<=b+1)c.style.cursor="crosshair";else{c.style.cursor="default";a.y<b-1?n.addClass("Wt-spinbox-up"):n.addClass("Wt-spinbox-dn")}}else c.style.cursor=""}};this.mouseDown=function(a,b){if(c.style.cursor=="crosshair"){d.capture(null);d.capture(c);i=d.pageCoordinates(b);r=l()}else{a=d.widgetCoordinates(c,b);if(a.x>c.offsetWidth-16){d.cancelEvent(b);d.capture(c);a.y<c.offsetHeight/2?d.eventRepeat(function(){p()}):d.eventRepeat(function(){q()})}}};this.mouseUp=function(a){if(m||
i!=null){i=null;a.onchange()}d.stopRepeat()};this.keyDown=function(a,b){if(b.keyCode==40)d.eventRepeat(function(){q()});else b.keyCode==38&&d.eventRepeat(function(){p()})};this.keyUp=function(a){if(m){m=false;a.onchange()}d.stopRepeat()};this.validate=function(){var a=l();if(a===null)a="a";return s.validate(a)};this.update(f,g,h,j)});
