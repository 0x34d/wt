WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WSpinBox",function(u,c,k,l,e,f,g,h){function i(){return c.getAttribute("readonly")!==null}function m(){var a=c.value;if(a.substr(0,l.length)==l){a=a.substr(l.length);if(a.length>e.length&&a.substr(a.length-e.length,e.length)==e){a=a.substr(0,a.length-e.length);return Number(a)}}return null}function p(a){if(a>g)a=g;else if(a<f)a=f;c.value=l+a.toFixed(k)+e;n=true}function q(){var a=m();if(a!==null){a+=h;p(a)}}function r(){var a=m();if(a!==null){a-=h;p(a)}}
jQuery.data(c,"obj",this);var d=u.WT,o=$(c),j=null,s,n=false,t=null;this.update=function(a,b,v,w){f=a;g=b;h=v;k=w;t=new (k==0?d.WIntValidator:d.WDoubleValidator)(true,f,g,"Must be a number","Must be a number","The number must be at least "+f,"The number may be at most "+g)};this.mouseOut=function(){o.removeClass("Wt-spinbox-dn").removeClass("Wt-spinbox-up")};this.mouseMove=function(a,b){if(!i())if(j){a=d.pageCoordinates(b).y-j.y;b=s;if(b!==null){b-=a*h;p(b)}}else{a=d.widgetCoordinates(c,b);o.removeClass("Wt-spinbox-dn").removeClass("Wt-spinbox-up");
if(a.x>c.offsetWidth-16){b=c.offsetHeight/2;if(a.y>=b-1&&a.y<=b+1)c.style.cursor="crosshair";else{c.style.cursor="default";a.y<b-1?o.addClass("Wt-spinbox-up"):o.addClass("Wt-spinbox-dn")}}else c.style.cursor=""}};this.mouseDown=function(a,b){if(!i())if(c.style.cursor=="crosshair"){d.capture(null);d.capture(c);j=d.pageCoordinates(b);s=m()}else{a=d.widgetCoordinates(c,b);if(a.x>c.offsetWidth-16){d.cancelEvent(b);d.capture(c);a.y<c.offsetHeight/2?d.eventRepeat(function(){q()}):d.eventRepeat(function(){r()})}}};
this.mouseUp=function(a){if(!i()){if(n||j!=null){j=null;a.onchange()}d.stopRepeat()}};this.keyDown=function(a,b){if(!i())if(b.keyCode==40)d.eventRepeat(function(){r()});else b.keyCode==38&&d.eventRepeat(function(){q()})};this.keyUp=function(a){if(!i()){if(n){n=false;a.onchange()}d.stopRepeat()}};this.validate=function(){var a=m();if(a===null)a="a";return t.validate(a)};this.update(f,g,h,k)});
