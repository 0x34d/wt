WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WSpinBox",(function(e,t,s,n,i,a,o,l,r,u){var f="Must be a number",c="The number must be at least ",h="The number may be at most ",d="dn",v="up",p="unselectable";t.wtObj=this;var g,y=this,b=e.WT,m="crosshair",L=null,W=!1,x=null,C=!1,R=!1;function w(){return t.readOnly}function j(){var e=t.wtLObj,s="";void 0!==e?""===(s=e.getValue())&&(s=n+"0"+i):s=t.value;if(s.substr(0,n.length)==n&&(s=s.substr(n.length)).length>i.length&&s.substr(s.length-i.length,i.length)==i){s=s.substr(0,s.length-i.length);u&&(s=s.split(u).join(""));s=s.replace(r,".");return Number(s)}return null}function E(e){var l=t.wtLObj;if(e>o)if(R){range=o-a;e=a+(e-a)%(range+1)}else e=o;else if(e<a)if(R){range=o-a;e=o-(Math.abs(e-a)-1)%(range+1)}else e=a;var f=e.toFixed(s),c=(f=f.replace(".",r)).indexOf(r),h="";if(-1!==c){for(var d=0;d<c;d++){h+=f.charAt(d);d<c-1&&(c-d-1)%3==0&&(h+=u)}h+=f.substr(c)}else h=f;var v=t.value;void 0!==l?l.setValue(n+h+i):t.value=n+h+i;W=!0;y.jsValueChanged(v,e)}function V(){var e=j();null!==e&&E(e+=l)}function D(){var e=j();null!==e&&E(e-=l)}this.setIsDoubleSpinBox=function(e){C=e;this.configure(s,n,i,a,o,l)};this.setWrapAroundEnabled=function(e){R=e};this.configure=function(e,t,r,u,d,v){s=e;n=t;i=r;a=u;o=d;l=v;var p=C||void 0===b.WIntValidator;x=p?new b.WDoubleValidator(!0,!1,a,o,".","",f,f,c+a,h+o):new b.WIntValidator(!0,a,o,"",f,f,c+a,h+o)};this.mouseOut=function(e,s){t.classList.remove(d,v)};this.mouseMove=function(e,s){if(!w())if(L){var n=b.pageCoordinates(s).y-L.y,i=g;null!==i&&E(i-=n*l)}else{var a=b.widgetCoordinates(t,s);(t.classList.contains(d)||t.classList.contains(v))&&t.classList.remove(d,v);var o=-1;"object"==typeof b.theme&&"bootstrap"===b.theme.type&&(o=b.theme.version);if(o>=4&&a.x>t.offsetWidth-30&&a.x<t.offsetWidth-10){var r=t.offsetHeight/2;if(a.y>=r-3&&a.y<=r+3)t.style.cursor=m;else{t.style.cursor="default";a.y<r-1?t.classList.add(v):t.classList.add(d)}}else if(o<4&&a.x>t.offsetWidth-22){r=t.offsetHeight/2;if(a.y>=r-3&&a.y<=r+3)t.style.cursor=m;else{t.style.cursor="default";a.y<r-1?t.classList.add(v):t.classList.add(d)}}else""!=t.style.cursor&&(t.style.cursor="")}};this.mouseDown=function(e,s){b.capture(null);if(!w())if(t.style.cursor==m){b.capture(null);b.capture(t);t.classList.add(p);L=b.pageCoordinates(s);g=j()}else{var n=b.widgetCoordinates(t,s),i=-1;"object"==typeof b.theme&&"bootstrap"===b.theme.type&&(i=b.theme.version);if(i>=5&&n.x>t.offsetWidth-30&&n.x<t.offsetWidth-10){b.cancelEvent(s);b.capture(t);t.classList.add(p);var a=t.offsetHeight/2;n.y<a?b.eventRepeat((function(){V()})):b.eventRepeat((function(){D()}))}else if(i<4&&n.x>t.offsetWidth-22){b.cancelEvent(s);b.capture(t);t.classList.add(p);a=t.offsetHeight/2;n.y<a?b.eventRepeat((function(){V()})):b.eventRepeat((function(){D()}))}}};this.mouseUp=function(e,s){t.classList.remove(p);if(!w()){if(W||null!=L){L=null;W=!1;e.onchange()}b.stopRepeat()}};this.keyDown=function(e,t){w()||(40==t.keyCode?b.eventRepeat((function(){D()})):38==t.keyCode&&b.eventRepeat((function(){V()})))};this.keyUp=function(e,t){if(!w()){if(W){W=!1;e.onchange()}b.stopRepeat()}};this.setLocale=function(e,t){r=e;u=t};this.validate=function(e){var t=j();null===t&&(t="a");return x.validate(t)};this.jsValueChanged=function(){};this.setIsDoubleSpinBox(C)}));