WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WSpinBox",function(k,s,y,v,c,o,B,g,m,D){var H=0;var x=1;var r="Must be a number";var G="The number must be at least ";var w="The number may be at most ";var l="dn";var u="up";var j="unselectable";jQuery.data(s,"obj",this);var q=this,z=k.WT,i=38,C=40,e="crosshair",A=$(s);var F=null,E,f=false;var d=null;function n(){return !!s.getAttribute("readonly")}function t(J){var I="";for(var K=0;K<J.length();K++){I+=J.charAt(K)}}function b(){var I=s.value;if(I.substr(0,v.length)==v){I=I.substr(v.length);if(I.length>c.length&&I.substr(I.length-c.length,c.length)==c){I=I.substr(0,I.length-c.length);if(D){I=I.split(D).join("")}I=I.replace(m,".");return Number(I)}}return null}function a(J){if(J>B){J=B}else{if(J<o){J=o}}var M=J.toFixed(y);M=M.replace(".",m);var L=M.indexOf(m);var I="";if(L!==-1){for(var K=0;K<L;K++){I+=M.charAt(K);if(K<L-1&&((L-K-1)%3===0)){I+=D}}I+=M.substr(L)}else{I=M}s.value=v+I+c;f=true}function h(){var I=b();if(I!==null){I+=g;a(I)}}function p(){var I=b();if(I!==null){I-=g;a(I)}}this.update=function(M,J,I,K){o=M;B=J;g=I;y=K;var L=y==0?z.WIntValidator:z.WDoubleValidator;d=new L(true,o,B,r,r,G+o,w+B)};this.mouseOut=function(J,I){A.removeClass(l).removeClass(u)};this.mouseMove=function(N,L){if(n()){return}if(!F){var M=z.widgetCoordinates(s,L);if(A.hasClass(l)||A.hasClass(u)){A.removeClass(l).removeClass(u)}if(M.x>s.offsetWidth-16){var K=s.offsetHeight/2;if(M.y>=K-1&&M.y<=K+1){s.style.cursor=e}else{s.style.cursor="default";if(M.y<K-1){A.addClass(u)}else{A.addClass(l)}}}else{if(s.style.cursor!=""){s.style.cursor=""}}}else{var I=z.pageCoordinates(L).y-F.y;var J=E;if(J!==null){J=J-I*g;a(J)}}};this.mouseDown=function(L,J){z.capture(null);if(n()){return}if(s.style.cursor==e){z.capture(null);z.capture(s);A.addClass(j);F=z.pageCoordinates(J);E=b()}else{var K=z.widgetCoordinates(s,J);if(K.x>s.offsetWidth-16){z.cancelEvent(J);z.capture(s);A.addClass(j);var I=s.offsetHeight/2;if(K.y<I){z.eventRepeat(function(){h()})}else{z.eventRepeat(function(){p()})}}}};this.mouseUp=function(J,I){A.removeClass(j);if(n()){return}if(f||F!=null){F=null;J.onchange()}z.stopRepeat()};this.keyDown=function(J,I){if(n()){return}if(I.keyCode==C){z.eventRepeat(function(){p()})}else{if(I.keyCode==i){z.eventRepeat(function(){h()})}}};this.keyUp=function(J,I){if(n()){return}if(f){f=false;J.onchange()}z.stopRepeat()};this.setLocale=function(I,J){m=I;D=J};this.validate=function(J){var I=b();if(I===null){I="a"}return d.validate(I)};this.update(o,B,g,y)});