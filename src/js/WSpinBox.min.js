WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WSpinBox",function(A,c,p,k,f,h,i,l,q,r){function m(){return!!c.getAttribute("readonly")}function s(){var a=e.data("lobj"),b="";if(a!==undefined){b=a.getValue();if(b==="")b=k+"0"+f}else b=c.value;if(b.substr(0,k.length)==k){b=b.substr(k.length);if(b.length>f.length&&b.substr(b.length-f.length,f.length)==f){b=b.substr(0,b.length-f.length);if(r)b=b.split(r).join("");b=b.replace(q,".");return Number(b)}}return null}function u(a){var b=e.data("lobj");if(a>
i)a=i;else if(a<h)a=h;a=a.toFixed(p);a=a.replace(".",q);var j=a.indexOf(q),g="";if(j!==-1){for(var n=0;n<j;n++){g+=a.charAt(n);if(n<j-1&&(j-n-1)%3===0)g+=r}g+=a.substr(j)}else g=a;if(b!==undefined)b.setValue(k+g+f);else c.value=k+g+f;t=true}function v(){var a=s();if(a!==null){a+=l;u(a)}}function w(){var a=s();if(a!==null){a-=l;u(a)}}jQuery.data(c,"obj",this);var d=A.WT,e=$(c),o=null,x,t=false,y=null,z=false;this.setIsDoubleSpinBox=function(a){z=a;this.update(h,i,l,p)};this.update=function(a,b,j,g){h=
a;i=b;l=j;p=g;y=new (z?d.WDoubleValidator:d.WIntValidator)(true,h,i,"Must be a number","Must be a number","The number must be at least "+h,"The number may be at most "+i)};this.mouseOut=function(){e.removeClass("dn").removeClass("up")};this.mouseMove=function(a,b){if(!m())if(o){a=d.pageCoordinates(b).y-o.y;b=x;if(b!==null){b-=a*l;u(b)}}else{a=d.widgetCoordinates(c,b);if(e.hasClass("dn")||e.hasClass("up"))e.removeClass("dn").removeClass("up");if(a.x>c.offsetWidth-16){b=c.offsetHeight/2;if(a.y>=b-1&&
a.y<=b+1)c.style.cursor="crosshair";else{c.style.cursor="default";a.y<b-1?e.addClass("up"):e.addClass("dn")}}else if(c.style.cursor!="")c.style.cursor=""}};this.mouseDown=function(a,b){d.capture(null);if(!m())if(c.style.cursor=="crosshair"){d.capture(null);d.capture(c);e.addClass("unselectable");o=d.pageCoordinates(b);x=s()}else{a=d.widgetCoordinates(c,b);if(a.x>c.offsetWidth-16){d.cancelEvent(b);d.capture(c);e.addClass("unselectable");a.y<c.offsetHeight/2?d.eventRepeat(function(){v()}):d.eventRepeat(function(){w()})}}};
this.mouseUp=function(a){e.removeClass("unselectable");if(!m()){if(t||o!=null){o=null;a.onchange()}d.stopRepeat()}};this.keyDown=function(a,b){if(!m())if(b.keyCode==40)d.eventRepeat(function(){w()});else b.keyCode==38&&d.eventRepeat(function(){v()})};this.keyUp=function(a){if(!m()){if(t){t=false;a.onchange()}d.stopRepeat()}};this.setLocale=function(a,b){q=a;r=b};this.validate=function(){var a=s();if(a===null)a="a";return y.validate(a)};this.update(h,i,l,p)});
